"use strict";(self.webpackChunktodo_list=self.webpackChunktodo_list||[]).push([[179],{6304:(lt,Ie,O)=>{O.d(Ie,{Dh:()=>Me,GT:()=>de,cc:()=>Te,hO:()=>ke,on:()=>U,pX:()=>re,xv:()=>fe});var h=O(5879),J=O(120),k=O(2793);lt=O.hmd(lt);const ee=["ngOnDestroy"],re=(Re,vt,ht,ie={})=>new Proxy(Re,{get:(we,te)=>ht.runOutsideAngular(()=>{var be;if(Re[te])return!(null===(be=ie?.spy)||void 0===be)&&be.get&&ie.spy.get(te,Re[te]),Re[te];if(ee.indexOf(te)>-1)return()=>{};const Ne=vt.toPromise().then(We=>{const B=We&&We[te];return"function"==typeof B?B.bind(We):B&&B.then?B.then(he=>ht.run(()=>he)):ht.run(()=>B)});return new Proxy(()=>{},{get:(We,B)=>Ne[B],apply:(We,B,he)=>Ne.then(_e=>{var He;const nt=_e&&_e(...he);return!(null===(He=ie?.spy)||void 0===He)&&He.apply&&ie.spy.apply(te,he,nt),nt})})})}),de=(Re,vt)=>{vt.forEach(ht=>{Object.getOwnPropertyNames(ht.prototype||ht).forEach(ie=>{Object.defineProperty(Re.prototype,ie,Object.getOwnPropertyDescriptor(ht.prototype||ht,ie))})})};class ge{constructor(vt){return vt}}const Me=new h.OlP("angularfire2.app.options"),fe=new h.OlP("angularfire2.app.name");function U(Re,vt,ht){const we="object"==typeof ht&&ht||{};we.name=we.name||"string"==typeof ht&&ht||"[DEFAULT]";const be=J.Z.apps.filter(Ne=>Ne&&Ne.name===we.name)[0]||vt.runOutsideAngular(()=>J.Z.initializeApp(Re,we));try{JSON.stringify(Re)!==JSON.stringify(be.options)&&z("error",`${be.name} Firebase App already initialized with different options${lt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ge(be)}const z=(Re,...vt)=>{(0,h.X6Q)()&&typeof console<"u"&&console[Re](...vt)},Q={provide:ge,useFactory:U,deps:[Me,h.R0b,[new h.FiY,fe]]};let ke=(()=>{class Re{constructor(ht){J.Z.registerVersion("angularfire",k.q4.full,"core"),J.Z.registerVersion("angularfire",k.q4.full,"app-compat"),J.Z.registerVersion("angular",h.q4F.full,ht.toString())}static initializeApp(ht,ie){return{ngModule:Re,providers:[{provide:Me,useValue:ht},{provide:fe,useValue:ie}]}}}return Re.\u0275fac=function(ht){return new(ht||Re)(h.LFG(h.Lbi))},Re.\u0275mod=h.oAB({type:Re}),Re.\u0275inj=h.cJS({providers:[Q]}),Re})();function Te(Re,vt,ht,ie,we){const[,te,be]=globalThis.\u0275AngularfireInstanceCache.find(Ne=>Ne[0]===Re)||[];if(te)return function Ke(Re,vt){try{return Re.toString()===vt.toString()}catch{return Re===vt}}(we,be)||($e("error",`${vt} was already initialized on the ${ht} Firebase App with different settings.${xe?" You may need to reload as Firebase is not HMR aware.":""}`),$e("warn",{is:we,was:be})),te;{const Ne=ie();return globalThis.\u0275AngularfireInstanceCache.push([Re,Ne,we]),Ne}}const xe=!!lt.hot,$e=(Re,...vt)=>{(0,h.X6Q)()&&typeof console<"u"&&console[Re](...vt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2793:(lt,Ie,O)=>{O.d(Ie,{q4:()=>gd,iC:()=>za,HU:()=>yd,vb:()=>kl,JM:()=>tg,u3:()=>yr});var h=O(5879),J=O(4097),k=O(5861),ee=O(534),re=O(9058),de=O(4537),ge=O(7879);const Me=(b,D)=>D.some(x=>b instanceof x);let fe,U;const ke=new WeakMap,Te=new WeakMap,Ke=new WeakMap,xe=new WeakMap,$e=new WeakMap;let ht={get(b,D,x){if(b instanceof IDBTransaction){if("done"===D)return Te.get(b);if("objectStoreNames"===D)return b.objectStoreNames||Ke.get(b);if("store"===D)return x.objectStoreNames[1]?void 0:x.objectStore(x.objectStoreNames[0])}return be(b[D])},set:(b,D,x)=>(b[D]=x,!0),has:(b,D)=>b instanceof IDBTransaction&&("done"===D||"store"===D)||D in b};function te(b){return"function"==typeof b?function we(b){return b!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Q(){return U||(U=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(b)?function(...D){return b.apply(Ne(this),D),be(ke.get(this))}:function(...D){return be(b.apply(Ne(this),D))}:function(D,...x){const P=b.call(Ne(this),D,...x);return Ke.set(P,D.sort?D.sort():[D]),be(P)}}(b):(b instanceof IDBTransaction&&function vt(b){if(Te.has(b))return;const D=new Promise((x,P)=>{const G=()=>{b.removeEventListener("complete",Z),b.removeEventListener("error",ue),b.removeEventListener("abort",ue)},Z=()=>{x(),G()},ue=()=>{P(b.error||new DOMException("AbortError","AbortError")),G()};b.addEventListener("complete",Z),b.addEventListener("error",ue),b.addEventListener("abort",ue)});Te.set(b,D)}(b),Me(b,function z(){return fe||(fe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(b,ht):b)}function be(b){if(b instanceof IDBRequest)return function Re(b){const D=new Promise((x,P)=>{const G=()=>{b.removeEventListener("success",Z),b.removeEventListener("error",ue)},Z=()=>{x(be(b.result)),G()},ue=()=>{P(b.error),G()};b.addEventListener("success",Z),b.addEventListener("error",ue)});return D.then(x=>{x instanceof IDBCursor&&ke.set(x,b)}).catch(()=>{}),$e.set(D,b),D}(b);if(xe.has(b))return xe.get(b);const D=te(b);return D!==b&&(xe.set(b,D),$e.set(D,b)),D}const Ne=b=>$e.get(b),he=["get","getKey","getAll","getAllKeys","count"],_e=["put","add","delete","clear"],He=new Map;function nt(b,D){if(!(b instanceof IDBDatabase)||D in b||"string"!=typeof D)return;if(He.get(D))return He.get(D);const x=D.replace(/FromIndex$/,""),P=D!==x,G=_e.includes(x);if(!(x in(P?IDBIndex:IDBObjectStore).prototype)||!G&&!he.includes(x))return;const Z=function(){var ue=(0,k.Z)(function*(Ue,...Le){const at=this.transaction(Ue,G?"readwrite":"readonly");let At=at.store;return P&&(At=At.index(Le.shift())),(yield Promise.all([At[x](...Le),G&&at.done]))[0]});return function(Le){return ue.apply(this,arguments)}}();return He.set(D,Z),Z}!function ie(b){ht=b(ht)}(b=>({...b,get:(D,x,P)=>nt(D,x)||b.get(D,x,P),has:(D,x)=>!!nt(D,x)||b.has(D,x)}));const Ge="@firebase/installations",yt="0.6.4",cn=1e4,or=`w:${yt}`,Ft="FIS_v2",Rn="https://firebaseinstallations.googleapis.com/v1",Vr=36e5,dn=new re.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function wt(b){return b instanceof re.ZR&&b.code.includes("request-failed")}function qs({projectId:b}){return`${Rn}/projects/${b}/installations`}function Ai(b){return{token:b.token,requestStatus:2,expiresIn:Co(b.expiresIn),creationTime:Date.now()}}function Qi(b,D){return hn.apply(this,arguments)}function hn(){return(hn=(0,k.Z)(function*(b,D){const P=(yield D.json()).error;return dn.create("request-failed",{requestName:b,serverCode:P.code,serverMessage:P.message,serverStatus:P.status})})).apply(this,arguments)}function ol({apiKey:b}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b})}function Ws(b){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,k.Z)(function*(b){const D=yield b();return D.status>=500&&D.status<600?b():D})).apply(this,arguments)}function Co(b){return Number(b.replace("s","000"))}function pi(){return(pi=(0,k.Z)(function*({appConfig:b,heartbeatServiceProvider:D},{fid:x}){const P=qs(b),G=ol(b),Z=D.getImmediate({optional:!0});if(Z){const at=yield Z.getHeartbeatsHeader();at&&G.append("x-firebase-client",at)}const Ue={method:"POST",headers:G,body:JSON.stringify({fid:x,authVersion:Ft,appId:b.appId,sdkVersion:or})},Le=yield Ws(()=>fetch(P,Ue));if(Le.ok){const at=yield Le.json();return{fid:at.fid||x,registrationStatus:2,refreshToken:at.refreshToken,authToken:Ai(at.authToken)}}throw yield Qi("Create Installation",Le)})).apply(this,arguments)}function gi(b){return new Promise(D=>{setTimeout(D,b)})}const uu=/^[cdef][\w-]{21}$/,pt="";function Ht(){try{const b=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(b),b[0]=112+b[0]%16;const x=function Rt(b){return function Ks(b){return btoa(String.fromCharCode(...b)).replace(/\+/g,"-").replace(/\//g,"_")}(b).substr(0,22)}(b);return uu.test(x)?x:pt}catch{return pt}}function fn(b){return`${b.appName}!${b.appId}`}const Cn=new Map;function Qr(b,D){const x=fn(b);lu(x,D),function tn(b,D){const x=function zt(){return!Jr&&"BroadcastChannel"in self&&(Jr=new BroadcastChannel("[Firebase] FID Change"),Jr.onmessage=b=>{lu(b.data.key,b.data.fid)}),Jr}();x&&x.postMessage({key:b,fid:D}),function Ss(){0===Cn.size&&Jr&&(Jr.close(),Jr=null)}()}(x,D)}function lu(b,D){const x=Cn.get(b);if(x)for(const P of x)P(D)}let Jr=null;const So="firebase-installations-database",Ao=1,xi="firebase-installations-store";let Zs=null;function Ji(){return Zs||(Zs=function We(b,D,{blocked:x,upgrade:P,blocking:G,terminated:Z}={}){const ue=indexedDB.open(b,D),Ue=be(ue);return P&&ue.addEventListener("upgradeneeded",Le=>{P(be(ue.result),Le.oldVersion,Le.newVersion,be(ue.transaction))}),x&&ue.addEventListener("blocked",()=>x()),Ue.then(Le=>{Z&&Le.addEventListener("close",()=>Z()),G&&Le.addEventListener("versionchange",()=>G())}).catch(()=>{}),Ue}(So,Ao,{upgrade:(b,D)=>{0===D&&b.createObjectStore(xi)}})),Zs}function ar(b,D){return ur.apply(this,arguments)}function ur(){return(ur=(0,k.Z)(function*(b,D){const x=fn(b),G=(yield Ji()).transaction(xi,"readwrite"),Z=G.objectStore(xi),ue=yield Z.get(x);return yield Z.put(D,x),yield G.done,(!ue||ue.fid!==D.fid)&&Qr(b,D.fid),D})).apply(this,arguments)}function Xr(b){return qn.apply(this,arguments)}function qn(){return(qn=(0,k.Z)(function*(b){const D=fn(b),P=(yield Ji()).transaction(xi,"readwrite");yield P.objectStore(xi).delete(D),yield P.done})).apply(this,arguments)}function Ni(b,D){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,k.Z)(function*(b,D){const x=fn(b),G=(yield Ji()).transaction(xi,"readwrite"),Z=G.objectStore(xi),ue=yield Z.get(x),Ue=D(ue);return void 0===Ue?yield Z.delete(x):yield Z.put(Ue,x),yield G.done,Ue&&(!ue||ue.fid!==Ue.fid)&&Qr(b,Ue.fid),Ue})).apply(this,arguments)}function $(b){return j.apply(this,arguments)}function j(){return j=(0,k.Z)(function*(b){let D;const x=yield Ni(b.appConfig,P=>{const G=function K(b){return Ot(b||{fid:Ht(),registrationStatus:0})}(P),Z=function Ee(b,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(dn.create("app-offline"))};const x={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},P=function oe(b,D){return Ye.apply(this,arguments)}(b,x);return{installationEntry:x,registrationPromise:P}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:St(b)}:{installationEntry:D}}(b,G);return D=Z.registrationPromise,Z.installationEntry});return x.fid===pt?{installationEntry:yield D}:{installationEntry:x,registrationPromise:D}}),j.apply(this,arguments)}function Ye(){return Ye=(0,k.Z)(function*(b,D){try{const x=yield function To(b,D){return pi.apply(this,arguments)}(b,D);return ar(b.appConfig,x)}catch(x){throw wt(x)&&409===x.customData.serverCode?yield Xr(b.appConfig):yield ar(b.appConfig,{fid:D.fid,registrationStatus:0}),x}}),Ye.apply(this,arguments)}function St(b){return bt.apply(this,arguments)}function bt(){return(bt=(0,k.Z)(function*(b){let D=yield lr(b.appConfig);for(;1===D.registrationStatus;)yield gi(100),D=yield lr(b.appConfig);if(0===D.registrationStatus){const{installationEntry:x,registrationPromise:P}=yield $(b);return P||x}return D})).apply(this,arguments)}function lr(b){return Ni(b,D=>{if(!D)throw dn.create("installation-not-found");return Ot(D)})}function Ot(b){return function On(b){return 1===b.registrationStatus&&b.registrationTime+cn<Date.now()}(b)?{fid:b.fid,registrationStatus:0}:b}function Xn(){return(Xn=(0,k.Z)(function*({appConfig:b,heartbeatServiceProvider:D},x){const P=function hs(b,{fid:D}){return`${qs(b)}/${D}/authTokens:generate`}(b,x),G=function Mi(b,{refreshToken:D}){const x=ol(b);return x.append("Authorization",function Do(b){return`${Ft} ${b}`}(D)),x}(b,x),Z=D.getImmediate({optional:!0});if(Z){const at=yield Z.getHeartbeatsHeader();at&&G.append("x-firebase-client",at)}const Ue={method:"POST",headers:G,body:JSON.stringify({installation:{sdkVersion:or,appId:b.appId}})},Le=yield Ws(()=>fetch(P,Ue));if(Le.ok)return Ai(yield Le.json());throw yield Qi("Generate Auth Token",Le)})).apply(this,arguments)}function As(b){return cu.apply(this,arguments)}function cu(){return cu=(0,k.Z)(function*(b,D=!1){let x;const P=yield Ni(b.appConfig,Z=>{if(!Pt(Z))throw dn.create("not-registered");const ue=Z.authToken;if(!D&&function Jt(b){return 2===b.requestStatus&&!function Wn(b){const D=Date.now();return D<b.creationTime||b.creationTime+b.expiresIn<D+Vr}(b)}(ue))return Z;if(1===ue.requestStatus)return x=function ce(b,D){return ne.apply(this,arguments)}(b,D),Z;{if(!navigator.onLine)throw dn.create("app-offline");const Ue=function Kn(b){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},b),{authToken:D})}(Z);return x=function it(b,D){return qe.apply(this,arguments)}(b,Ue),Ue}});return x?yield x:P.authToken}),cu.apply(this,arguments)}function ne(){return(ne=(0,k.Z)(function*(b,D){let x=yield Se(b.appConfig);for(;1===x.authToken.requestStatus;)yield gi(100),x=yield Se(b.appConfig);const P=x.authToken;return 0===P.requestStatus?As(b,D):P})).apply(this,arguments)}function Se(b){return Ni(b,D=>{if(!Pt(D))throw dn.create("not-registered");return function br(b){return 1===b.requestStatus&&b.requestTime+cn<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function qe(){return qe=(0,k.Z)(function*(b,D){try{const x=yield function qt(b,D){return Xn.apply(this,arguments)}(b,D),P=Object.assign(Object.assign({},D),{authToken:x});return yield ar(b.appConfig,P),x}catch(x){if(!wt(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const P=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield ar(b.appConfig,P)}else yield Xr(b.appConfig);throw x}}),qe.apply(this,arguments)}function Pt(b){return void 0!==b&&2===b.registrationStatus}function Ia(){return(Ia=(0,k.Z)(function*(b){const D=b,{installationEntry:x,registrationPromise:P}=yield $(D);return P?P.catch(console.error):As(D).catch(console.error),x.fid})).apply(this,arguments)}function Mo(){return Mo=(0,k.Z)(function*(b,D=!1){const x=b;return yield function Rc(b){return Oi.apply(this,arguments)}(x),(yield As(x,D)).token}),Mo.apply(this,arguments)}function Oi(){return(Oi=(0,k.Z)(function*(b){const{registrationPromise:D}=yield $(b);D&&(yield D)})).apply(this,arguments)}function Ca(b){return dn.create("missing-app-config-values",{valueName:b})}const Pc="installations",yy=b=>{const D=b.getProvider("app").getImmediate(),x=function ei(b){if(!b||!b.options)throw Ca("App Configuration");if(!b.name)throw Ca("App Name");const D=["projectId","apiKey","appId"];for(const x of D)if(!b.options[x])throw Ca(x);return{appName:b.name,projectId:b.options.projectId,apiKey:b.options.apiKey,appId:b.options.appId}}(D);return{app:D,appConfig:x,heartbeatServiceProvider:(0,ee._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},No=b=>{const D=b.getProvider("app").getImmediate(),x=(0,ee._getProvider)(D,Pc).getImmediate();return{getId:()=>function fs(b){return Ia.apply(this,arguments)}(x),getToken:G=>function Nc(b){return Mo.apply(this,arguments)}(x,G)}};(function Lp(){(0,ee._registerComponent)(new de.wA(Pc,yy,"PUBLIC")),(0,ee._registerComponent)(new de.wA("installations-internal",No,"PRIVATE"))})(),(0,ee.registerVersion)(Ge,yt),(0,ee.registerVersion)(Ge,yt,"esm2017");const du="@firebase/remote-config",Nr=new re.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Et{constructor(D,x,P,G){this.client=D,this.storage=x,this.storageCache=P,this.logger=G}isCachedDataFresh(D,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const P=Date.now()-x,G=P<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${P}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${G}.`),G}fetch(D){var x=this;return(0,k.Z)(function*(){const[P,G]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(G&&x.isCachedDataFresh(D.cacheMaxAgeMillis,P))return G;D.eTag=G&&G.eTag;const Z=yield x.client.fetch(D),ue=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Z.status&&ue.push(x.storage.setLastSuccessfulFetchResponse(Z)),yield Promise.all(ue),Z})()}}function En(b=navigator){return b.languages&&b.languages[0]||b.language}class jr{constructor(D,x,P,G,Z,ue){this.firebaseInstallations=D,this.sdkVersion=x,this.namespace=P,this.projectId=G,this.apiKey=Z,this.appId=ue}fetch(D){var x=this;return(0,k.Z)(function*(){const[P,G]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),ue=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,Ue={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},Le={sdk_version:x.sdkVersion,app_instance_id:P,app_instance_id_token:G,app_id:x.appId,language_code:En()},at={method:"POST",headers:Ue,body:JSON.stringify(Le)},At=fetch(ue,at),kt=new Promise((vi,vs)=>{D.signal.addEventListener(()=>{const vd=new Error("The operation was aborted.");vd.name="AbortError",vs(vd)})});let an;try{yield Promise.race([At,kt]),an=yield At}catch(vi){let vs="fetch-client-network";throw"AbortError"===vi?.name&&(vs="fetch-timeout"),Nr.create(vs,{originalErrorMessage:vi?.message})}let jn=an.status;const Hi=an.headers.get("ETag")||void 0;let Au,ea;if(200===an.status){let vi;try{vi=yield an.json()}catch(vs){throw Nr.create("fetch-client-parse",{originalErrorMessage:vs?.message})}Au=vi.entries,ea=vi.state}if("INSTANCE_STATE_UNSPECIFIED"===ea?jn=500:"NO_CHANGE"===ea?jn=304:("NO_TEMPLATE"===ea||"EMPTY_CONFIG"===ea)&&(Au={}),304!==jn&&200!==jn)throw Nr.create("fetch-status",{httpStatus:jn});return{status:jn,eTag:Hi,config:Au}})()}}class pu{constructor(D,x){this.client=D,this.storage=x}fetch(D){var x=this;return(0,k.Z)(function*(){const P=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(D,P)})()}attemptFetch(D,{throttleEndTimeMillis:x,backoffCount:P}){var G=this;return(0,k.Z)(function*(){yield function Ro(b,D){return new Promise((x,P)=>{const G=Math.max(D-Date.now(),0),Z=setTimeout(x,G);b.addEventListener(()=>{clearTimeout(Z),P(Nr.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,x);try{const Z=yield G.client.fetch(D);return yield G.storage.deleteThrottleMetadata(),Z}catch(Z){if(!function Cr(b){if(!(b instanceof re.ZR&&b.customData))return!1;const D=Number(b.customData.httpStatus);return 429===D||500===D||503===D||504===D}(Z))throw Z;const ue={throttleEndTimeMillis:Date.now()+(0,re.$s)(P),backoffCount:P+1};return yield G.storage.setThrottleMetadata(ue),G.attemptFetch(D,ue)}})()}}class Ta{constructor(D,x,P,G,Z){this.app=D,this._client=x,this._storageCache=P,this._storage=G,this._logger=Z,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Dt(b,D){const x=b.target.error||void 0;return Nr.create(D,{originalErrorMessage:x&&x?.message})}const Dr="app_namespace_store";class Vc{constructor(D,x,P,G=function In(){return new Promise((b,D)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=P=>{D(Dt(P,"storage-open"))},x.onsuccess=P=>{b(P.target.result)},x.onupgradeneeded=P=>{0===P.oldVersion&&P.target.result.createObjectStore(Dr,{keyPath:"compositeKey"})}}catch(x){D(Nr.create("storage-open",{originalErrorMessage:x?.message}))}})}()){this.appId=D,this.appName=x,this.namespace=P,this.openDbPromise=G}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var x=this;return(0,k.Z)(function*(){const P=yield x.openDbPromise;return new Promise((G,Z)=>{const Ue=P.transaction([Dr],"readonly").objectStore(Dr),Le=x.createCompositeKey(D);try{const at=Ue.get(Le);at.onerror=At=>{Z(Dt(At,"storage-get"))},at.onsuccess=At=>{const kt=At.target.result;G(kt?kt.value:void 0)}}catch(at){Z(Nr.create("storage-get",{originalErrorMessage:at?.message}))}})})()}set(D,x){var P=this;return(0,k.Z)(function*(){const G=yield P.openDbPromise;return new Promise((Z,ue)=>{const Le=G.transaction([Dr],"readwrite").objectStore(Dr),at=P.createCompositeKey(D);try{const At=Le.put({compositeKey:at,value:x});At.onerror=kt=>{ue(Dt(kt,"storage-set"))},At.onsuccess=()=>{Z()}}catch(At){ue(Nr.create("storage-set",{originalErrorMessage:At?.message}))}})})()}delete(D){var x=this;return(0,k.Z)(function*(){const P=yield x.openDbPromise;return new Promise((G,Z)=>{const Ue=P.transaction([Dr],"readwrite").objectStore(Dr),Le=x.createCompositeKey(D);try{const at=Ue.delete(Le);at.onerror=At=>{Z(Dt(At,"storage-delete"))},at.onsuccess=()=>{G()}}catch(at){Z(Nr.create("storage-delete",{originalErrorMessage:at?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class Oo{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,k.Z)(function*(){const x=D.storage.getLastFetchStatus(),P=D.storage.getLastSuccessfulFetchTimestampMillis(),G=D.storage.getActiveConfig(),Z=yield x;Z&&(D.lastFetchStatus=Z);const ue=yield P;ue&&(D.lastSuccessfulFetchTimestampMillis=ue);const Ue=yield G;Ue&&(D.activeConfig=Ue)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function Qs(){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,k.Z)(function*(){if(!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}!function cr(){(0,ee._registerComponent)(new de.wA("remote-config",function b(D,{instanceIdentifier:x}){const P=D.getProvider("app").getImmediate(),G=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Nr.create("registration-window");if(!(0,re.hl)())throw Nr.create("indexed-db-unavailable");const{projectId:Z,apiKey:ue,appId:Ue}=P.options;if(!Z)throw Nr.create("registration-project-id");if(!ue)throw Nr.create("registration-api-key");if(!Ue)throw Nr.create("registration-app-id");const Le=new Vc(Ue,P.name,x=x||"firebase"),at=new Oo(Le),At=new ge.Yd(du);At.logLevel=ge.in.ERROR;const kt=new jr(G,ee.SDK_VERSION,x,Z,ue,Ue),an=new pu(kt,Le),jn=new Et(an,Le,at,At),Hi=new Ta(P,jn,at,Le,At);return function Ur(b){const D=(0,re.m9)(b);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(Hi),Hi},"PUBLIC").setMultipleInstances(!0)),(0,ee.registerVersion)(du,"0.4.4"),(0,ee.registerVersion)(du,"0.4.4","esm2017")}();const dl=(b,D)=>D.some(x=>b instanceof x);let Po,jt;const hl=new WeakMap,dr=new WeakMap,ko=new WeakMap,hr=new WeakMap,Js=new WeakMap;let fr={get(b,D,x){if(b instanceof IDBTransaction){if("done"===D)return dr.get(b);if("objectStoreNames"===D)return b.objectStoreNames||ko.get(b);if("store"===D)return x.objectStoreNames[1]?void 0:x.objectStore(x.objectStoreNames[0])}return mi(b[D])},set:(b,D,x)=>(b[D]=x,!0),has:(b,D)=>b instanceof IDBTransaction&&("done"===D||"store"===D)||D in b};function Fo(b){return"function"==typeof b?function fl(b){return b!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Sa(){return jt||(jt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(b)?function(...D){return b.apply(ti(this),D),mi(hl.get(this))}:function(...D){return mi(b.apply(ti(this),D))}:function(D,...x){const P=b.call(ti(this),D,...x);return ko.set(P,D.sort?D.sort():[D]),mi(P)}}(b):(b instanceof IDBTransaction&&function Bp(b){if(dr.has(b))return;const D=new Promise((x,P)=>{const G=()=>{b.removeEventListener("complete",Z),b.removeEventListener("error",ue),b.removeEventListener("abort",ue)},Z=()=>{x(),G()},ue=()=>{P(b.error||new DOMException("AbortError","AbortError")),G()};b.addEventListener("complete",Z),b.addEventListener("error",ue),b.addEventListener("abort",ue)});dr.set(b,D)}(b),dl(b,function vy(){return Po||(Po=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(b,fr):b)}function mi(b){if(b instanceof IDBRequest)return function Tr(b){const D=new Promise((x,P)=>{const G=()=>{b.removeEventListener("success",Z),b.removeEventListener("error",ue)},Z=()=>{x(mi(b.result)),G()},ue=()=>{P(b.error),G()};b.addEventListener("success",Z),b.addEventListener("error",ue)});return D.then(x=>{x instanceof IDBCursor&&hl.set(x,b)}).catch(()=>{}),Js.set(D,b),D}(b);if(hr.has(b))return hr.get(b);const D=Fo(b);return D!==b&&(hr.set(b,D),Js.set(D,b)),D}const ti=b=>Js.get(b);function Aa(b,D,{blocked:x,upgrade:P,blocking:G,terminated:Z}={}){const ue=indexedDB.open(b,D),Ue=mi(ue);return P&&ue.addEventListener("upgradeneeded",Le=>{P(mi(ue.result),Le.oldVersion,Le.newVersion,mi(ue.transaction))}),x&&ue.addEventListener("blocked",()=>x()),Ue.then(Le=>{Z&&Le.addEventListener("close",()=>Z()),G&&Le.addEventListener("versionchange",()=>G())}).catch(()=>{}),Ue}function Ma(b,{blocked:D}={}){const x=indexedDB.deleteDatabase(b);return D&&x.addEventListener("blocked",()=>D()),mi(x).then(()=>{})}const Uc=["get","getKey","getAll","getAllKeys","count"],_y=["put","add","delete","clear"],pl=new Map;function Bc(b,D){if(!(b instanceof IDBDatabase)||D in b||"string"!=typeof D)return;if(pl.get(D))return pl.get(D);const x=D.replace(/FromIndex$/,""),P=D!==x,G=_y.includes(x);if(!(x in(P?IDBIndex:IDBObjectStore).prototype)||!G&&!Uc.includes(x))return;const Z=function(){var ue=(0,k.Z)(function*(Ue,...Le){const at=this.transaction(Ue,G?"readwrite":"readonly");let At=at.store;return P&&(At=At.index(Le.shift())),(yield Promise.all([At[x](...Le),G&&at.done]))[0]});return function(Le){return ue.apply(this,arguments)}}();return pl.set(D,Z),Z}!function $r(b){fr=b(fr)}(b=>({...b,get:(D,x,P)=>Bc(D,x)||b.get(D,x,P),has:(D,x)=>!!Bc(D,x)||b.has(D,x)}));const Lh="/firebase-messaging-sw.js",jc="/firebase-cloud-messaging-push-scope",Vh="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",wy="https://fcmregistrations.googleapis.com/v1",bn="google.c.a.c_id",Ey="google.c.a.c_l",jp="google.c.a.ts";var Uh=function(b){return b.PUSH_RECEIVED="push-received",b.NOTIFICATION_CLICKED="notification-clicked",b}(Uh||{});function Ps(b){const D=new Uint8Array(b);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function $c(b){const x=(b+"=".repeat((4-b.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),P=atob(x),G=new Uint8Array(P.length);for(let Z=0;Z<P.length;++Z)G[Z]=P.charCodeAt(Z);return G}const xa="fcm_token_details_db",Hc=5,gu="fcm_token_object_Store";function mu(){return mu=(0,k.Z)(function*(b){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Z=>Z.name).includes(xa))return null;let D=null;return(yield Aa(xa,Hc,{upgrade:(P=(0,k.Z)(function*(G,Z,ue,Ue){var Le;if(Z<2||!G.objectStoreNames.contains(gu))return;const at=Ue.objectStore(gu),At=yield at.index("fcmSenderId").get(b);if(yield at.clear(),At)if(2===Z){const kt=At;if(!kt.auth||!kt.p256dh||!kt.endpoint)return;D={token:kt.fcmToken,createTime:null!==(Le=kt.createTime)&&void 0!==Le?Le:Date.now(),subscriptionOptions:{auth:kt.auth,p256dh:kt.p256dh,endpoint:kt.endpoint,swScope:kt.swScope,vapidKey:"string"==typeof kt.vapidKey?kt.vapidKey:Ps(kt.vapidKey)}}}else if(3===Z){const kt=At;D={token:kt.fcmToken,createTime:kt.createTime,subscriptionOptions:{auth:Ps(kt.auth),p256dh:Ps(kt.p256dh),endpoint:kt.endpoint,swScope:kt.swScope,vapidKey:Ps(kt.vapidKey)}}}else if(4===Z){const kt=At;D={token:kt.fcmToken,createTime:kt.createTime,subscriptionOptions:{auth:Ps(kt.auth),p256dh:Ps(kt.p256dh),endpoint:kt.endpoint,swScope:kt.swScope,vapidKey:Ps(kt.vapidKey)}}}}),function(Z,ue,Ue,Le){return P.apply(this,arguments)})})).close(),yield Ma(xa),yield Ma("fcm_vapid_details_db"),yield Ma("undefined"),function Lo(b){if(!b||!b.subscriptionOptions)return!1;const{subscriptionOptions:D}=b;return"number"==typeof b.createTime&&b.createTime>0&&"string"==typeof b.token&&b.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}(D)?D:null;var P}),mu.apply(this,arguments)}const gl="firebase-messaging-database",Bh=1,Hr="firebase-messaging-store";let ml=null;function yl(){return ml||(ml=Aa(gl,Bh,{upgrade:(b,D)=>{0===D&&b.createObjectStore(Hr)}})),ml}function zc(b){return Na.apply(this,arguments)}function Na(){return Na=(0,k.Z)(function*(b){const D=Vn(b),P=yield(yield yl()).transaction(Hr).objectStore(Hr).get(D);if(P)return P;{const G=yield function x0(b){return mu.apply(this,arguments)}(b.appConfig.senderId);if(G)return yield Hp(b,G),G}}),Na.apply(this,arguments)}function Hp(b,D){return vl.apply(this,arguments)}function vl(){return(vl=(0,k.Z)(function*(b,D){const x=Vn(b),G=(yield yl()).transaction(Hr,"readwrite");return yield G.objectStore(Hr).put(D,x),yield G.done,D})).apply(this,arguments)}function Vo(){return(Vo=(0,k.Z)(function*(b){const D=Vn(b),P=(yield yl()).transaction(Hr,"readwrite");yield P.objectStore(Hr).delete(D),yield P.done})).apply(this,arguments)}function Vn({appConfig:b}){return b.appId}const zr=new re.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function _l(b,D){return wl.apply(this,arguments)}function wl(){return(wl=(0,k.Z)(function*(b,D){const x=yield Gc(b),P=Gp(D),G={method:"POST",headers:x,body:JSON.stringify(P)};let Z;try{Z=yield(yield fetch(Ra(b.appConfig),G)).json()}catch(ue){throw zr.create("token-subscribe-failed",{errorInfo:ue?.toString()})}if(Z.error)throw zr.create("token-subscribe-failed",{errorInfo:Z.error.message});if(!Z.token)throw zr.create("token-subscribe-no-token");return Z.token})).apply(this,arguments)}function jh(){return(jh=(0,k.Z)(function*(b,D){const x=yield Gc(b),P=Gp(D.subscriptionOptions),G={method:"PATCH",headers:x,body:JSON.stringify(P)};let Z;try{Z=yield(yield fetch(`${Ra(b.appConfig)}/${D.token}`,G)).json()}catch(ue){throw zr.create("token-update-failed",{errorInfo:ue?.toString()})}if(Z.error)throw zr.create("token-update-failed",{errorInfo:Z.error.message});if(!Z.token)throw zr.create("token-update-no-token");return Z.token})).apply(this,arguments)}function $h(b,D){return El.apply(this,arguments)}function El(){return(El=(0,k.Z)(function*(b,D){const P={method:"DELETE",headers:yield Gc(b)};try{const Z=yield(yield fetch(`${Ra(b.appConfig)}/${D}`,P)).json();if(Z.error)throw zr.create("token-unsubscribe-failed",{errorInfo:Z.error.message})}catch(G){throw zr.create("token-unsubscribe-failed",{errorInfo:G?.toString()})}})).apply(this,arguments)}function Ra({projectId:b}){return`${wy}/projects/${b}/registrations`}function Gc(b){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,k.Z)(function*({appConfig:b,installations:D}){const x=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function Gp({p256dh:b,auth:D,endpoint:x,vapidKey:P}){const G={web:{endpoint:x,auth:D,p256dh:b}};return P!==Vh&&(G.web.applicationPubKey=P),G}const qp=6048e5;function Il(){return Il=(0,k.Z)(function*(b){const D=yield function vu(b,D){return qc.apply(this,arguments)}(b.swRegistration,b.vapidKey),x={vapidKey:b.vapidKey,swScope:b.swRegistration.scope,endpoint:D.endpoint,auth:Ps(D.getKey("auth")),p256dh:Ps(D.getKey("p256dh"))},P=yield zc(b.firebaseDependencies);if(P){if(function qh(b,D){return D.vapidKey===b.vapidKey&&D.endpoint===b.endpoint&&D.auth===b.auth&&D.p256dh===b.p256dh}(P.subscriptionOptions,x))return Date.now()>=P.createTime+qp?function Wp(b,D){return Oa.apply(this,arguments)}(b,{token:P.token,createTime:Date.now(),subscriptionOptions:x}):P.token;try{yield $h(b.firebaseDependencies,P.token)}catch(G){console.warn(G)}return Gh(b.firebaseDependencies,x)}return Gh(b.firebaseDependencies,x)}),Il.apply(this,arguments)}function zh(){return zh=(0,k.Z)(function*(b){const D=yield zc(b.firebaseDependencies);D&&(yield $h(b.firebaseDependencies,D.token),yield function ps(b){return Vo.apply(this,arguments)}(b.firebaseDependencies));const x=yield b.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()}),zh.apply(this,arguments)}function Oa(){return Oa=(0,k.Z)(function*(b,D){try{const x=yield function yu(b,D){return jh.apply(this,arguments)}(b.firebaseDependencies,D),P=Object.assign(Object.assign({},D),{token:x,createTime:Date.now()});return yield Hp(b.firebaseDependencies,P),x}catch(x){throw yield function Hh(b){return zh.apply(this,arguments)}(b),x}}),Oa.apply(this,arguments)}function Gh(b,D){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,k.Z)(function*(b,D){const P={token:yield _l(b,D),createTime:Date.now(),subscriptionOptions:D};return yield Hp(b,P),P.token})).apply(this,arguments)}function qc(){return(qc=(0,k.Z)(function*(b,D){return(yield b.pushManager.getSubscription())||b.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:$c(D)})})).apply(this,arguments)}function bl(b){const D={from:b.from,collapseKey:b.collapse_key,messageId:b.fcmMessageId};return function Bo(b,D){if(!D.notification)return;b.notification={};const x=D.notification.title;x&&(b.notification.title=x);const P=D.notification.body;P&&(b.notification.body=P);const G=D.notification.image;G&&(b.notification.image=G);const Z=D.notification.icon;Z&&(b.notification.icon=Z)}(D,b),function Kp(b,D){D.data&&(b.data=D.data)}(D,b),function Li(b,D){var x,P,G,Z,ue;if(!(D.fcmOptions||null!==(x=D.notification)&&void 0!==x&&x.click_action))return;b.fcmOptions={};const Ue=null!==(G=null===(P=D.fcmOptions)||void 0===P?void 0:P.link)&&void 0!==G?G:null===(Z=D.notification)||void 0===Z?void 0:Z.click_action;Ue&&(b.fcmOptions.link=Ue);const Le=null===(ue=D.fcmOptions)||void 0===ue?void 0:ue.analytics_label;Le&&(b.fcmOptions.analyticsLabel=Le)}(D,b),D}function Wc(b,D){const x=[];for(let P=0;P<b.length;P++)x.push(b.charAt(P)),P<D.length&&x.push(D.charAt(P));return x.join("")}function Cl(b){return zr.create("missing-app-config-values",{valueName:b})}Wc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Wc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Dl{constructor(D,x,P){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const G=function vn(b){if(!b||!b.options)throw Cl("App Configuration Object");if(!b.name)throw Cl("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:x}=b;for(const P of D)if(!x[P])throw Cl(P);return{appName:b.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:G,installations:x,analyticsProvider:P}}_delete(){return Promise.resolve()}}function Tl(){return(Tl=(0,k.Z)(function*(b){try{b.swRegistration=yield navigator.serviceWorker.register(Lh,{scope:jc}),b.swRegistration.update().catch(()=>{})}catch(D){throw zr.create("failed-service-worker-registration",{browserErrorMessage:D?.message})}})).apply(this,arguments)}function Vi(){return(Vi=(0,k.Z)(function*(b,D){if(!D&&!b.swRegistration&&(yield function Gr(b){return Tl.apply(this,arguments)}(b)),D||!b.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw zr.create("invalid-sw-registration");b.swRegistration=D}})).apply(this,arguments)}function Pa(){return(Pa=(0,k.Z)(function*(b,D){D?b.vapidKey=D:b.vapidKey||(b.vapidKey=Vh)})).apply(this,arguments)}function Kc(){return Kc=(0,k.Z)(function*(b,D){if(!navigator)throw zr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw zr.create("permission-blocked");return yield function Un(b,D){return Pa.apply(this,arguments)}(b,D?.vapidKey),yield function Wh(b,D){return Vi.apply(this,arguments)}(b,D?.serviceWorkerRegistration),function N0(b){return Il.apply(this,arguments)}(b)}),Kc.apply(this,arguments)}function Zc(){return(Zc=(0,k.Z)(function*(b,D,x){const P=function Yp(b){switch(b){case Uh.NOTIFICATION_CLICKED:return"notification_open";case Uh.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(D);(yield b.firebaseDependencies.analyticsProvider.get()).logEvent(P,{message_id:x[bn],message_name:x[Ey],message_time:x[jp],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function jo(){return jo=(0,k.Z)(function*(b,D){const x=D.data;if(!x.isFirebaseMessaging)return;b.onMessageHandler&&x.messageType===Uh.PUSH_RECEIVED&&("function"==typeof b.onMessageHandler?b.onMessageHandler(bl(x)):b.onMessageHandler.next(bl(x)));const P=x.data;(function Zp(b){return"object"==typeof b&&!!b&&bn in b})(P)&&"1"===P["google.c.a.e"]&&(yield function eo(b,D,x){return Zc.apply(this,arguments)}(b,x.messageType,P))}),jo.apply(this,arguments)}const $o="@firebase/messaging",Ct=b=>{const D=new Dl(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),b.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function Zh(b,D){return jo.apply(this,arguments)}(D,x)),D},Yh=b=>{const D=b.getProvider("messaging").getImmediate();return{getToken:P=>function Kh(b,D){return Kc.apply(this,arguments)}(D,P)}};function Qh(){return _u.apply(this,arguments)}function _u(){return(_u=(0,k.Z)(function*(){try{yield(0,re.eu)()}catch{return!1}return typeof window<"u"&&(0,re.hl)()&&(0,re.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Qp(){(0,ee._registerComponent)(new de.wA("messaging",Ct,"PUBLIC")),(0,ee._registerComponent)(new de.wA("messaging-internal",Yh,"PRIVATE")),(0,ee.registerVersion)($o,"0.12.4"),(0,ee.registerVersion)($o,"0.12.4","esm2017")}();const pe="analytics",Xt="firebase_id",Al="origin",Jh=6e4,er="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",wu="https://www.googletagmanager.com/gtag/js",Pn=new ge.Yd("@firebase/analytics"),pr=new re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Go(b){if(!b.startsWith(wu)){const D=pr.create("invalid-gtag-resource",{gtagURL:b});return Pn.warn(D.message),""}return b}function Ml(b){return Promise.all(b.map(D=>D.catch(x=>x)))}function Fa(){return(Fa=(0,k.Z)(function*(b,D,x,P,G,Z){const ue=P[G];try{if(ue)yield D[ue];else{const Le=(yield Ml(x)).find(at=>at.measurementId===G);Le&&(yield D[Le.appId])}}catch(Ue){Pn.error(Ue)}b("config",G,Z)})).apply(this,arguments)}function gr(){return(gr=(0,k.Z)(function*(b,D,x,P,G){try{let Z=[];if(G&&G.send_to){let ue=G.send_to;Array.isArray(ue)||(ue=[ue]);const Ue=yield Ml(x);for(const Le of ue){const at=Ue.find(kt=>kt.measurementId===Le),At=at&&D[at.appId];if(!At){Z=[];break}Z.push(At)}}0===Z.length&&(Z=Object.values(D)),yield Promise.all(Z),b("event",P,G||{})}catch(Z){Pn.error(Z)}})).apply(this,arguments)}const Xh=30,ef=new class qo{constructor(D={},x=1e3){this.throttleMetadata=D,this.intervalMillis=x}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,x){this.throttleMetadata[D]=x}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function nd(b){return new Headers({Accept:"application/json","x-goog-api-key":b})}function rd(){return(rd=(0,k.Z)(function*(b){var D;const{appId:x,apiKey:P}=b,G={method:"GET",headers:nd(P)},Z=er.replace("{app-id}",x),ue=yield fetch(Z,G);if(200!==ue.status&&304!==ue.status){let Ue="";try{const Le=yield ue.json();null!==(D=Le.error)&&void 0!==D&&D.message&&(Ue=Le.error.message)}catch{}throw pr.create("config-fetch-failed",{httpStatus:ue.status,responseMessage:Ue})}return ue.json()})).apply(this,arguments)}function La(){return(La=(0,k.Z)(function*(b,D=ef,x){const{appId:P,apiKey:G,measurementId:Z}=b.options;if(!P)throw pr.create("no-app-id");if(!G){if(Z)return{measurementId:Z,appId:P};throw pr.create("no-api-key")}const ue=D.getThrottleMetadata(P)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ue=new rf;return setTimeout((0,k.Z)(function*(){Ue.abort()}),void 0!==x?x:Jh),nf({appId:P,apiKey:G,measurementId:Z},ue,Ue,D)})).apply(this,arguments)}function nf(b,D,x){return id.apply(this,arguments)}function id(){return id=(0,k.Z)(function*(b,{throttleEndTimeMillis:D,backoffCount:x},P,G=ef){var Z;const{appId:ue,measurementId:Ue}=b;try{yield function sd(b,D){return new Promise((x,P)=>{const G=Math.max(D-Date.now(),0),Z=setTimeout(x,G);b.addEventListener(()=>{clearTimeout(Z),P(pr.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(P,D)}catch(Le){if(Ue)return Pn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ue} provided in the "measurementId" field in the local Firebase config. [${Le?.message}]`),{appId:ue,measurementId:Ue};throw Le}try{const Le=yield function by(b){return rd.apply(this,arguments)}(b);return G.deleteThrottleMetadata(ue),Le}catch(Le){const at=Le;if(!function Iu(b){if(!(b instanceof re.ZR&&b.customData))return!1;const D=Number(b.customData.httpStatus);return 429===D||500===D||503===D||504===D}(at)){if(G.deleteThrottleMetadata(ue),Ue)return Pn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ue} provided in the "measurementId" field in the local Firebase config. [${at?.message}]`),{appId:ue,measurementId:Ue};throw Le}const At=503===Number(null===(Z=at?.customData)||void 0===Z?void 0:Z.httpStatus)?(0,re.$s)(x,G.intervalMillis,Xh):(0,re.$s)(x,G.intervalMillis),kt={throttleEndTimeMillis:Date.now()+At,backoffCount:x+1};return G.setThrottleMetadata(ue,kt),Pn.debug(`Calling attemptFetch again in ${At} millis`),nf(b,kt,P,G)}}),id.apply(this,arguments)}class rf{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let xl,Va;function to(){return(to=(0,k.Z)(function*(b,D,x,P,G){if(G&&G.global)b("event",x,P);else{const Z=yield D;b("event",x,Object.assign(Object.assign({},P),{send_to:Z}))}})).apply(this,arguments)}function ao(){return(ao=(0,k.Z)(function*(){if(!(0,re.hl)())return Pn.warn(pr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,re.eu)()}catch(b){return Pn.warn(pr.create("indexeddb-unavailable",{errorInfo:b?.toString()}).message),!1}return!0})).apply(this,arguments)}function xt(){return xt=(0,k.Z)(function*(b,D,x,P,G,Z,ue){var Ue;const Le=function tf(b){return La.apply(this,arguments)}(b);Le.then(jn=>{x[jn.measurementId]=jn.appId,b.options.measurementId&&jn.measurementId!==b.options.measurementId&&Pn.warn(`The measurement ID in the local Firebase config (${b.options.measurementId}) does not match the measurement ID fetched from the server (${jn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(jn=>Pn.error(jn)),D.push(Le);const at=function oo(){return ao.apply(this,arguments)}().then(jn=>{if(jn)return P.getId()}),[At,kt]=yield Promise.all([Le,at]);(function td(b){const D=window.document.getElementsByTagName("script");for(const x of Object.values(D))if(x.src&&x.src.includes(wu)&&x.src.includes(b))return x;return null})(Z)||function Eu(b,D){const x=function Jc(b,D){let x;return window.trustedTypes&&(x=window.trustedTypes.createPolicy(b,D)),x}("firebase-js-sdk-policy",{createScriptURL:Go}),P=document.createElement("script"),G=`${wu}?l=${b}&id=${D}`;P.src=x?x?.createScriptURL(G):G,P.async=!0,document.head.appendChild(P)}(Z,At.measurementId),Va&&(G("consent","default",Va),function io(b){Va=b}(void 0)),G("js",new Date);const an=null!==(Ue=ue?.config)&&void 0!==Ue?Ue:{};return an[Al]="firebase",an.update=!0,null!=kt&&(an[Xt]=kt),G("config",At.measurementId,an),xl&&(G("set",xl),function so(b){xl=b}(void 0)),At.measurementId}),xt.apply(this,arguments)}class Ui{constructor(D){this.app=D}_delete(){return delete Or[this.app.options.appId],Promise.resolve()}}let Or={},ad=[];const af={};let Fs,tr,Ua="dataLayer",uf=!1;function Wo(b,D,x){!function ud(){const b=[];if((0,re.ru)()&&b.push("This is a browser extension environment."),(0,re.zI)()||b.push("Cookies are not available."),b.length>0){const D=b.map((P,G)=>`(${G+1}) ${P}`).join(" "),x=pr.create("invalid-analytics-context",{errorInfo:D});Pn.warn(x.message)}}();const P=b.options.appId;if(!P)throw pr.create("no-app-id");if(!b.options.apiKey){if(!b.options.measurementId)throw pr.create("no-api-key");Pn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${b.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Or[P])throw pr.create("already-exists",{id:P});if(!uf){!function ni(b){let D=[];Array.isArray(window[b])?D=window[b]:window[b]=D}(Ua);const{wrappedGtag:Z,gtagCore:ue}=function ed(b,D,x,P,G){let Z=function(...ue){window[P].push(arguments)};return window[G]&&"function"==typeof window[G]&&(Z=window[G]),window[G]=function Xc(b,D,x,P){function Z(){return Z=(0,k.Z)(function*(ue,...Ue){try{if("event"===ue){const[Le,at]=Ue;yield function ks(b,D,x,P,G){return gr.apply(this,arguments)}(b,D,x,Le,at)}else if("config"===ue){const[Le,at]=Ue;yield function es(b,D,x,P,G,Z){return Fa.apply(this,arguments)}(b,D,x,P,Le,at)}else if("consent"===ue){const[Le]=Ue;b("consent","update",Le)}else if("get"===ue){const[Le,at,At]=Ue;b("get",Le,at,At)}else if("set"===ue){const[Le]=Ue;b("set",Le)}else b(ue,...Ue)}catch(Le){Pn.error(Le)}}),Z.apply(this,arguments)}return function G(ue){return Z.apply(this,arguments)}}(Z,b,D,x),{gtagCore:Z,wrappedGtag:window[G]}}(Or,ad,af,Ua,"gtag");tr=Z,Fs=ue,uf=!0}return Or[P]=function Rr(b,D,x,P,G,Z,ue){return xt.apply(this,arguments)}(b,ad,af,D,Fs,Ua,x),new Ui(b)}function Bi(){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,k.Z)(function*(){if((0,re.ru)()||!(0,re.zI)()||!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}const Zo="@firebase/analytics";!function cf(){(0,ee._registerComponent)(new de.wA(pe,(D,{options:x})=>Wo(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,ee._registerComponent)(new de.wA("analytics-internal",function b(D){try{const x=D.getProvider(pe).getImmediate();return{logEvent:(P,G,Z)=>function Ba(b,D,x,P){b=(0,re.m9)(b),function ri(b,D,x,P,G){return to.apply(this,arguments)}(tr,Or[b.app.options.appId],D,x,P).catch(G=>Pn.error(G))}(x,P,G,Z)}}catch(x){throw pr.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,ee.registerVersion)(Zo,"0.10.0"),(0,ee.registerVersion)(Zo,"0.10.0","esm2017")}();var Yo=O(1954),hd=O(2631);const df=new class Du extends hd.v{}(class dd extends Yo.o{constructor(D,x){super(D,x),this.scheduler=D,this.work=x}schedule(D,x=0){return x>0?super.schedule(D,x):(this.delay=x,this.state=D,this.scheduler.flush(this),this)}execute(D,x){return x>0||this.closed?super.execute(D,x):this._execute(D,x)}requestAsyncId(D,x,P=0){return null!=P&&P>0||null==P&&this.delay>0?super.requestAsyncId(D,x,P):(D.flush(this),0)}});var ms=O(6321),pd=O(5592),ja=O(9397),Qo=O(5137),ys=O(3093);const gd=new h.GfV("7.6.1"),Yn="__angularfire_symbol__analyticsIsSupportedValue",Pl="__angularfire_symbol__analyticsIsSupported",Jo="__angularfire_symbol__remoteConfigIsSupportedValue",Ls="__angularfire_symbol__remoteConfigIsSupported",Tu="__angularfire_symbol__messagingIsSupportedValue",Su="__angularfire_symbol__messagingIsSupported";function tg(b,D,x){if(D){if(1===D.length)return D[0];const Z=D.filter(ue=>ue.app===x);if(1===Z.length)return Z[0]}return x.container.getProvider(b).getImmediate({optional:!0})}globalThis[Pl]||(globalThis[Pl]=Bi().then(b=>globalThis[Yn]=b).catch(()=>globalThis[Yn]=!1)),globalThis[Su]||(globalThis[Su]=Qh().then(b=>globalThis[Tu]=b).catch(()=>globalThis[Tu]=!1)),globalThis[Ls]||(globalThis[Ls]=Qs().then(b=>globalThis[Jo]=b).catch(()=>globalThis[Jo]=!1));const kl=(b,D)=>{const x=D?[D]:(0,J.C6)(),P=[];return x.forEach(G=>{G.container.getProvider(b).instances.forEach(ue=>{P.includes(ue)||P.push(ue)})}),P};function yi(){}class md{constructor(D,x=df){this.zone=D,this.delegate=x}now(){return this.delegate.now()}schedule(D,x,P){const G=this.zone;return this.delegate.schedule(function(ue){G.runGuarded(()=>{D.apply(this,[ue])})},x,P)}}class Fl{constructor(D){this.zone=D,this.task=null}call(D,x){const P=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",yi,{},yi,yi)),x.pipe((0,ja.b)({next:P,complete:P,error:P})).subscribe(D).add(P)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let yd=(()=>{class b{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new md(Zone.current)),this.insideAngular=x.run(()=>new md(Zone.current,ms.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return b.\u0275fac=function(x){return new(x||b)(h.LFG(h.R0b))},b.\u0275prov=h.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();function Vs(){const b=globalThis.\u0275AngularFireScheduler;if(!b)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return b}function Ha(b){return Vs().ngZone.run(()=>b())}function za(b){return Vs(),function Sy(b){return function(x){return(x=x.lift(new Fl(b.ngZone))).pipe((0,Qo.R)(b.outsideAngular),(0,ys.Q)(b.insideAngular))}}(Vs())(b)}const Ay=(b,D)=>function(){const P=arguments;return D&&setTimeout(()=>{"scheduled"===D.state&&D.invoke()},10),Ha(()=>b.apply(void 0,P))},yr=(b,D)=>function(){let x;const P=arguments;for(let Z=0;Z<arguments.length;Z++)"function"==typeof P[Z]&&(D&&(x||(x=Ha(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",yi,{},yi,yi)))),P[Z]=Ay(P[Z],x));const G=function hf(b){return Vs().ngZone.runOutsideAngular(()=>b())}(()=>b.apply(this,P));if(!D){if(G instanceof pd.y){const Z=Vs();return G.pipe((0,Qo.R)(Z.outsideAngular),(0,ys.Q)(Z.insideAngular))}return Ha(()=>G)}return G instanceof pd.y?G.pipe(za):G instanceof Promise?Ha(()=>new Promise((Z,ue)=>G.then(Ue=>Ha(()=>Z(Ue)),Ue=>Ha(()=>ue(Ue))))):"function"==typeof G&&x?function(){return setTimeout(()=>{x&&"scheduled"===x.state&&x.invoke()},10),G.apply(this,arguments)}:Ha(()=>G)}},9058:(lt,Ie,O)=>{O.d(Ie,{$s:()=>Xr,BH:()=>te,G6:()=>or,L:()=>fe,LL:()=>en,Pz:()=>we,Sg:()=>be,UG:()=>B,US:()=>de,ZB:()=>Q,ZR:()=>Tt,aH:()=>ie,b$:()=>He,eu:()=>Rn,hl:()=>Ft,jU:()=>he,m9:()=>Ri,ne:()=>fn,pd:()=>Ht,r3:()=>Gn,ru:()=>_e,tV:()=>U,uI:()=>We,vZ:()=>pi,w1:()=>Ge,xO:()=>uu,xb:()=>Do,z$:()=>Ne,zI:()=>Vr,zd:()=>pt});const ee=function($){const j=[];let K=0;for(let Ee=0;Ee<$.length;Ee++){let oe=$.charCodeAt(Ee);oe<128?j[K++]=oe:oe<2048?(j[K++]=oe>>6|192,j[K++]=63&oe|128):55296==(64512&oe)&&Ee+1<$.length&&56320==(64512&$.charCodeAt(Ee+1))?(oe=65536+((1023&oe)<<10)+(1023&$.charCodeAt(++Ee)),j[K++]=oe>>18|240,j[K++]=oe>>12&63|128,j[K++]=oe>>6&63|128,j[K++]=63&oe|128):(j[K++]=oe>>12|224,j[K++]=oe>>6&63|128,j[K++]=63&oe|128)}return j},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,j){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ee=[];for(let oe=0;oe<$.length;oe+=3){const Ye=$[oe],St=oe+1<$.length,bt=St?$[oe+1]:0,lr=oe+2<$.length,Ot=lr?$[oe+2]:0;let Xn=(15&bt)<<2|Ot>>6,hs=63&Ot;lr||(hs=64,St||(Xn=64)),Ee.push(K[Ye>>2],K[(3&Ye)<<4|bt>>4],K[Xn],K[hs])}return Ee.join("")},encodeString($,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa($):this.encodeByteArray(ee($),j)},decodeString($,j){return this.HAS_NATIVE_SUPPORT&&!j?atob($):function($){const j=[];let K=0,Ee=0;for(;K<$.length;){const oe=$[K++];if(oe<128)j[Ee++]=String.fromCharCode(oe);else if(oe>191&&oe<224){const Ye=$[K++];j[Ee++]=String.fromCharCode((31&oe)<<6|63&Ye)}else if(oe>239&&oe<365){const lr=((7&oe)<<18|(63&$[K++])<<12|(63&$[K++])<<6|63&$[K++])-65536;j[Ee++]=String.fromCharCode(55296+(lr>>10)),j[Ee++]=String.fromCharCode(56320+(1023&lr))}else{const Ye=$[K++],St=$[K++];j[Ee++]=String.fromCharCode((15&oe)<<12|(63&Ye)<<6|63&St)}}return j.join("")}(this.decodeStringToByteArray($,j))},decodeStringToByteArray($,j){this.init_();const K=j?this.charToByteMapWebSafe_:this.charToByteMap_,Ee=[];for(let oe=0;oe<$.length;){const Ye=K[$.charAt(oe++)],bt=oe<$.length?K[$.charAt(oe)]:0;++oe;const Ot=oe<$.length?K[$.charAt(oe)]:64;++oe;const qt=oe<$.length?K[$.charAt(oe)]:64;if(++oe,null==Ye||null==bt||null==Ot||null==qt)throw new ge;Ee.push(Ye<<2|bt>>4),64!==Ot&&(Ee.push(bt<<4&240|Ot>>2),64!==qt&&Ee.push(Ot<<6&192|qt))}return Ee},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}};class ge extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fe=function($){return function($){const j=ee($);return de.encodeByteArray(j,!0)}($).replace(/\./g,"")},U=function($){try{return de.decodeString($,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function Q($,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return j}for(const K in j)!j.hasOwnProperty(K)||!ke(K)||($[K]=Q($[K],j[K]));return $}function ke($){return"__proto__"!==$}const Re=()=>{try{return function Te(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const $=process.env.__FIREBASE_DEFAULTS__;return $?JSON.parse($):void 0})()||(()=>{if(typeof document>"u")return;let $;try{$=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const j=$&&U($[1]);return j&&JSON.parse(j)})()}catch($){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$}`)}},ie=()=>{var $;return null===($=Re())||void 0===$?void 0:$.config},we=$=>{var j;return null===(j=Re())||void 0===j?void 0:j[`_${$}`]};class te{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,K)=>{this.resolve=j,this.reject=K})}wrapCallback(j){return(K,Ee)=>{K?this.reject(K):this.resolve(Ee),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(K):j(K,Ee))}}}function be($,j){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ee=j||"demo-project",oe=$.iat||0,Ye=$.sub||$.user_id;if(!Ye)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const St=Object.assign({iss:`https://securetoken.google.com/${Ee}`,aud:Ee,iat:oe,exp:oe+3600,auth_time:oe,sub:Ye,user_id:Ye,firebase:{sign_in_provider:"custom",identities:{}}},$);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(St)),""].join(".")}function Ne(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function We(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())}function B(){var $;const j=null===($=Re())||void 0===$?void 0:$.forceEnvironment;if("node"===j)return!0;if("browser"===j)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function he(){return"object"==typeof self&&self.self===self}function _e(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function He(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ge(){const $=Ne();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function or(){return!B()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ft(){try{return"object"==typeof indexedDB}catch{return!1}}function Rn(){return new Promise(($,j)=>{try{let K=!0;const Ee="validate-browser-context-for-indexeddb-analytics-module",oe=self.indexedDB.open(Ee);oe.onsuccess=()=>{oe.result.close(),K||self.indexedDB.deleteDatabase(Ee),$(!0)},oe.onupgradeneeded=()=>{K=!1},oe.onerror=()=>{var Ye;j((null===(Ye=oe.error)||void 0===Ye?void 0:Ye.message)||"")}}catch(K){j(K)}})}function Vr(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Tt extends Error{constructor(j,K,Ee){super(K),this.code=j,this.customData=Ee,this.name="FirebaseError",Object.setPrototypeOf(this,Tt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,en.prototype.create)}}class en{constructor(j,K,Ee){this.service=j,this.serviceName=K,this.errors=Ee}create(j,...K){const Ee=K[0]||{},oe=`${this.service}/${j}`,Ye=this.errors[j],St=Ye?function dn($,j){return $.replace(wt,(K,Ee)=>{const oe=j[Ee];return null!=oe?String(oe):`<${Ee}?>`})}(Ye,Ee):"Error";return new Tt(oe,`${this.serviceName}: ${St} (${oe}).`,Ee)}}const wt=/\{\$([^}]+)}/g;function Gn($,j){return Object.prototype.hasOwnProperty.call($,j)}function Do($){for(const j in $)if(Object.prototype.hasOwnProperty.call($,j))return!1;return!0}function pi($,j){if($===j)return!0;const K=Object.keys($),Ee=Object.keys(j);for(const oe of K){if(!Ee.includes(oe))return!1;const Ye=$[oe],St=j[oe];if(gi(Ye)&&gi(St)){if(!pi(Ye,St))return!1}else if(Ye!==St)return!1}for(const oe of Ee)if(!K.includes(oe))return!1;return!0}function gi($){return null!==$&&"object"==typeof $}function uu($){const j=[];for(const[K,Ee]of Object.entries($))Array.isArray(Ee)?Ee.forEach(oe=>{j.push(encodeURIComponent(K)+"="+encodeURIComponent(oe))}):j.push(encodeURIComponent(K)+"="+encodeURIComponent(Ee));return j.length?"&"+j.join("&"):""}function pt($){const j={};return $.replace(/^\?/,"").split("&").forEach(Ee=>{if(Ee){const[oe,Ye]=Ee.split("=");j[decodeURIComponent(oe)]=decodeURIComponent(Ye)}}),j}function Ht($){const j=$.indexOf("?");if(!j)return"";const K=$.indexOf("#",j);return $.substring(j,K>0?K:void 0)}function fn($,j){const K=new Cn($,j);return K.subscribe.bind(K)}class Cn{constructor(j,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{j(this)}).catch(Ee=>{this.error(Ee)})}next(j){this.forEachObserver(K=>{K.next(j)})}error(j){this.forEachObserver(K=>{K.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,K,Ee){let oe;if(void 0===j&&void 0===K&&void 0===Ee)throw new Error("Missing Observer.");oe=function rn($,j){if("object"!=typeof $||null===$)return!1;for(const K of j)if(K in $&&"function"==typeof $[K])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:K,complete:Ee},void 0===oe.next&&(oe.next=Ir),void 0===oe.error&&(oe.error=Ir),void 0===oe.complete&&(oe.complete=Ir);const Ye=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?oe.error(this.finalError):oe.complete()}catch{}}),this.observers.push(oe),Ye}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,j)}sendOne(j,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{K(this.observers[j])}catch(Ee){typeof console<"u"&&console.error&&console.error(Ee)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ir(){}const Zs=1e3,Ji=2,ar=144e5,ur=.5;function Xr($,j=Zs,K=Ji){const Ee=j*Math.pow(K,$),oe=Math.round(ur*Ee*(Math.random()-.5)*2);return Math.min(ar,Ee+oe)}function Ri($){return $&&$._delegate?$._delegate:$}},2407:(lt,Ie,O)=>{var h=O(5879);let J=null;function k(){return J}class re{}const de=new h.OlP("DocumentToken");let ge=(()=>{var n;class e{historyGo(r){throw new Error("Not implemented")}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(fe)},providedIn:"platform"}),e})();const Me=new h.OlP("Location Initialized");let fe=(()=>{var n;class e extends ge{constructor(){super(),this._doc=(0,h.f3M)(de),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(r){const i=k().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=k().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,a){this._history.pushState(r,i,a)}replaceState(r,i,a){this._history.replaceState(r,i,a)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return new n},providedIn:"platform"}),e})();function U(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function z(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Q(n){return n&&"?"!==n[0]?"?"+n:n}let ke=(()=>{var n;class e{historyGo(r){throw new Error("Not implemented")}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(Ke)},providedIn:"root"}),e})();const Te=new h.OlP("appBaseHref");let Ke=(()=>{var n;class e extends ke{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,h.f3M)(de).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return U(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+Q(this._platformLocation.search),a=this._platformLocation.hash;return a&&r?`${i}${a}`:i}pushState(r,i,a,l){const f=this.prepareExternalUrl(a+Q(l));this._platformLocation.pushState(r,i,f)}replaceState(r,i,a,l){const f=this.prepareExternalUrl(a+Q(l));this._platformLocation.replaceState(r,i,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(n=e).\u0275fac=function(r){return new(r||n)(h.LFG(ge),h.LFG(Te,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})(),xe=(()=>{var n;class e extends ke{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(r){const i=U(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,a,l){let f=this.prepareExternalUrl(a+Q(l));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(r,i,f)}replaceState(r,i,a,l){let f=this.prepareExternalUrl(a+Q(l));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(n=e).\u0275fac=function(r){return new(r||n)(h.LFG(ge),h.LFG(Te,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),e})(),$e=(()=>{var n;class e{constructor(r){this._subject=new h.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function ie(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(z(ht(i))),this._locationStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Q(i))}normalize(r){return e.stripTrailingSlash(function vt(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,ht(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",a=null){this._locationStrategy.pushState(a,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Q(i)),a)}replaceState(r,i="",a=null){this._locationStrategy.replaceState(a,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Q(i)),a)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(a=>a(r,i))}subscribe(r,i,a){return this._subject.subscribe({next:r,error:i,complete:a})}}return(n=e).normalizeQueryParams=Q,n.joinWithSlash=U,n.stripTrailingSlash=z,n.\u0275fac=function(r){return new(r||n)(h.LFG(ke))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function Re(){return new $e((0,h.LFG)(ke))}()},providedIn:"root"}),e})();function ht(n){return n.replace(/\/index.html$/,"")}const Ia=/\s+/,Nc=[];let Mo=(()=>{var n;class e{constructor(r,i,a,l){this._iterableDiffers=r,this._keyValueDiffers=i,this._ngEl=a,this._renderer=l,this.initialClasses=Nc,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(Ia):Nc}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(Ia):r}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const i of r)this._updateState(i,!0);else if(null!=r)for(const i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){const a=this.stateMap.get(r);void 0!==a?(a.enabled!==i&&(a.changed=!0,a.enabled=i),a.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const i=r[0],a=r[1];a.changed?(this._toggleClass(i,a.enabled),a.changed=!1):a.touched||(a.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),a.touched=!1}}_toggleClass(r,i){(r=r.trim()).length>0&&r.split(Ia).forEach(a=>{i?this._renderer.addClass(this._ngEl.nativeElement,a):this._renderer.removeClass(this._ngEl.nativeElement,a)})}}return(n=e).\u0275fac=function(r){return new(r||n)(h.Y36(h.ZZ4),h.Y36(h.aQg),h.Y36(h.SBq),h.Y36(h.Qsj))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class xo{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ba=(()=>{var n;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,a){this._viewContainer=r,this._template=i,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((a,l,f)=>{if(null==a.previousIndex)i.createEmbeddedView(this._template,new xo(a.item,this._ngForOf,-1,-1),null===f?void 0:f);else if(null==f)i.remove(null===l?void 0:l);else if(null!==l){const y=i.get(l);i.move(y,f),Oc(y,a)}});for(let a=0,l=i.length;a<l;a++){const y=i.get(a).context;y.index=a,y.count=l,y.ngForOf=this._ngForOf}r.forEachIdentityChange(a=>{Oc(i.get(a.currentIndex),a)})}static ngTemplateContextGuard(r,i){return!0}}return(n=e).\u0275fac=function(r){return new(r||n)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function Oc(n,e){n.context.$implicit=e.item}let Ms=(()=>{var n;class e{constructor(r,i){this._viewContainer=r,this._context=new my,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Fp("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Fp("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(n=e).\u0275fac=function(r){return new(r||n)(h.Y36(h.s_b),h.Y36(h.Rgc))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class my{constructor(){this.$implicit=null,this.ngIf=null}}function Fp(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,h.AaK)(e)}'.`)}let Tn=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),e})();function Ns(n){return"server"===n}let cr=(()=>{var n;class e{}return(n=e).\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new Rs((0,h.LFG)(de),window)}),e})();class Rs{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Os(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const l=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(l)return l}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class qh extends re{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class bl extends qh{static makeCurrent(){!function ee(n){J||(J=n)}(new bl)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Kp(){return Bo=Bo||document.querySelector("base"),Bo?Bo.getAttribute("href"):null}();return null==t?null:function Zp(n){Li=Li||document.createElement("a"),Li.setAttribute("href",n);const e=Li.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Bo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function fs(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let Li,Bo=null,vn=(()=>{var n;class e{build(){return new XMLHttpRequest}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),e})();const Cl=new h.OlP("EventManagerPlugins");let Dl=(()=>{var n;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(a=>{a.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,a){return this._findPluginFor(i).addEventListener(r,i,a)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(l=>l.supports(r)),!i)throw new h.vHH(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(n=e).\u0275fac=function(r){return new(r||n)(h.LFG(Cl),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),e})();class Gr{constructor(e){this._doc=e}}const Tl="ng-app-id";let Wh=(()=>{var n;class e{constructor(r,i,a,l={}){this.doc=r,this.appId=i,this.nonce=a,this.platformId=l,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ns(l),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(a=>a.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${Tl}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(a=>{null!=a.textContent&&i.set(a.textContent,a)}),i}return null}changeUsageCount(r,i){const a=this.styleRef;if(a.has(r)){const l=a.get(r);return l.usage+=i,l.usage}return a.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const a=this.styleNodesInDOM,l=a?.get(i);if(l?.parentNode===r)return a.delete(i),l.removeAttribute(Tl),l;{const f=this.doc.createElement("style");return this.nonce&&f.setAttribute("nonce",this.nonce),f.textContent=i,this.platformIsServer&&f.setAttribute(Tl,this.appId),f}}addStyleToHost(r,i){const a=this.getStyleElement(r,i);r.appendChild(a);const l=this.styleRef,f=l.get(i)?.elements;f?f.push(a):l.set(i,{elements:[a],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(n=e).\u0275fac=function(r){return new(r||n)(h.LFG(de),h.LFG(h.AFp),h.LFG(h.Ojb,8),h.LFG(h.Lbi))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),e})();const Vi={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Un=/%COMP%/g,Zc=new h.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function jo(n,e){return e.map(t=>t.replace(Un,n))}let $o=(()=>{var n;class e{constructor(r,i,a,l,f,y,w,T=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=a,this.removeStylesOnCompDestroy=l,this.doc=f,this.platformId=y,this.ngZone=w,this.nonce=T,this.rendererByCompId=new Map,this.platformIsServer=Ns(y),this.defaultRenderer=new Sl(r,f,w,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===h.ifc.ShadowDom&&(i={...i,encapsulation:h.ifc.Emulated});const a=this.getOrCreateRenderer(r,i);return a instanceof Jp?a.applyToHost(r):a instanceof _u&&a.applyStyles(),a}getOrCreateRenderer(r,i){const a=this.rendererByCompId;let l=a.get(i.id);if(!l){const f=this.doc,y=this.ngZone,w=this.eventManager,T=this.sharedStylesHost,M=this.removeStylesOnCompDestroy,F=this.platformIsServer;switch(i.encapsulation){case h.ifc.Emulated:l=new Jp(w,T,i,this.appId,M,f,y,F);break;case h.ifc.ShadowDom:return new Qh(w,T,r,i,f,y,this.nonce,F);default:l=new _u(w,T,i,M,f,y,F)}a.set(i.id,l)}return l}ngOnDestroy(){this.rendererByCompId.clear()}}return(n=e).\u0275fac=function(r){return new(r||n)(h.LFG(Dl),h.LFG(Wh),h.LFG(h.AFp),h.LFG(Zc),h.LFG(de),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(h.Ojb))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),e})();class Sl{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Vi[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Qp(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Qp(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new h.vHH(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=Vi[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Vi[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,r,i&h.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=k().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function Qp(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Qh extends Sl{constructor(e,t,r,i,a,l,f,y){super(e,a,l,y),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const w=jo(i.id,i.styles);for(const T of w){const M=document.createElement("style");f&&M.setAttribute("nonce",f),M.textContent=T,this.shadowRoot.appendChild(M)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class _u extends Sl{constructor(e,t,r,i,a,l,f,y){super(e,a,l,f),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=y?jo(y,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Jp extends _u{constructor(e,t,r,i,a,l,f,y){const w=i+"-"+r.id;super(e,t,r,a,l,f,y,w),this.contentAttr=function Yp(n){return"_ngcontent-%COMP%".replace(Un,n)}(w),this.hostAttr=function Zh(n){return"_nghost-%COMP%".replace(Un,n)}(w)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Ho=(()=>{var n;class e extends Gr{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,a){return r.addEventListener(i,a,!1),()=>this.removeEventListener(r,i,a)}removeEventListener(r,i,a){return r.removeEventListener(i,a)}}return(n=e).\u0275fac=function(r){return new(r||n)(h.LFG(de))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),e})();const ka=["alt","control","meta","shift"],zo={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Iy={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Yc=(()=>{var n;class e extends Gr{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,a){const l=e.parseEventName(i),f=e.eventCallback(l.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(r,l.domEventName,f))}static parseEventName(r){const i=r.toLowerCase().split("."),a=i.shift();if(0===i.length||"keydown"!==a&&"keyup"!==a)return null;const l=e._normalizeKey(i.pop());let f="",y=i.indexOf("code");if(y>-1&&(i.splice(y,1),f="code."),ka.forEach(T=>{const M=i.indexOf(T);M>-1&&(i.splice(M,1),f+=T+".")}),f+=l,0!=i.length||0===l.length)return null;const w={};return w.domEventName=a,w.fullKey=f,w}static matchEventFullKeyCode(r,i){let a=zo[r.key]||r.key,l="";return i.indexOf("code.")>-1&&(a=r.code,l="code."),!(null==a||!a)&&(a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),ka.forEach(f=>{f!==a&&(0,Iy[f])(r)&&(l+=f+".")}),l+=a,l===i)}static eventCallback(r,i,a){return l=>{e.matchEventFullKeyCode(l,r)&&a.runGuarded(()=>i(l))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(n=e).\u0275fac=function(r){return new(r||n)(h.LFG(de))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),e})();const Pn=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function Al(){bl.makeCurrent()},multi:!0},{provide:de,useFactory:function er(){return(0,h.RDi)(document),document},deps:[]}]),Xi=new h.OlP(""),pr=[{provide:h.rWj,useClass:class Wc{addToWindow(e){h.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new h.vHH(5103,!1);return a},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const i=h.dqk.getAllAngularTestabilities();let a=i.length,l=!1;const f=function(y){l=l||y,a--,0==a&&r(l)};i.forEach(y=>{y.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?k().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],Go=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function Jh(){return new h.qLn},deps:[]},{provide:Cl,useClass:Ho,multi:!0,deps:[de,h.R0b,h.Lbi]},{provide:Cl,useClass:Yc,multi:!0,deps:[de]},$o,Wh,Dl,{provide:h.FYo,useExisting:$o},{provide:class Fi{},useClass:vn,deps:[]},[]];let Ml=(()=>{var n;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:h.AFp,useValue:r.appId}]}}}return(n=e).\u0275fac=function(r){return new(r||n)(h.LFG(Xi,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[...Go,...pr],imports:[Tn,h.hGG]}),e})(),Fa=(()=>{var n;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(n=e).\u0275fac=function(r){return new(r||n)(h.LFG(de))},n.\u0275prov=h.Yz7({token:n,factory:function(r){let i=null;return i=r?new r:function es(){return new Fa((0,h.LFG)(de))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;let sd=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=h.Yz7({token:n,factory:function(r){let i=null;return i=r?new(r||n):h.LFG(rf),i},providedIn:"root"}),e})(),rf=(()=>{var n;class e extends sd{constructor(r){super(),this._doc=r}sanitize(r,i){if(null==i)return null;switch(r){case h.q3G.NONE:return i;case h.q3G.HTML:return(0,h.qzn)(i,"HTML")?(0,h.z3N)(i):(0,h.EiD)(this._doc,String(i)).toString();case h.q3G.STYLE:return(0,h.qzn)(i,"Style")?(0,h.z3N)(i):i;case h.q3G.SCRIPT:if((0,h.qzn)(i,"Script"))return(0,h.z3N)(i);throw new h.vHH(5200,!1);case h.q3G.URL:return(0,h.qzn)(i,"URL")?(0,h.z3N)(i):(0,h.mCW)(String(i));case h.q3G.RESOURCE_URL:if((0,h.qzn)(i,"ResourceURL"))return(0,h.z3N)(i);throw new h.vHH(5201,!1);default:throw new h.vHH(5202,!1)}}bypassSecurityTrustHtml(r){return(0,h.JVY)(r)}bypassSecurityTrustStyle(r){return(0,h.L6k)(r)}bypassSecurityTrustScript(r){return(0,h.eBb)(r)}bypassSecurityTrustUrl(r){return(0,h.LAX)(r)}bypassSecurityTrustResourceUrl(r){return(0,h.pB0)(r)}}return(n=e).\u0275fac=function(r){return new(r||n)(h.LFG(de))},n.\u0275prov=h.Yz7({token:n,factory:function(r){let i=null;return i=r?new r:function Iu(n){return new rf(n.get(de))}(h.LFG(h.zs3)),i},providedIn:"root"}),e})();var pn=O(2459),gs=O(5592);const{isArray:no}=Array,{getPrototypeOf:ro,prototype:bu,keys:Va}=Object;function io(n){if(1===n.length){const e=n[0];if(no(e))return{args:e,keys:null};if(function so(n){return n&&"object"==typeof n&&ro(n)===bu}(e)){const t=Va(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var oo=O(4829),ao=O(4564),Rr=O(8251),xt=O(7398);const{isArray:Ui}=Array;function ad(n){return(0,xt.U)(e=>function Or(n,e){return Ui(e)?n(...e):n(e)}(n,e))}function af(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let Nl=(()=>{var n;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(n=e).\u0275fac=function(r){return new(r||n)(h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n}),e})(),Fs=(()=>{var n;class e extends Nl{}return(n=e).\u0275fac=function(){let t;return function(i){return(t||(t=h.n5z(n)))(i||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),e})();const tr=new h.OlP("NgValueAccessor"),ud={provide:tr,useExisting:(0,h.Gpc)(()=>ts),multi:!0},Ty=new h.OlP("CompositionEventMode");let ts=(()=>{var n;class e extends Nl{constructor(r,i,a){super(r,i),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Wo(){const n=k()?k().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(n=e).\u0275fac=function(r){return new(r||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(Ty,8))},n.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&h.NdJ("input",function(l){return i._handleInput(l.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(l){return i._compositionEnd(l.target.value)})},features:[h._Bn([ud]),h.qOj]}),e})();const mr=new h.OlP("NgValidators"),uo=new h.OlP("NgAsyncValidators");function Ol(n){return function Bi(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function Yo(n){return null}function dd(n){return null!=n}function hd(n){return(0,h.QGY)(n)?(0,pn.D)(n):n}function Du(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function df(n,e){return e.map(t=>t(n))}function ms(n){return n.map(e=>function fd(n){return!n.validate}(e)?e:t=>e.validate(t))}function ja(n){return null!=n?function pd(n){if(!n)return null;const e=n.filter(dd);return 0==e.length?null:function(t){return Du(df(t,e))}}(ms(n)):null}function ys(n){return null!=n?function Qo(n){if(!n)return null;const e=n.filter(dd);return 0==e.length?null:function(t){return function Ua(...n){const e=(0,ao.jO)(n),{args:t,keys:r}=io(n),i=new gs.y(a=>{const{length:l}=t;if(!l)return void a.complete();const f=new Array(l);let y=l,w=l;for(let T=0;T<l;T++){let M=!1;(0,oo.Xf)(t[T]).subscribe((0,Rr.x)(a,F=>{M||(M=!0,w--),f[T]=F},()=>y--,void 0,()=>{(!y||!M)&&(w||a.next(r?af(r,f):f),a.complete())}))}});return e?i.pipe(ad(e)):i}(df(t,e).map(hd)).pipe((0,xt.U)(Du))}}(ms(n)):null}function gd(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Jo(n){return n?Array.isArray(n)?n:[n]:[]}function Ls(n,e){return Array.isArray(n)?n.includes(e):n===e}function Tu(n,e){const t=Jo(e);return Jo(n).forEach(i=>{Ls(t,i)||t.push(i)}),t}function Su(n,e){return Jo(e).filter(t=>!Ls(n,t))}class Xo{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ja(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ys(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Bn extends Xo{get formDirective(){return null}get path(){return null}}class $i extends Xo{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class $a{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let yi=(()=>{var n;class e extends $a{constructor(r){super(r)}}return(n=e).\u0275fac=function(r){return new(r||n)(h.Y36($i,2))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&h.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[h.qOj]}),e})(),md=(()=>{var n;class e extends $a{constructor(r){super(r)}}return(n=e).\u0275fac=function(r){return new(r||n)(h.Y36(Bn,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&h.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[h.qOj]}),e})();const ue="VALID",Ue="INVALID",Le="PENDING",at="DISABLED";function At(n){return(Hi(n)?n.validators:n)||null}function an(n,e){return(Hi(e)?e.asyncValidators:n)||null}function Hi(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class vi{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ue}get invalid(){return this.status===Ue}get pending(){return this.status==Le}get disabled(){return this.status===at}get enabled(){return this.status!==at}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Tu(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Tu(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Su(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Su(e,this._rawAsyncValidators))}hasValidator(e){return Ls(this._rawValidators,e)}hasAsyncValidator(e){return Ls(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Le,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=at,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ue,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ue||this.status===Le)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?at:ue}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Le,this._hasOwnPendingAsyncValidator=!0;const t=hd(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?at:this.errors?Ue:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Le)?Le:this._anyControlsHaveStatus(Ue)?Ue:ue}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Hi(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function kt(n){return Array.isArray(n)?ja(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function jn(n){return Array.isArray(n)?ys(n):n||null}(this._rawAsyncValidators)}}class vs extends vi{constructor(e,t,r){super(At(t),an(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function ea(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new h.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function Au(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new h.vHH(1e3,"");if(!r[t])throw new h.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const ta=new h.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>lo}),lo="always";function na(n,e,t=lo){pf(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function wd(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&P0(n,e)})}(n,e),function xu(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function xy(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&P0(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function O0(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Mu(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function pf(n,e){const t=function Yn(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(gd(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function Pl(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(gd(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Mu(e._rawValidators,i),Mu(e._rawAsyncValidators,i)}function P0(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const Py={provide:Bn,useExisting:(0,h.Gpc)(()=>Ul)},gf=(()=>Promise.resolve())();let Ul=(()=>{var n;class e extends Bn{constructor(r,i,a){super(),this.callSetDisabledState=a,this.submitted=!1,this._directives=new Set,this.ngSubmit=new h.vpe,this.form=new vs({},ja(r),ys(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){gf.then(()=>{const i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),na(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){gf.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){gf.then(()=>{const i=this._findContainer(r.path),a=new vs({});(function Nu(n,e){pf(n,e)})(a,r),i.registerControl(r.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){gf.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){gf.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,function Ry(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return(n=e).\u0275fac=function(r){return new(r||n)(h.Y36(mr,10),h.Y36(uo,10),h.Y36(ta,8))},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&h.NdJ("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([Py]),h.qOj]}),e})();function ky(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function mf(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Fy=class extends vi{constructor(e=null,t,r){super(At(t),an(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Hi(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=mf(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ky(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ky(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){mf(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},jy={provide:$i,useExisting:(0,h.Gpc)(()=>Ru)},bd=(()=>Promise.resolve())();let Ru=(()=>{var n;class e extends $i{constructor(r,i,a,l,f,y){super(),this._changeDetectorRef=f,this.callSetDisabledState=y,this.control=new Fy,this._registered=!1,this.name="",this.update=new h.vpe,this._parent=r,this._setValidators(i),this._setAsyncValidators(a),this.valueAccessor=function Ga(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===ts?t=a:function k0(n){return Object.getPrototypeOf(n.constructor)===Fs}(a)?r=a:i=a}),i||r||t||null}(0,l)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),function Id(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){na(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){bd.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){const i=r.isDisabled.currentValue,a=0!==i&&(0,h.VuI)(i);bd.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?function _d(n,e){return[...e.path,n]}(r,this._parent):[r]}}return(n=e).\u0275fac=function(r){return new(r||n)(h.Y36(Bn,9),h.Y36(mr,10),h.Y36(uo,10),h.Y36(tr,10),h.Y36(h.sBO,8),h.Y36(ta,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([jy]),h.qOj,h.TTD]}),e})(),yf=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),rg=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),e})(),wi=(()=>{var n;class e{constructor(){this._validator=Yo}ngOnChanges(r){if(this.inputName in r){const i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Yo,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return null!=r}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275dir=h.lG2({type:n,features:[h.TTD]}),e})();const lg={provide:mr,useExisting:(0,h.Gpc)(()=>zl),multi:!0};let zl=(()=>{var n;class e extends wi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=h.VuI,this.createValidator=r=>Ol}enabled(r){return r}}return(n=e).\u0275fac=function(){let t;return function(i){return(t||(t=h.n5z(n)))(i||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&h.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[h._Bn([lg]),h.qOj]}),e})(),rt=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[rg]}),e})(),ra=(()=>{var n;class e{static withConfig(r){return{ngModule:e,providers:[{provide:ta,useValue:r.callSetDisabledState??lo}]}}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[rt]}),e})();var ns=O(6304);const hg_firebaseConfig={apiKey:"AIzaSyBJNx6mlAeRblHJ9ekvLhCD3bwzQhQqYbw",authDomain:"todo-list-11a41.firebaseapp.com",projectId:"todo-list-11a41",storageBucket:"todo-list-11a41.appspot.com",messagingSenderId:"1037712544774",appId:"1:1037712544774:web:c995092010796795459f87"};var j0=O(6321),It=O(2096),Qn=O(2793),Gl=O(7537);function tv(...n){return function sC(){return(0,Gl.J)(1)}()((0,pn.D)(n,(0,ao.yG)(n)))}var rs=O(9360);function fg(...n){const e=(0,ao.yG)(n);return(0,rs.e)((t,r)=>{(e?tv(n,t,e):tv(n,t)).subscribe(r)})}function bf(){return(0,rs.e)((n,e)=>{let t,r=!1;n.subscribe((0,Rr.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}function gg(n,e){return(0,rs.e)(function pg(n,e,t,r,i){return(a,l)=>{let f=t,y=e,w=0;a.subscribe((0,Rr.x)(l,T=>{const M=w++;y=f?n(y,T,M):(f=!0,T),r&&l.next(y)},i&&(()=>{f&&l.next(y),l.complete()})))}}(n,e,arguments.length>=2,!0))}var $0=O(3997);function ws(n,e){return(0,rs.e)((t,r)=>{let i=0;t.subscribe((0,Rr.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}O(8977);var tt,H0=O(3106),ve=O(5861),xd=O(534),mg=O(4537),ql=O(7879),un=O(9058),SA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},co={},Cf=Cf||{},Lt=SA||self;function ku(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function yg(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var oC="closure_uid_"+(1e9*Math.random()>>>0),MA=0;function z0(n,e,t){return n.call.apply(n.bind,arguments)}function xA(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Sr(n,e,t){return(Sr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?z0:xA).apply(null,arguments)}function Nd(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Pr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,a){for(var l=Array(arguments.length-2),f=2;f<arguments.length;f++)l[f-2]=arguments[f];return e.prototype[i].apply(r,l)}}function Fu(){this.s=this.s,this.o=this.o}Fu.prototype.s=!1,Fu.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function AA(n){Object.prototype.hasOwnProperty.call(n,oC)&&n[oC]||(n[oC]=++MA)}(this)},Fu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const G0=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Lu(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function uC(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(ku(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let l=0;l<a;l++)n[i+l]=r[l]}else n.push(r)}}function Gi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Gi.prototype.h=function(){this.defaultPrevented=!0};var NA=function(){if(!Lt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Lt.addEventListener("test",()=>{},e),Lt.removeEventListener("test",()=>{},e)}catch{}return n}();function vg(n){return/^[\s\xa0]*$/.test(n)}function nv(){var n=Lt.navigator;return n&&(n=n.userAgent)?n:""}function oi(n){return-1!=nv().indexOf(n)}function Wl(n){return Wl[" "](n),n}Wl[" "]=function(){};var W0,n,OA=oi("Opera"),Df=oi("Trident")||oi("MSIE"),lC=oi("Edge"),q0=lC||Df,cC=oi("Gecko")&&!(-1!=nv().toLowerCase().indexOf("webkit")&&!oi("Edge"))&&!(oi("Trident")||oi("MSIE"))&&!oi("Edge"),dC=-1!=nv().toLowerCase().indexOf("webkit")&&!oi("Edge");function hC(){var n=Lt.document;return n?n.documentMode:void 0}e:{var K0="",Z0=(n=nv(),cC?/rv:([^\);]+)(\)|;)/.exec(n):lC?/Edge\/([\d\.]+)/.exec(n):Df?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):dC?/WebKit\/(\S+)/.exec(n):OA?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Z0&&(K0=Z0?Z0[1]:""),Df){var Tf=hC();if(null!=Tf&&Tf>parseFloat(K0)){W0=String(Tf);break e}}W0=K0}var fC=Lt.document&&Df&&(hC()||parseInt(W0,10))||void 0;function Af(n,e){if(Gi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(cC){e:{try{Wl(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:pC[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Af.$.h.call(this)}}Pr(Af,Gi);var pC={2:"touch",3:"pen",4:"mouse"};Af.prototype.h=function(){Af.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var rv="closure_listenable_"+(1e6*Math.random()|0),lR=0;function cR(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++lR,this.fa=this.ia=!1}function Mf(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function _g(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function PA(n){const e={};for(const t in n)e[t]=n[t];return e}const Y0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gC(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<Y0.length;a++)t=Y0[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function iv(n){this.src=n,this.g={},this.h=0}function Q0(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=G0(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(Mf(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function J0(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.fa&&a.listener==e&&a.capture==!!t&&a.la==r)return i}return-1}iv.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var l=J0(n,e,r,i);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new cR(e,this.src,a,!!r,i)).ia=t,n.push(e)),e};var sv="closure_lm_"+(1e6*Math.random()|0),xf={};function X0(n,e,t,r,i){if(r&&r.once)return Kl(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)X0(n,e[a],t,r,i);return null}return t=sw(t),n&&n[rv]?n.O(e,t,yg(r)?!!r.capture:!!r,i):ov(n,e,t,!1,r,i)}function ov(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var l=yg(i)?!!i.capture:!!i,f=rw(n);if(f||(n[sv]=f=new iv(n)),(t=f.add(e,t,r,l,a)).proxy)return t;if(r=function kA(){const e=mC;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)NA||(i=l),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(nw(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Kl(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)Kl(n,e[a],t,r,i);return null}return t=sw(t),n&&n[rv]?n.P(e,t,yg(r)?!!r.capture:!!r,i):ov(n,e,t,!0,r,i)}function ew(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)ew(n,e[a],t,r,i);else r=yg(r)?!!r.capture:!!r,t=sw(t),n&&n[rv]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=J0(a=n.g[e],t,r,i))&&(Mf(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=rw(n))&&(e=n.g[e.toString()],n=-1,e&&(n=J0(e,t,r,i)),(t=-1<n?e[n]:null)&&tw(t))}function tw(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[rv])Q0(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(nw(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=rw(e))?(Q0(t,n),0==t.h&&(t.src=null,e[sv]=null)):Mf(n)}}}function nw(n){return n in xf?xf[n]:xf[n]="on"+n}function mC(n,e){if(n.fa)n=!0;else{e=new Af(e,this);var t=n.listener,r=n.la||n.src;n.ia&&tw(n),n=t.call(r,e)}return n}function rw(n){return(n=n[sv])instanceof iv?n:null}var iw="__closure_events_fn_"+(1e9*Math.random()>>>0);function sw(n){return"function"==typeof n?n:(n[iw]||(n[iw]=function(e){return n.handleEvent(e)}),n[iw])}function ai(){Fu.call(this),this.i=new iv(this),this.S=this,this.J=null}function ui(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Gi(e,n);else if(e instanceof Gi)e.target=e.target||n;else{var i=e;gC(e=new Gi(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var l=e.g=t[a];i=ow(l,r,!0,e)&&i}if(i=ow(l=e.g=n,r,!0,e)&&i,i=ow(l,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=ow(l=e.g=t[a],r,!1,e)&&i}function ow(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var l=e[a];if(l&&!l.fa&&l.capture==t){var f=l.listener,y=l.la||l.src;l.ia&&Q0(n.i,l),i=!1!==f.call(y,r)&&i}}return i&&!r.defaultPrevented}Pr(ai,Fu),ai.prototype[rv]=!0,ai.prototype.removeEventListener=function(n,e,t,r){ew(this,n,e,t,r)},ai.prototype.N=function(){if(ai.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Mf(t[r]);delete n.g[e],n.h--}}this.J=null},ai.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},ai.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var yC=Lt.JSON.stringify;function gn(){var n=av;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var aw=new class wg{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new vC,n=>n.reset());class vC{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function uw(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function lw(n){Lt.setTimeout(()=>{throw n},0)}let Ig,Nf=!1,av=new class Eg{constructor(){this.h=this.g=null}add(e,t){const r=aw.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},bg=()=>{const n=Lt.Promise.resolve(void 0);Ig=()=>{n.then(hR)}};var hR=()=>{for(var n;n=gn();){try{n.h.call(n.g)}catch(t){lw(t)}var e=aw;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Nf=!1};function Rf(n,e){ai.call(this),this.h=n||1,this.g=e||Lt,this.j=Sr(this.qb,this),this.l=Date.now()}function cw(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Cg(n,e,t){if("function"==typeof n)t&&(n=Sr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Sr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Lt.setTimeout(n,e||0)}function dw(n){n.g=Cg(()=>{n.g=null,n.i&&(n.i=!1,dw(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Pr(Rf,ai),(tt=Rf.prototype).ga=!1,tt.T=null,tt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ui(this,"tick"),this.ga&&(cw(this),this.start()))}},tt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},tt.N=function(){Rf.$.N.call(this),cw(this),delete this.g};class _C extends Fu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:dw(this)}N(){super.N(),this.g&&(Lt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sa(n){Fu.call(this),this.h=n,this.g={}}Pr(sa,Fu);var wC=[];function uv(n,e,t,r){Array.isArray(t)||(t&&(wC[0]=t.toString()),t=wC);for(var i=0;i<t.length;i++){var a=X0(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function Dg(n){_g(n.g,function(e,t){this.g.hasOwnProperty(t)&&tw(e)},n),n.g={}}function lv(){this.g=!0}function is(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function fw(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var l=1;l<i.length;l++)i[l]=""}}}return yC(t)}catch{return e}}(n,t)+(r?" "+r:"")})}sa.prototype.N=function(){sa.$.N.call(this),Dg(this)},sa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},lv.prototype.Ea=function(){this.g=!1},lv.prototype.info=function(){};var Rd={},EC=null;function Tg(){return EC=EC||new ai}function Od(n){Gi.call(this,Rd.Ta,n)}function Sg(n){const e=Tg();ui(e,new Od(e))}function IC(n,e){Gi.call(this,Rd.STAT_EVENT,n),this.stat=e}function ss(n){const e=Tg();ui(e,new IC(e,n))}function hv(n,e){Gi.call(this,Rd.Ua,n),this.size=e}function Of(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Lt.setTimeout(function(){n()},e)}Rd.Ta="serverreachability",Pr(Od,Gi),Rd.STAT_EVENT="statevent",Pr(IC,Gi),Rd.Ua="timingevent",Pr(hv,Gi);var fv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},pw={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ag(){}function bC(){}Ag.prototype.h=null;var DC,Mg={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function gw(){Gi.call(this,"d")}function CC(){Gi.call(this,"c")}function Pd(){}function xg(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new sa(this),this.P=mw,this.V=new Rf(n=q0?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new pv}function pv(){this.i=null,this.g="",this.h=!1}Pr(gw,Gi),Pr(CC,Gi),Pr(Pd,Ag),Pd.prototype.g=function(){return new XMLHttpRequest},Pd.prototype.i=function(){return{}},DC=new Pd;var mw=45e3,Zl={},Pf={};function Ng(n,e,t){n.L=1,n.v=yv(Vu(e)),n.s=t,n.S=!0,kf(n,null)}function kf(n,e){n.G=Date.now(),kd(n),n.A=Vu(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),Vf(t.i,"t",r),n.C=0,t=n.l.J,n.h=new pv,n.g=Nw(n.l,t?e:null,!n.s),0<n.O&&(n.M=new _C(Sr(n.Pa,n,n.g),n.O)),uv(n.U,n.g,"readystatechange",n.nb),e=n.I?PA(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Sg(),function hw(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var l="",f=a.split("&"),y=0;y<f.length;y++){var w=f[y].split("=");if(1<w.length){var T=w[0];w=w[1];var M=T.split("_");l=2<=M.length&&"type"==M[1]?l+(T+"=")+w+"&":l+(T+"=redacted&")}}else l=null;else l=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Rg(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function Ff(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=TC(n,t),i==Pf){4==e&&(n.o=4,ss(14),r=!1),is(n.j,n.m,null,"[Incomplete Response]");break}if(i==Zl){n.o=4,ss(15),is(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}is(n.j,n.m,i,null),vw(n,i)}Rg(n)&&i!=Pf&&i!=Zl&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ss(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),HC(e),e.M=!0,ss(11))):(is(n.j,n.m,t,"[Invalid Chunked Response]"),oa(n),Fd(n))}function TC(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Pf:(t=Number(e.substring(t,r)),isNaN(t)?Zl:(r+=1)+t>e.length?Pf:(e=e.slice(r,r+t),n.C=r+t,e))}function kd(n){n.Y=Date.now()+n.P,Og(n,n.P)}function Og(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Of(Sr(n.lb,n),e)}function yw(n){n.B&&(Lt.clearTimeout(n.B),n.B=null)}function Fd(n){0==n.l.H||n.J||Mw(n.l,n)}function oa(n){yw(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,cw(n.V),Dg(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function vw(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Fg(t.i,n)))if(!n.K&&Fg(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;$g(t),Bg(t)}Aw(t),ss(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=Of(Sr(t.ib,t),6e3));if(1>=Ew(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Yl(t,11)}else if((n.K||t.g==n)&&$g(t),!vg(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.V=w[0],w=w[1],2==t.H)if("c"==w[0]){t.K=w[1],t.pa=w[2];const T=w[3];null!=T&&(t.ra=T,t.l.info("VER="+t.ra));const M=w[4];null!=M&&(t.Ga=M,t.l.info("SVER="+t.Ga));const F=w[5];null!=F&&"number"==typeof F&&0<F&&(t.L=r=1.5*F,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const V=n.g;if(V){const W=V.g?V.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(W){var a=r.i;a.g||-1==W.indexOf("spdy")&&-1==W.indexOf("quic")&&-1==W.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(FC(a,a.h),a.h=null))}if(r.F){const ae=V.g?V.g.getResponseHeader("X-HTTP-Session-Id"):null;ae&&(r.Da=ae,An(r.I,r.F,ae))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=xw(r,r.J?r.pa:null,r.Y),l.K){_v(r.i,l);var f=l,y=r.L;y&&f.setTimeout(y),f.B&&(yw(f),kd(f)),r.g=l}else KA(r);0<t.j.length&&bv(t)}else"stop"!=w[0]&&"close"!=w[0]||Yl(t,7);else 3==t.H&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?Yl(t,7):jf(t):"noop"!=w[0]&&t.h&&t.h.Aa(w),t.A=0)}Sg()}catch{}}function AC(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(ku(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function LA(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(ku(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function SC(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(ku(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(tt=xg.prototype).setTimeout=function(n){this.P=n},tt.nb=function(n){n=n.target;const e=this.M;e&&3==aa(n)?e.l():this.Pa(n)},tt.Pa=function(n){try{if(n==this.g)e:{const T=aa(this.g);var e=this.g.Ia();if(this.g.da(),!(3>T)&&(3!=T||q0||this.g&&(this.h.h||this.g.ja()||Iv(this.g)))){this.J||4!=T||7==e||Sg(),yw(this);var t=this.g.da();this.ca=t;t:if(Rg(this)){var r=Iv(this.g);n="";var i=r.length,a=4==aa(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){oa(this),Fd(this);var l="";break t}this.h.i=new Lt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function cv(n,e,t,r,i,a,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+l})}(this.j,this.u,this.A,this.m,this.W,T,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var f,y=this.g;if((f=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vg(f)){var w=f;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,ss(12),oa(this),Fd(this);break e}is(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vw(this,t)}this.S?(Ff(this,T,l),q0&&this.i&&3==T&&(uv(this.U,this.V,"tick",this.mb),this.V.start())):(is(this.j,this.m,l,null),vw(this,l)),4==T&&oa(this),this.i&&!this.J&&(4==T?Mw(this.l,this):(this.i=!1,kd(this)))}else(function Ug(n){const e={};n=(n.g&&2<=aa(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(vg(n[r]))continue;var t=uw(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const a=e[i]||[];e[i]=a,a.push(t)}!function dR(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,ss(12)):(this.o=0,ss(13)),oa(this),Fd(this)}}}catch{}},tt.mb=function(){if(this.g){var n=aa(this.g),e=this.g.ja();this.C<e.length&&(yw(this),Ff(this,n,e),this.i&&4!=n&&kd(this))}},tt.cancel=function(){this.J=!0,oa(this)},tt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function dv(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Sg(),ss(17)),oa(this),this.o=2,Fd(this)):Og(this,this.Y-n)};var gv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ld(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Ld){this.h=n.h,_w(this,n.j),this.s=n.s,this.g=n.g,mv(this,n.m),this.l=n.l;var e=n.i,t=new kg;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Pg(this,t),this.o=n.o}else n&&(e=String(n).match(gv))?(this.h=!1,_w(this,e[1]||"",!0),this.s=Lf(e[2]||""),this.g=Lf(e[3]||"",!0),mv(this,e[4]),this.l=Lf(e[5]||"",!0),Pg(this,e[6]||"",!0),this.o=Lf(e[7]||"")):(this.h=!1,this.i=new kg(null,this.h))}function Vu(n){return new Ld(n)}function _w(n,e,t){n.j=t?Lf(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function mv(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Pg(n,e,t){e instanceof kg?(n.i=e,function PC(n,e){e&&!n.j&&(ho(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(OC(this,r),Vf(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Vd(e,RC)),n.i=new kg(e,n.h))}function An(n,e,t){n.i.set(e,t)}function yv(n){return An(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Lf(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Vd(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,vv),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function vv(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ld.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Vd(e,xC,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Vd(e,xC,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Vd(t,"/"==t.charAt(0)?VA:NC,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Vd(t,fR)),n.join("")};var xC=/[#\/\?@]/g,NC=/[#\?:]/g,VA=/[#\?]/g,RC=/[#\?@]/g,fR=/#/g;function kg(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ho(n){n.g||(n.g=new Map,n.h=0,n.i&&function MC(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function OC(n,e){ho(n),e=Uf(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Ud(n,e){return ho(n),e=Uf(n,e),n.g.has(e)}function Vf(n,e,t){OC(n,e),0<t.length&&(n.i=null,n.g.set(Uf(n,e),Lu(t)),n.h+=t.length)}function Uf(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function kC(n){this.l=n||BA,n=Lt.PerformanceNavigationTiming?0<(n=Lt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Lt.g&&Lt.g.Ka&&Lt.g.Ka()&&Lt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(tt=kg.prototype).add=function(n,e){ho(this),this.i=null,n=Uf(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},tt.forEach=function(n,e){ho(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},tt.ta=function(){ho(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},tt.Z=function(n){ho(this);let e=[];if("string"==typeof n)Ud(this,n)&&(e=e.concat(this.g.get(Uf(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},tt.set=function(n,e){return ho(this),this.i=null,Ud(this,n=Uf(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},tt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},tt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var i=a;""!==l[r]&&(i+="="+encodeURIComponent(String(l[r]))),n.push(i)}}return this.i=n.join("&")};var BA=10;function ww(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Ew(n){return n.h?1:n.g?n.g.size:0}function Fg(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function FC(n,e){n.g?n.g.add(e):n.h=e}function _v(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Iw(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Lu(n.i)}kC.prototype.cancel=function(){if(this.i=Iw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var jA=class{stringify(n){return Lt.JSON.stringify(n,void 0)}parse(n){return Lt.JSON.parse(n,void 0)}};function $A(){this.g=new jA}function LC(n,e,t){const r=t||"";try{AC(n,function(i,a){let l=i;yg(i)&&(l=yC(i)),e.push(r+a+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Lg(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Vg(n){this.l=n.fc||null,this.j=n.ob||!1}function wv(n,e){ai.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=VC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Pr(Vg,Ag),Vg.prototype.g=function(){return new wv(this.l,this.j)},Vg.prototype.i=function(n){return function(){return n}}({}),Pr(wv,ai);var VC=0;function bw(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Bf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,os(n)}function os(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(tt=wv.prototype).open=function(n,e){if(this.readyState!=VC)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,os(this)},tt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Lt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},tt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Bf(this)),this.readyState=VC},tt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,os(this)),this.g&&(this.readyState=3,os(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Lt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bw(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},tt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Bf(this):os(this),3==this.readyState&&bw(this)}},tt.Za=function(n){this.g&&(this.response=this.responseText=n,Bf(this))},tt.Ya=function(n){this.g&&(this.response=n,Bf(this))},tt.ka=function(){this.g&&Bf(this)},tt.setRequestHeader=function(n,e){this.v.append(n,e)},tt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},tt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(wv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Cw=Lt.JSON.parse;function vr(n){ai.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=zA,this.L=this.M=!1}Pr(vr,ai);var zA="",GA=/^https?$/i,qA=["POST","PUT"];function Bd(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,qa(n),Ev(n)}function qa(n){n.F||(n.F=!0,ui(n,"complete"),ui(n,"error"))}function jd(n){if(n.h&&typeof Cf<"u"&&(!n.C[1]||4!=aa(n)||2!=n.da()))if(n.v&&4==aa(n))Cg(n.La,0,n);else if(ui(n,"readystatechange"),4==aa(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===l){var i=String(n.I).match(gv)[1]||null;!i&&Lt.self&&Lt.self.location&&(i=Lt.self.location.protocol.slice(0,-1)),r=!GA.test(i?i.toLowerCase():"")}t=r}if(t)ui(n,"complete"),ui(n,"success");else{n.m=6;try{var a=2<aa(n)?n.g.statusText:""}catch{a=""}n.j=a+" ["+n.da()+"]",qa(n)}}finally{Ev(n)}}}function Ev(n,e){if(n.g){BC(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||ui(n,"ready");try{t.onreadystatechange=r}catch{}}}function BC(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Lt.clearTimeout(n.A),n.A=null)}function aa(n){return n.g?n.g.readyState:0}function Iv(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case zA:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Dw(n){let e="";return _g(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function jC(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Dw(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):An(n,e,t))}function $d(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Hd(n){this.Ga=0,this.j=[],this.l=new lv,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=$d("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=$d("baseRetryDelayMs",5e3,n),this.hb=$d("retryDelaySeedMs",1e4,n),this.eb=$d("forwardChannelMaxRetries",2,n),this.xa=$d("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new kC(n&&n.concurrentRequestLimit),this.Ja=new $A,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function jf(n){if(Tw(n),3==n.H){var e=n.W++,t=Vu(n.I);if(An(t,"SID",n.K),An(t,"RID",e),An(t,"TYPE","terminate"),jg(n,t),(e=new xg(n,n.l,e)).L=2,e.v=yv(Vu(t)),t=!1,Lt.navigator&&Lt.navigator.sendBeacon)try{t=Lt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Lt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Nw(e.l,null),e.g.ha(e.v)),e.G=Date.now(),kd(e)}Hg(n)}function Bg(n){n.g&&(HC(n),n.g.cancel(),n.g=null)}function Tw(n){Bg(n),n.u&&(Lt.clearTimeout(n.u),n.u=null),$g(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Lt.clearTimeout(n.m),n.m=null)}function bv(n){if(!ww(n.i)&&!n.m){n.m=!0;var e=n.Na;Ig||bg(),Nf||(Ig(),Nf=!0),av.add(e,n),n.C=0}}function $C(n,e){var t;t=e?e.m:n.W++;const r=Vu(n.I);An(r,"SID",n.K),An(r,"RID",t),An(r,"AID",n.V),jg(n,r),n.o&&n.s&&jC(r,n.o,n.s),t=new xg(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=Sw(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),FC(n.i,t),Ng(t,r,e)}function jg(n,e){n.na&&_g(n.na,function(t,r){An(e,r,t)}),n.h&&AC({},function(t,r){An(e,r,t)})}function Sw(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Sr(n.h.Va,n.h,n):null;e:{var i=n.j;let a=-1;for(;;){const l=["count="+t];-1==a?0<t?(a=i[0].g,l.push("ofs="+a)):a=0:l.push("ofs="+a);let f=!0;for(let y=0;y<t;y++){let w=i[y].g;const T=i[y].map;if(w-=a,0>w)a=Math.max(0,i[y].g-100),f=!1;else try{LC(T,l,"req"+w+"_")}catch{r&&r(T)}}if(f){r=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function KA(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Ig||bg(),Nf||(Ig(),Nf=!0),av.add(e,n),n.A=0}}function Aw(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Of(Sr(n.Ma,n),YA(n,n.A)),n.A++,0))}function HC(n){null!=n.B&&(Lt.clearTimeout(n.B),n.B=null)}function ZA(n){n.g=new xg(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Vu(n.wa);An(e,"RID","rpc"),An(e,"SID",n.K),An(e,"AID",n.V),An(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&An(e,"TO",n.qa),An(e,"TYPE","xmlhttp"),jg(n,e),n.o&&n.s&&jC(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=yv(Vu(e)),t.s=null,t.S=!0,kf(t,n)}function $g(n){null!=n.v&&(Lt.clearTimeout(n.v),n.v=null)}function Mw(n,e){var t=null;if(n.g==e){$g(n),HC(n),n.g=null;var r=2}else{if(!Fg(n.i,e))return;t=e.F,_v(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;ui(r=Tg(),new hv(r,t)),bv(n)}else KA(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function WA(n,e){return!(Ew(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Of(Sr(n.Na,n,e),YA(n,n.C)),n.C++,0)))}(n,e)||2==r&&Aw(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Yl(n,5);break;case 4:Yl(n,10);break;case 3:Yl(n,6);break;default:Yl(n,2)}}function YA(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Yl(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Sr(n.pb,n);t||(t=new Ld("//www.google.com/images/cleardot.gif"),Lt.location&&"http"==Lt.location.protocol||_w(t,"https"),yv(t)),function HA(n,e){const t=new lv;if(Lt.Image){const r=new Image;r.onload=Nd(Lg,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Nd(Lg,t,r,"TestLoadImage: error",!1,e),r.onabort=Nd(Lg,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Nd(Lg,t,r,"TestLoadImage: timeout",!1,e),Lt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ss(2);n.H=0,n.h&&n.h.za(e),Hg(n),Tw(n)}function Hg(n){if(n.H=0,n.ma=[],n.h){const e=Iw(n.i);(0!=e.length||0!=n.j.length)&&(uC(n.ma,e),uC(n.ma,n.j),n.i.i.length=0,Lu(n.j),n.j.length=0),n.h.ya()}}function xw(n,e,t){var r=t instanceof Ld?Vu(t):new Ld(t);if(""!=r.g)e&&(r.g=e+"."+r.g),mv(r,r.m);else{var i=Lt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new Ld(null);r&&_w(a,r),e&&(a.g=e),i&&mv(a,i),t&&(a.l=t),r=a}return e=n.Da,(t=n.F)&&e&&An(r,t,e),An(r,"VER",n.ra),jg(n,r),r}function Nw(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new vr(t&&n.Ha&&!n.va?new Vg({ob:!0}):n.va)).Oa(n.J),e}function Rw(){}function Vt(){if(Df&&!(10<=Number(fC)))throw Error("Environmental error: no available transport.")}function Es(n,e){ai.call(this),this.g=new Hd(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!vg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!vg(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Gd(this)}function Ow(n){gw.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function zd(){CC.call(this),this.status=1}function Gd(n){this.g=n}function Is(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ql(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var a=n.g[3],l=(e=n.g[0])+(a^(t=n.g[1])&((i=n.g[2])^a))+r[0]+3614090360&4294967295;l=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=t+(l<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(i^a&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(i^(t|~a))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~a))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~a))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((a=(e=t+((l=e+(i^(t|~a))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((i=a+((l=i+(e^(a|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+a&4294967295}function mn(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var a=0|n[i];r&&a==e||(t[i]=a,r=!1)}this.g=t}(tt=vr.prototype).Oa=function(n){this.M=n},tt.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():DC.g(),this.C=function FA(n){return n.h||(n.h=n.i())}(this.u?this.u:DC),this.g.onreadystatechange=Sr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(a){return void Bd(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=Lt.FormData&&n instanceof Lt.FormData,!(0<=G0(qA,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,l]of t)this.g.setRequestHeader(a,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{BC(this),0<this.B&&((this.L=function UC(n){return Df&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Sr(this.ua,this)):this.A=Cg(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){Bd(this,a)}},tt.ua=function(){typeof Cf<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ui(this,"timeout"),this.abort(8))},tt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ui(this,"complete"),ui(this,"abort"),Ev(this))},tt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ev(this,!0)),vr.$.N.call(this)},tt.La=function(){this.s||(this.G||this.v||this.l?jd(this):this.kb())},tt.kb=function(){jd(this)},tt.isActive=function(){return!!this.g},tt.da=function(){try{return 2<aa(this)?this.g.status:-1}catch{return-1}},tt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},tt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Cw(e)}},tt.Ia=function(){return this.m},tt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(tt=Hd.prototype).ra=8,tt.H=1,tt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new xg(this,this.l,n);let a=this.s;if(this.U&&(a?(a=PA(a),gC(a,this.U)):a=this.U),null!==this.o||this.O||(i.I=a,a=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Sw(this,i,e),An(t=Vu(this.I),"RID",n),An(t,"CVER",22),this.F&&An(t,"X-HTTP-Session-Id",this.F),jg(this,t),a&&(this.O?e="headers="+encodeURIComponent(String(Dw(a)))+"&"+e:this.o&&jC(t,this.o,a)),FC(this.i,i),this.bb&&An(t,"TYPE","init"),this.P?(An(t,"$req",e),An(t,"SID","null"),i.aa=!0,Ng(i,t,null)):Ng(i,t,e),this.H=2}}else 3==this.H&&(n?$C(this,n):0==this.j.length||ww(this.i)||$C(this))},tt.Ma=function(){if(this.u=null,ZA(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Of(Sr(this.jb,this),n)}},tt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ss(10),Bg(this),ZA(this))},tt.ib=function(){null!=this.v&&(this.v=null,Bg(this),Aw(this),ss(19))},tt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),ss(2)):(this.l.info("Failed to ping google.com"),ss(1))},tt.isActive=function(){return!!this.h&&this.h.isActive(this)},(tt=Rw.prototype).Ba=function(){},tt.Aa=function(){},tt.za=function(){},tt.ya=function(){},tt.isActive=function(){return!0},tt.Va=function(){},Vt.prototype.g=function(n,e){return new Es(n,e)},Pr(Es,ai),Es.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;ss(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=xw(n,null,n.Y),bv(n)},Es.prototype.close=function(){jf(this.g)},Es.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=yC(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&bv(e)},Es.prototype.N=function(){this.g.h=null,delete this.j,jf(this.g),delete this.g,Es.$.N.call(this)},Pr(Ow,gw),Pr(zd,CC),Pr(Gd,Rw),Gd.prototype.Ba=function(){ui(this.g,"a")},Gd.prototype.Aa=function(n){ui(this.g,new Ow(n))},Gd.prototype.za=function(n){ui(this.g,new zd)},Gd.prototype.ya=function(){ui(this.g,"b")},Pr(Is,function QA(){this.blockSize=-1}),Is.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Is.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,a=0;a<e;){if(0==i)for(;a<=t;)Ql(this,n,a),a+=this.blockSize;if("string"==typeof n){for(;a<e;)if(r[i++]=n.charCodeAt(a++),i==this.blockSize){Ql(this,r),i=0;break}}else for(;a<e;)if(r[i++]=n[a++],i==this.blockSize){Ql(this,r),i=0;break}}this.h=i,this.i+=e},Is.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var zg={};function Cv(n){return-128<=n&&128>n?function RA(n,e){var t=zg;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new mn([0|e],0>e?-1:0)}):new mn([0|n],0>n?-1:0)}function fo(n){if(isNaN(n)||!isFinite(n))return qd;if(0>n)return li(fo(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=Gg;return new mn(e,0)}var Gg=4294967296,qd=Cv(0),qg=Cv(1),zC=Cv(16777216);function Uu(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function po(n){return-1==n.h}function li(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new mn(t,~n.h).add(qg)}function Tv(n,e){return n.add(li(e))}function Sv(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Wg(n,e){this.g=n,this.h=e}function Av(n,e){if(Uu(e))throw Error("division by zero");if(Uu(n))return new Wg(qd,qd);if(po(n))return e=Av(li(n),e),new Wg(li(e.g),li(e.h));if(po(e))return e=Av(n,li(e)),new Wg(li(e.g),e.h);if(30<n.g.length){if(po(n)||po(e))throw Error("slowDivide_ only works with positive integers.");for(var t=qg,r=e;0>=r.X(n);)t=Pw(t),r=Pw(r);var i=Wd(t,1),a=Wd(r,1);for(r=Wd(r,2),t=Wd(t,2);!Uu(r);){var l=a.add(r);0>=l.X(n)&&(i=i.add(t),a=l),r=Wd(r,1),t=Wd(t,1)}return e=Tv(n,i.R(e)),new Wg(i,e)}for(i=qd;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(a=fo(t)).R(e);po(l)||0<l.X(n);)l=(a=fo(t-=r)).R(e);Uu(a)&&(a=qg),i=i.add(a),n=Tv(n,l)}return new Wg(i,n)}function Pw(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new mn(t,n.h)}function Wd(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],a=0;a<r;a++)i[a]=0<e?n.D(a+t)>>>e|n.D(a+t+1)<<32-e:n.D(a+t);return new mn(i,n.h)}(tt=mn.prototype).ea=function(){if(po(this))return-li(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:Gg+r)*e,e*=Gg}return n},tt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Uu(this))return"0";if(po(this))return"-"+li(this).toString(n);for(var e=fo(Math.pow(n,6)),t=this,r="";;){var i=Av(t,e).g,a=((0<(t=Tv(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Uu(t=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},tt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},tt.X=function(n){return po(n=Tv(this,n))?-1:Uu(n)?0:1},tt.abs=function(){return po(this)?li(this):this},tt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var a=r+(65535&this.D(i))+(65535&n.D(i)),l=(a>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=l>>>16,t[i]=(l&=65535)<<16|(a&=65535)}return new mn(t,-2147483648&t[t.length-1]?-1:0)},tt.R=function(n){if(Uu(this)||Uu(n))return qd;if(po(this))return po(n)?li(this).R(li(n)):li(li(this).R(n));if(po(n))return li(this.R(li(n)));if(0>this.X(zC)&&0>n.X(zC))return fo(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var a=this.D(r)>>>16,l=65535&this.D(r),f=n.D(i)>>>16,y=65535&n.D(i);t[2*r+2*i]+=l*y,Sv(t,2*r+2*i),t[2*r+2*i+1]+=a*y,Sv(t,2*r+2*i+1),t[2*r+2*i+1]+=l*f,Sv(t,2*r+2*i+1),t[2*r+2*i+2]+=a*f,Sv(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new mn(t,0)},tt.gb=function(n){return Av(this,n).h},tt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new mn(t,this.h&n.h)},tt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new mn(t,this.h|n.h)},tt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new mn(t,this.h^n.h)},Vt.prototype.createWebChannel=Vt.prototype.g,Es.prototype.send=Es.prototype.u,Es.prototype.open=Es.prototype.m,Es.prototype.close=Es.prototype.close,fv.NO_ERROR=0,fv.TIMEOUT=8,fv.HTTP_ERROR=6,pw.COMPLETE="complete",bC.EventType=Mg,Mg.OPEN="a",Mg.CLOSE="b",Mg.ERROR="c",Mg.MESSAGE="d",ai.prototype.listen=ai.prototype.O,vr.prototype.listenOnce=vr.prototype.P,vr.prototype.getLastError=vr.prototype.Sa,vr.prototype.getLastErrorCode=vr.prototype.Ia,vr.prototype.getStatus=vr.prototype.da,vr.prototype.getResponseJson=vr.prototype.Wa,vr.prototype.getResponseText=vr.prototype.ja,vr.prototype.send=vr.prototype.ha,vr.prototype.setWithCredentials=vr.prototype.Oa,Is.prototype.digest=Is.prototype.l,Is.prototype.reset=Is.prototype.reset,Is.prototype.update=Is.prototype.j,mn.prototype.add=mn.prototype.add,mn.prototype.multiply=mn.prototype.R,mn.prototype.modulo=mn.prototype.gb,mn.prototype.compare=mn.prototype.X,mn.prototype.toNumber=mn.prototype.ea,mn.prototype.toString=mn.prototype.toString,mn.prototype.getBits=mn.prototype.D,mn.fromNumber=fo,mn.fromString=function Dv(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return li(Dv(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=fo(Math.pow(e,8)),r=qd,i=0;i<n.length;i+=8){var a=Math.min(8,n.length-i),l=parseInt(n.substring(i,i+a),e);8>a?(a=fo(Math.pow(e,a)),r=r.R(a).add(fo(l))):r=(r=r.R(t)).add(fo(l))}return r};var JA=co.createWebChannelTransport=function(){return new Vt},XA=co.getStatEventTarget=function(){return Tg()},as=co.ErrorCode=fv,eM=co.EventType=pw,tM=co.Event=Rd,nM=co.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},kw=co.FetchXmlHttpFactory=Vg,Kg=co.WebChannel=bC,rM=co.XhrIo=vr,iM=co.Md5=Is,$f=co.Integer=mn;const Fw="@firebase/firestore";class ci{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ci.UNAUTHENTICATED=new ci(null),ci.GOOGLE_CREDENTIALS=new ci("google-credentials-uid"),ci.FIRST_PARTY=new ci("first-party-uid"),ci.MOCK_USER=new ci("mock-user");let Hf="9.23.0";const Wa=new ql.Yd("@firebase/firestore");function Lw(){return Wa.logLevel}function Pe(n,...e){if(Wa.logLevel<=ql.in.DEBUG){const t=e.map(mo);Wa.debug(`Firestore (${Hf}): ${n}`,...t)}}function Ar(n,...e){if(Wa.logLevel<=ql.in.ERROR){const t=e.map(mo);Wa.error(`Firestore (${Hf}): ${n}`,...t)}}function go(n,...e){if(Wa.logLevel<=ql.in.WARN){const t=e.map(mo);Wa.warn(`Firestore (${Hf}): ${n}`,...t)}}function mo(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ot(n="Unexpected state"){const e=`FIRESTORE (${Hf}) INTERNAL ASSERTION FAILED: `+n;throw Ar(e),new Error(e)}function gt(n,e){n||ot()}function Xe(n,e){return n}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ce extends un.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _r{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Mv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ci.UNAUTHENTICATED))}shutdown(){}}class qC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class WC{constructor(e){this.t=e,this.currentUser=ci.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let l=new _r;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new _r,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const w=l;e.enqueueRetryable((0,ve.Z)(function*(){yield w.promise,yield a(r.currentUser)}))},y=w=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>y(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?y(w):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new _r)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(gt("string"==typeof r.accessToken),new Mv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return gt(null===e||"string"==typeof e),new ci(e)}}class KC{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=ci.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ZC{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new KC(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ci.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Bu{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=a=>{null!=a.error&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.T;return this.T=a.token,Pe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?i(a):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(gt("string"==typeof t.token),this.T=t.token,new xv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function oM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Nv{static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=oM(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[a]%62))}return r}}function $t(n,e){return n<e?-1:n>e?1:0}function Kd(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function YC(n){return n+"\0"}class Mn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ce(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ce(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ce(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mn.fromMillis(Date.now())}static fromDate(e){return Mn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Mn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$t(this.nanoseconds,e.nanoseconds):$t(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ct{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ct(e)}static min(){return new ct(new Mn(0,0))}static max(){return new ct(new Mn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Jl{constructor(e,t,r){void 0===t?t=0:t>e.length&&ot(),void 0===r?r=e.length-t:r>e.length-t&&ot(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Jl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Jl?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),l=t.get(i);if(a<l)return-1;if(a>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class on extends Jl{construct(e,t,r){return new on(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ce(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new on(t)}static emptyPath(){return new on([])}}const aM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nr extends Jl{construct(e,t,r){return new nr(e,t,r)}static isValidIdentifier(e){return aM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new nr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Ce(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Ce(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Ce(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===f?(l=!l,i++):"."!==f||l?(r+=f,i++):(a(),i++)}if(a(),l)throw new Ce(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nr(t)}static emptyPath(){return new nr([])}}class Ze{constructor(e){this.path=e}static fromPath(e){return new Ze(on.fromString(e))}static fromName(e){return new Ze(on.fromString(e).popFirst(5))}static empty(){return new Ze(on.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===on.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return on.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ze(new on(e.slice()))}}class Rv{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function Vw(n){return n.fields.find(e=>2===e.kind)}function Xl(n){return n.fields.filter(e=>2!==e.kind)}Rv.UNKNOWN_ID=-1;class ec{constructor(e,t){this.fieldPath=e,this.kind=t}}class zf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new zf(0,Us.min())}}function Uw(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ct.fromTimestamp(1e9===r?new Mn(t+1,0):new Mn(t,r));return new Us(i,Ze.empty(),e)}function JC(n){return new Us(n.readTime,n.key,-1)}class Us{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Us(ct.min(),Ze.empty(),-1)}static max(){return new Us(ct.max(),Ze.empty(),-1)}}function Zd(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ze.comparator(n.documentKey,e.documentKey),0!==t?t:$t(n.largestBatchId,e.largestBatchId))}const XC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function tc(n){return Bw.apply(this,arguments)}function Bw(){return Bw=(0,ve.Z)(function*(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==XC)throw n;Pe("LocalStore","Unexpectedly lost primary lease")}),Bw.apply(this,arguments)}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):se.reject(t)}static resolve(e){return new se((t,r)=>{t(e)})}static reject(e){return new se((t,r)=>{r(e)})}static waitFor(e){return new se((t,r)=>{let i=0,a=0,l=!1;e.forEach(f=>{++i,f.next(()=>{++a,l&&a===i&&t()},y=>r(y))}),l=!0,a===i&&t()})}static or(e){let t=se.resolve(!1);for(const r of e)t=t.next(i=>i?se.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new se((r,i)=>{const a=e.length,l=new Array(a);let f=0;for(let y=0;y<a;y++){const w=y;t(e[w]).next(T=>{l[w]=T,++f,f===a&&r(l)},T=>i(T))}})}static doWhile(e,t){return new se((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}class Ov{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new _r,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Gf(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const i=jw(r.target.error);this.v.reject(new Gf(e,i))}}static open(e,t,r,i){try{return new Ov(t,e.transaction(i,r))}catch(a){throw new Gf(t,a)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Pe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new cM(t)}}class ua{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===ua.S((0,un.z$)())&&Ar("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Pe("SimpleDb","Removing database:",e),Za(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,un.hl)())return!1;if(ua.C())return!0;const e=(0,un.z$)(),t=ua.S(e),r=0<t&&t<10,i=ua.N(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,ve.Z)(function*(){return t.db||(Pe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=l=>{r(l.target.result)},a.onblocked=()=>{i(new Gf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const f=l.target.error;i("VersionError"===f.name?new Ce(le.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Ce(le.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Gf(e,f))},a.onupgradeneeded=l=>{Pe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.V.O(l.target.result,a.transaction,l.oldVersion,t.version).next(()=>{Pe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,ve.Z)(function*(){const l="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.$(e);const y=Ov.open(a.db,e,l?"readonly":"readwrite",r),w=i(y).next(T=>(y.P(),T)).catch(T=>(y.abort(T),se.reject(T))).toPromise();return w.catch(()=>{}),yield y.R,w}catch(y){const w=y,T="FirebaseError"!==w.name&&f<3;if(Pe("SimpleDb","Transaction failed with error:",w.message,"Retrying:",T),a.close(),!T)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class lM{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Za(this.L.delete())}}class Gf extends Ce{constructor(e,t){super(le.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ka(n){return"IndexedDbTransactionError"===n.name}class cM{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Pe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Pe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Za(r)}add(e){return Pe("SimpleDb","ADD",this.store.name,e,e),Za(this.store.add(e))}get(e){return Za(this.store.get(e)).next(t=>(void 0===t&&(t=null),Pe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Pe("SimpleDb","DELETE",this.store.name,e),Za(this.store.delete(e))}count(){return Pe("SimpleDb","COUNT",this.store.name),Za(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.W(i,(l,f)=>{a.push(f)}).next(()=>a)}{const i=this.store.getAll(r.range);return new se((a,l)=>{i.onerror=f=>{l(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new se((i,a)=>{r.onerror=l=>{a(l.target.error)},r.onsuccess=l=>{i(l.target.result)}})}J(e,t){Pe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.W(i,(a,l,f)=>f.delete())}X(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Z(e){const t=this.cursor({});return new se((r,i)=>{t.onerror=a=>{const l=jw(a.target.error);i(l)},t.onsuccess=a=>{const l=a.target.result;l?e(l.primaryKey,l.value).next(f=>{f?l.continue():r()}):r()}})}W(e,t){const r=[];return new se((i,a)=>{e.onerror=l=>{a(l.target.error)},e.onsuccess=l=>{const f=l.target.result;if(!f)return void i();const y=new lM(f),w=t(f.primaryKey,f.value,y);if(w instanceof se){const T=w.catch(M=>(y.done(),se.reject(M)));r.push(T)}y.isDone?i():null===y.K?f.continue():f.continue(y.K)}}).next(()=>se.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Za(n){return new se((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=jw(r.target.error);t(i)}})}let tD=!1;function jw(n){const e=ua.S((0,un.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ce("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return tD||(tD=!0,setTimeout(()=>{throw r},0)),r}}return n}class dM{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Pe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ve.Z)(function*(){t.task=null;try{Pe("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){Ka(r)?Pe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield tc(r)}yield t.et(6e4)}))}}class hM{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,ve.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let i=t,a=!0;return se.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!r.has(l))return Pe("IndexBackiller",`Processing collection: ${l}`),this.it(e,l,i).next(f=>{i-=f,r.add(l)});a=!1})).next(()=>t-i)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(a=>{const l=a.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.rt(i,a)).next(f=>(Pe("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>l.size)}))}rt(e,t){let r=e;return t.changes.forEach((i,a)=>{const l=JC(a);Zd(l,r)>0&&(r=l)}),new Us(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Bs=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Zg(n){return null==n}function Yg(n){return 0===n&&1/n==-1/0}function $w(n){return"number"==typeof n&&Number.isInteger(n)&&!Yg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Ei(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=pM(e)),e=fM(n.get(t),e);return pM(e)}function fM(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function pM(n){return n+"\x01\x01"}function la(n){const e=n.length;if(gt(e>=2),2===e)return gt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),on.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const l=n.indexOf("\x01",a);switch((l<0||l>t)&&ot(),n.charAt(l+1)){case"\x01":const f=n.substring(a,l);let y;0===i.length?y=f:(i+=f,y=i,i=""),r.push(y);break;case"\x10":i+=n.substring(a,l),i+="\0";break;case"\x11":i+=n.substring(a,l+1);break;default:ot()}a=l+2}return new on(r)}const Hw=["userId","batchId"];function zw(n,e){return[n,Ei(e)]}function Qg(n,e,t){return[n,Ei(e),t]}const gM={},mM=["prefixPath","collectionGroup","readTime","documentId"],Gw=["prefixPath","collectionGroup","documentId"],yM=["collectionGroup","readTime","prefixPath","documentId"],Ya=["canonicalId","targetId"],Jg=["targetId","path"],qi=["path","targetId"],Yd=["collectionId","parent"],Pv=["indexId","uid"],yo=["uid","sequenceNumber"],qw=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],qf=["indexId","uid","orderedDocumentKey"],Wf=["userId","collectionPath","documentId"],Kf=["userId","collectionPath","largestBatchId"],Zf=["userId","collectionGroup","largestBatchId"],Qd=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Yf=[...Qd,"documentOverlays"],Jd=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Xd=Jd,Qf=[...Xd,"indexConfiguration","indexState","indexEntries"];class kv extends eD{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Wr(n,e){const t=Xe(n);return ua.M(t.ht,e)}function Ww(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ju(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Kw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class xn{constructor(e,t){this.comparator=e,this.root=t||di.EMPTY}insert(e,t){return new xn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,di.BLACK,null,null))}remove(e){return new xn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,di.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xg(this.root,e,this.comparator,!0)}}class Xg{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class di{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??di.RED,this.left=i??di.EMPTY,this.right=a??di.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new di(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return di.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return di.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,di.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,di.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ot();const e=this.left.check();if(e!==this.right.check())throw ot();return e+(this.isRed()?0:1)}}di.EMPTY=null,di.RED=!0,di.BLACK=!1,di.EMPTY=new class{constructor(){this.size=0}get key(){throw ot()}get value(){throw ot()}get color(){throw ot()}get left(){throw ot()}get right(){throw ot()}copy(n,e,t,r,i){return this}insert(n,e,t){return new di(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fn{constructor(e){this.comparator=e,this.data=new xn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Fv(this.data.getIterator())}getIteratorFrom(e){return new Fv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Fn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Fn(this.comparator);return t.data=e,t}}class Fv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Jf(n){return n.hasNext()?n.getNext():void 0}class js{constructor(e){this.fields=e,e.sort(nr.comparator)}static empty(){return new js([])}unionWith(e){let t=new Fn(nr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new js(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Kd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class vM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Kr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new vM("Invalid base64 string: "+i):i}}(e);return new Kr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Kr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $t(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kr.EMPTY_BYTE_STRING=new Kr("");const mR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nc(n){if(gt(!!n),"string"==typeof n){let e=0;const t=mR.exec(n);if(gt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Mr(n.seconds),nanos:Mr(n.nanos)}}function Mr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function $u(n){return"string"==typeof n?Kr.fromBase64String(n):Kr.fromUint8Array(n)}function Lv(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Vv(n){const e=n.mapValue.fields.__previous_value__;return Lv(e)?Vv(e):e}function eh(n){const e=nc(n.mapValue.fields.__local_write_time__.timestampValue);return new Mn(e.seconds,e.nanos)}class em{constructor(e,t,r,i,a,l,f,y,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=f,this.longPollingOptions=y,this.useFetchStreams=w}}class Qa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Qa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Qa&&e.projectId===this.projectId&&e.database===this.database}}const ca={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},tm={nullValue:"NULL_VALUE"};function vo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Lv(n)?4:iD(n)?9007199254740991:10:ot()}function da(n,e){if(n===e)return!0;const t=vo(n);if(t!==vo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return eh(n).isEqual(eh(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=nc(r.timestampValue),l=nc(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,$u(n.bytesValue).isEqual($u(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Mr(r.geoPointValue.latitude)===Mr(i.geoPointValue.latitude)&&Mr(r.geoPointValue.longitude)===Mr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Mr(r.integerValue)===Mr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Mr(r.doubleValue),l=Mr(i.doubleValue);return a===l?Yg(a)===Yg(l):isNaN(a)&&isNaN(l)}return!1}(n,e);case 9:return Kd(n.arrayValue.values||[],e.arrayValue.values||[],da);case 10:return function(r,i){const a=r.mapValue.fields||{},l=i.mapValue.fields||{};if(Ww(a)!==Ww(l))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===l[f]||!da(a[f],l[f])))return!1;return!0}(n,e);default:return ot()}var i}function nm(n,e){return void 0!==(n.values||[]).find(t=>da(t,e))}function _o(n,e){if(n===e)return 0;const t=vo(n),r=vo(e);if(t!==r)return $t(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return $t(n.booleanValue,e.booleanValue);case 2:return function(i,a){const l=Mr(i.integerValue||i.doubleValue),f=Mr(a.integerValue||a.doubleValue);return l<f?-1:l>f?1:l===f?0:isNaN(l)?isNaN(f)?0:-1:1}(n,e);case 3:return nD(n.timestampValue,e.timestampValue);case 4:return nD(eh(n),eh(e));case 5:return $t(n.stringValue,e.stringValue);case 6:return function(i,a){const l=$u(i),f=$u(a);return l.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),f=a.split("/");for(let y=0;y<l.length&&y<f.length;y++){const w=$t(l[y],f[y]);if(0!==w)return w}return $t(l.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const l=$t(Mr(i.latitude),Mr(a.latitude));return 0!==l?l:$t(Mr(i.longitude),Mr(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const l=i.values||[],f=a.values||[];for(let y=0;y<l.length&&y<f.length;++y){const w=_o(l[y],f[y]);if(w)return w}return $t(l.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===ca.mapValue&&a===ca.mapValue)return 0;if(i===ca.mapValue)return 1;if(a===ca.mapValue)return-1;const l=i.fields||{},f=Object.keys(l),y=a.fields||{},w=Object.keys(y);f.sort(),w.sort();for(let T=0;T<f.length&&T<w.length;++T){const M=$t(f[T],w[T]);if(0!==M)return M;const F=_o(l[f[T]],y[w[T]]);if(0!==F)return F}return $t(f.length,w.length)}(n.mapValue,e.mapValue);default:throw ot()}}function nD(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return $t(n,e);const t=nc(n),r=nc(e),i=$t(t.seconds,r.seconds);return 0!==i?i:$t(t.nanos,r.nanos)}function Xf(n){return Zw(n)}function Zw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=nc(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?$u(n.bytesValue).toBase64():"referenceValue"in n?Ze.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const l of r.values||[])a?a=!1:i+=",",i+=Zw(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",l=!0;for(const f of i)l?l=!1:a+=",",a+=`${f}:${Zw(r.fields[f])}`;return a+"}"}(n.mapValue):ot();var e}function Hu(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ep(n){return!!n&&"integerValue"in n}function rc(n){return!!n&&"arrayValue"in n}function wM(n){return!!n&&"nullValue"in n}function rD(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Bv(n){return!!n&&"mapValue"in n}function th(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ju(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=th(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=th(n.arrayValue.values[t]);return e}return Object.assign({},n)}function iD(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function sD(n){return"nullValue"in n?tm:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Hu(Qa.empty(),Ze.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ot()}function EM(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Hu(Qa.empty(),Ze.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?ca:ot()}function oD(n,e){const t=_o(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Yw(n,e){const t=_o(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class hi{constructor(e){this.value=e}static empty(){return new hi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Bv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=th(t)}setAll(e){let t=nr.emptyPath(),r={},i=[];e.forEach((l,f)=>{if(!t.isImmediateParentOf(f)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=f.popLast()}l?r[f.lastSegment()]=th(l):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());Bv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return da(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Bv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ju(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new hi(th(this.value))}}function Qw(n){const e=[];return ju(n.fields,(t,r)=>{const i=new nr([t]);if(Bv(r)){const a=Qw(r.mapValue).fields;if(0===a.length)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new js(e)}class $n{constructor(e,t,r,i,a,l,f){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=f}static newInvalidDocument(e){return new $n(e,0,ct.min(),ct.min(),ct.min(),hi.empty(),0)}static newFoundDocument(e,t,r,i){return new $n(e,1,t,ct.min(),r,i,0)}static newNoDocument(e,t){return new $n(e,2,t,ct.min(),ct.min(),hi.empty(),0)}static newUnknownDocument(e,t){return new $n(e,3,t,ct.min(),ct.min(),hi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ct.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ct.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof $n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ic{constructor(e,t){this.position=e,this.inclusive=t}}function aD(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(r=a.field.isKeyField()?Ze.comparator(Ze.fromName(l.referenceValue),t.key):_o(l,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Jw(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!da(n.position[t],e.position[t]))return!1;return!0}class sc{constructor(e,t="asc"){this.field=e,this.dir=t}}function Xw(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class uD{}class Yt extends uD{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new cD(e,t,r):"array-contains"===t?new iE(e,r):"in"===t?new sE(e,r):"not-in"===t?new oE(e,r):"array-contains-any"===t?new dD(e,r):new Yt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new IM(e,r):new bM(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(_o(t,this.value)):null!==t&&vo(this.value)===vo(t)&&this.matchesComparison(_o(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ot()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ln extends uD{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new ln(e,t)}matches(e){return oc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function oc(n){return"and"===n.op}function jv(n){return"or"===n.op}function eE(n){return lD(n)&&oc(n)}function lD(n){for(const e of n.filters)if(e instanceof ln)return!1;return!0}function tE(n){if(n instanceof Yt)return n.field.canonicalString()+n.op.toString()+Xf(n.value);if(eE(n))return n.filters.map(e=>tE(e)).join(",");{const e=n.filters.map(t=>tE(t)).join(",");return`${n.op}(${e})`}}function rm(n,e){return n instanceof Yt?(t=n,(r=e)instanceof Yt&&t.op===r.op&&t.field.isEqual(r.field)&&da(t.value,r.value)):n instanceof ln?function(t,r){return r instanceof ln&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,a,l)=>i&&rm(a,r.filters[l]),!0)}(n,e):void ot();var t,r}function im(n,e){const t=n.filters.concat(e);return ln.create(t,n.op)}function nE(n){return n instanceof Yt?`${(e=n).field.canonicalString()} ${e.op} ${Xf(e.value)}`:n instanceof ln?function(e){return e.op.toString()+" {"+e.getFilters().map(nE).join(" ,")+"}"}(n):"Filter";var e}class cD extends Yt{constructor(e,t,r){super(e,t,r),this.key=Ze.fromName(r.referenceValue)}matches(e){const t=Ze.comparator(e.key,this.key);return this.matchesComparison(t)}}class IM extends Yt{constructor(e,t){super(e,"in",t),this.keys=rE(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class bM extends Yt{constructor(e,t){super(e,"not-in",t),this.keys=rE(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function rE(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ze.fromName(r.referenceValue))}class iE extends Yt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return rc(t)&&nm(t.arrayValue,this.value)}}class sE extends Yt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&nm(this.value.arrayValue,t)}}class oE extends Yt{constructor(e,t){super(e,"not-in",t)}matches(e){if(nm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!nm(this.value.arrayValue,t)}}class dD extends Yt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!rc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>nm(this.value.arrayValue,r))}}class CM{constructor(e,t=null,r=[],i=[],a=null,l=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=f,this.dt=null}}function $v(n,e=null,t=[],r=[],i=null,a=null,l=null){return new CM(n,e,t,r,i,a,l)}function ac(n){const e=Xe(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>tE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Zg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Xf(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Xf(r)).join(",")),e.dt=t}return e.dt}function tp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Xw(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!rm(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Jw(n.startAt,e.startAt)&&Jw(n.endAt,e.endAt)}function sm(n){return Ze.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Hv(n,e){return n.filters.filter(t=>t instanceof Yt&&t.field.isEqual(e))}function hD(n,e,t){let r=tm,i=!0;for(const a of Hv(n,e)){let l=tm,f=!0;switch(a.op){case"<":case"<=":l=sD(a.value);break;case"==":case"in":case">=":l=a.value;break;case">":l=a.value,f=!1;break;case"!=":case"not-in":l=tm}oD({value:r,inclusive:i},{value:l,inclusive:f})<0&&(r=l,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const l=t.position[a];oD({value:r,inclusive:i},{value:l,inclusive:t.inclusive})<0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}function fD(n,e,t){let r=ca,i=!0;for(const a of Hv(n,e)){let l=ca,f=!0;switch(a.op){case">=":case">":l=EM(a.value),f=!1;break;case"==":case"in":case"<=":l=a.value;break;case"<":l=a.value,f=!1;break;case"!=":case"not-in":l=ca}Yw({value:r,inclusive:i},{value:l,inclusive:f})>0&&(r=l,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const l=t.position[a];Yw({value:r,inclusive:i},{value:l,inclusive:t.inclusive})>0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}class Ja{constructor(e,t=null,r=[],i=[],a=null,l="F",f=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=f,this.endAt=y,this.wt=null,this._t=null}}function zv(n,e,t,r,i,a,l,f){return new Ja(n,e,t,r,i,a,l,f)}function nh(n){return new Ja(n)}function aE(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Gv(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function om(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function qv(n){return null!==n.collectionGroup}function uc(n){const e=Xe(n);if(null===e.wt){e.wt=[];const t=om(e),r=Gv(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new sc(t)),e.wt.push(new sc(nr.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.wt.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new sc(nr.keyField(),a))}}}return e.wt}function Wi(n){const e=Xe(n);if(!e._t)if("F"===e.limitType)e._t=$v(e.path,e.collectionGroup,uc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of uc(e))t.push(new sc(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new ic(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ic(e.startAt.position,e.startAt.inclusive):null;e._t=$v(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function Wv(n,e){e.getFirstInequalityField(),om(n);const t=n.filters.concat([e]);return new Ja(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function rh(n,e,t){return new Ja(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function wo(n,e){return tp(Wi(n),Wi(e))&&n.limitType===e.limitType}function pD(n){return`${ac(Wi(n))}|lt:${n.limitType}`}function uE(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>nE(r)).join(", ")}]`),Zg(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Xf(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Xf(r)).join(",")),`Target(${t})`}(Wi(n))}; limitType=${n.limitType})`}function ih(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ze.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of uc(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,l){const f=aD(i,a,l);return i.inclusive?f<=0:f<0}(t.startAt,uc(t),r)||t.endAt&&!function(i,a,l){const f=aD(i,a,l);return i.inclusive?f>=0:f>0}(t.endAt,uc(t),r)));var t,r}function lc(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Kv(n){return(e,t)=>{let r=!1;for(const i of uc(n)){const a=DM(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function DM(n,e,t){const r=n.field.isKeyField()?Ze.comparator(e.key,t.key):function(i,a,l){const f=a.data.field(i),y=l.data.field(i);return null!==f&&null!==y?_o(f,y):ot()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ot()}}class ha{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ju(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return Kw(this.inner)}size(){return this.innerSize}}const yR=new xn(Ze.comparator);function $s(){return yR}const gD=new xn(Ze.comparator);function am(...n){let e=gD;for(const t of n)e=e.insert(t.key,t);return e}function lE(n){let e=gD;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Xa(){return np()}function kr(){return np()}function np(){return new ha(n=>n.toString(),(n,e)=>n.isEqual(e))}const TM=new xn(Ze.comparator),SM=new Fn(Ze.comparator);function Gt(...n){let e=SM;for(const t of n)e=e.add(t);return e}const AM=new Fn($t);function Zv(){return AM}function cE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yg(e)?"-0":e}}function sh(n){return{integerValue:""+n}}function mD(n,e){return $w(e)?sh(e):cE(n,e)}class Yv{constructor(){this._=void 0}}function yD(n,e,t){return n instanceof um?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Lv(i)&&(i=Vv(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof zu?Qv(n,e):n instanceof Ki?vD(n,e):function(r,i){const a=dE(r,i),l=fa(a)+fa(r.gt);return ep(a)&&ep(r.gt)?sh(l):cE(r.serializer,l)}(n,e)}function MM(n,e,t){return n instanceof zu?Qv(n,e):n instanceof Ki?vD(n,e):t}function dE(n,e){return n instanceof oh?ep(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class um extends Yv{}class zu extends Yv{constructor(e){super(),this.elements=e}}function Qv(n,e){const t=Eo(e);for(const r of n.elements)t.some(i=>da(i,r))||t.push(r);return{arrayValue:{values:t}}}class Ki extends Yv{constructor(e){super(),this.elements=e}}function vD(n,e){let t=Eo(e);for(const r of n.elements)t=t.filter(i=>!da(i,r));return{arrayValue:{values:t}}}class oh extends Yv{constructor(e,t){super(),this.serializer=e,this.gt=t}}function fa(n){return Mr(n.integerValue||n.doubleValue)}function Eo(n){return rc(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class us{constructor(e,t){this.field=e,this.transform=t}}class wD{constructor(e,t){this.version=e,this.transformResults=t}}class Jn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jv(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Xv{}function ED(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new ip(n.key,Jn.none()):new rp(n.key,n.data,Jn.none());{const t=n.data,r=hi.empty();let i=new Fn(nr.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);null===l&&a.length>1&&(a=a.popLast(),l=t.field(a)),null===l?r.delete(a):r.set(a,l),i=i.add(a)}return new qu(n.key,r,new js(i.toArray()),Jn.none())}}function hE(n,e,t){n instanceof rp?function(r,i,a){const l=r.value.clone(),f=gE(r.fieldTransforms,i,a.transformResults);l.setAll(f),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(n,e,t):n instanceof qu?function(r,i,a){if(!Jv(r.precondition,i))return void i.convertToUnknownDocument(a.version);const l=gE(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(pE(r)),f.setAll(l),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Gu(n,e,t,r){return n instanceof rp?function(i,a,l,f){if(!Jv(i.precondition,a))return l;const y=i.value.clone(),w=lm(i.fieldTransforms,f,a);return y.setAll(w),a.convertToFoundDocument(a.version,y).setHasLocalMutations(),null}(n,e,t,r):n instanceof qu?function(i,a,l,f){if(!Jv(i.precondition,a))return l;const y=lm(i.fieldTransforms,f,a),w=a.data;return w.setAll(pE(i)),w.setAll(y),a.convertToFoundDocument(a.version,w).setHasLocalMutations(),null===l?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(T=>T.field))}(n,e,t,r):(l=t,Jv(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l);var a,l}function xM(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=dE(r.transform,i||null);null!=a&&(null===t&&(t=hi.empty()),t.set(r.field,a))}return t||null}function fE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Kd(t,r,(i,a)=>function _D(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof zu&&r instanceof zu||t instanceof Ki&&r instanceof Ki?Kd(t.elements,r.elements,da):t instanceof oh&&r instanceof oh?da(t.gt,r.gt):t instanceof um&&r instanceof um);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class rp extends Xv{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class qu extends Xv{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function pE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function gE(n,e,t){const r=new Map;gt(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,f=e.data.field(a.field);r.set(a.field,MM(l,f,t[i]))}return r}function lm(n,e,t){const r=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);r.set(i.field,yD(a,l,e))}return r}class ip extends Xv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class e_ extends Xv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class t_{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&hE(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Gu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Gu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=kr();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let f=this.applyToLocalView(l,a.mutatedFields);f=t.has(i.key)?null:f;const y=ED(l,f);null!==y&&r.set(i.key,y),l.isValidDocument()||l.convertToNoDocument(ct.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Gt())}isEqual(e){return this.batchId===e.batchId&&Kd(this.mutations,e.mutations,(t,r)=>fE(t,r))&&Kd(this.baseMutations,e.baseMutations,(t,r)=>fE(t,r))}}class n_{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){gt(e.mutations.length===r.length);let i=TM;const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new n_(e,t,r,i)}}class mE{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class yE{constructor(e,t){this.count=e,this.unchangedNames=t}}var rr,sn;function vE(n){switch(n){default:return ot();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0}}function _E(n){if(void 0===n)return Ar("GRPC error has no .code"),le.UNKNOWN;switch(n){case rr.OK:return le.OK;case rr.CANCELLED:return le.CANCELLED;case rr.UNKNOWN:return le.UNKNOWN;case rr.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case rr.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case rr.INTERNAL:return le.INTERNAL;case rr.UNAVAILABLE:return le.UNAVAILABLE;case rr.UNAUTHENTICATED:return le.UNAUTHENTICATED;case rr.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case rr.NOT_FOUND:return le.NOT_FOUND;case rr.ALREADY_EXISTS:return le.ALREADY_EXISTS;case rr.PERMISSION_DENIED:return le.PERMISSION_DENIED;case rr.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case rr.ABORTED:return le.ABORTED;case rr.OUT_OF_RANGE:return le.OUT_OF_RANGE;case rr.UNIMPLEMENTED:return le.UNIMPLEMENTED;case rr.DATA_LOSS:return le.DATA_LOSS;default:return ot()}}(sn=rr||(rr={}))[sn.OK=0]="OK",sn[sn.CANCELLED=1]="CANCELLED",sn[sn.UNKNOWN=2]="UNKNOWN",sn[sn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",sn[sn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",sn[sn.NOT_FOUND=5]="NOT_FOUND",sn[sn.ALREADY_EXISTS=6]="ALREADY_EXISTS",sn[sn.PERMISSION_DENIED=7]="PERMISSION_DENIED",sn[sn.UNAUTHENTICATED=16]="UNAUTHENTICATED",sn[sn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",sn[sn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",sn[sn.ABORTED=10]="ABORTED",sn[sn.OUT_OF_RANGE=11]="OUT_OF_RANGE",sn[sn.UNIMPLEMENTED=12]="UNIMPLEMENTED",sn[sn.INTERNAL=13]="INTERNAL",sn[sn.UNAVAILABLE=14]="UNAVAILABLE",sn[sn.DATA_LOSS=15]="DATA_LOSS";class r_{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return cm}static getOrCreateInstance(){return null===cm&&(cm=new r_),cm}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let cm=null;function wE(){return new TextEncoder}const ID=new $f([4294967295,4294967295],0);function EE(n){const e=wE().encode(n),t=new iM;return t.update(e),new Uint8Array(t.digest())}function bD(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new $f([t,r],0),new $f([i,a],0)]}class IE{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new dm(`Invalid padding: ${t}`);if(r<0)throw new dm(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new dm(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new dm(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=$f.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply($f.fromNumber(r)));return 1===i.compare(ID)&&(i=new $f([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=EE(e),[r,i]=bD(t);for(let a=0;a<this.hashCount;a++){const l=this.Et(r,i,a);if(!this.At(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new IE(a,i,t);return r.forEach(f=>l.insert(f)),l}insert(e){if(0===this.It)return;const t=EE(e),[r,i]=bD(t);for(let a=0;a<this.hashCount;a++){const l=this.Et(r,i,a);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class dm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class hm{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,fm.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new hm(ct.min(),i,new xn($t),$s(),Gt())}}class fm{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new fm(r,t,Gt(),Gt(),Gt())}}class i_{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class CD{constructor(e,t){this.targetId=e,this.Vt=t}}class DD{constructor(e,t,r=Kr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class TD{constructor(){this.St=0,this.Dt=AD(),this.Ct=Kr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Gt(),t=Gt(),r=Gt();return this.Dt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ot()}}),new fm(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=AD()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class RM{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=$s(),this.zt=SD(),this.Wt=new xn($t)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:ot()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,a=this.se(r);if(a){const l=a.target;if(sm(l))if(0===i){const f=new Ze(l.path);this.Yt(r,f,$n.newNoDocument(f,ct.min()))}else gt(1===i);else{const f=this.ie(r);if(f!==i){const y=this.re(e,f);0!==y&&(this.ee(r),this.Wt=this.Wt.insert(r,2===y?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=r_.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(w,T,M){var F,V,W,ae,me,Fe;const ze={localCacheCount:T,existenceFilterCount:M.count},je=M.unchangedNames;return je&&(ze.bloomFilter={applied:0===w,hashCount:null!==(F=je?.hashCount)&&void 0!==F?F:0,bitmapLength:null!==(ae=null===(W=null===(V=je?.bits)||void 0===V?void 0:V.bitmap)||void 0===W?void 0:W.length)&&void 0!==ae?ae:0,padding:null!==(Fe=null===(me=je?.bits)||void 0===me?void 0:me.padding)&&void 0!==Fe?Fe:0}),ze}(y,f,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:a="",padding:l=0},hashCount:f=0}=r;let y,w;try{y=$u(a).toUint8Array()}catch(T){if(T instanceof vM)return go("Decoding the base64 bloom filter in existence filter failed ("+T.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw T}try{w=new IE(y,l,f)}catch(T){return go(T instanceof dm?"BloomFilter error: ":"Applying bloom filter failed: ",T),1}return 0===w.It?1:i!==t-this.oe(e.targetId,w)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(a=>{const l=this.Gt.ue(),f=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;t.vt(f)||(this.Yt(e,a,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((a,l)=>{const f=this.se(l);if(f){if(a.current&&sm(f.target)){const y=new Ze(f.target.path);null!==this.jt.get(y)||this.ae(l,y)||this.Yt(l,y,$n.newNoDocument(y,e))}a.Mt&&(t.set(l,a.Ot()),a.Ft())}});let r=Gt();this.zt.forEach((a,l)=>{let f=!0;l.forEachWhile(y=>{const w=this.se(y);return!w||"TargetPurposeLimboResolution"===w.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.jt.forEach((a,l)=>l.setReadTime(e));const i=new hm(e,t,this.Wt,this.jt,r);return this.jt=$s(),this.zt=SD(),this.Wt=new xn($t),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new TD,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Fn($t),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Pe("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new TD),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function SD(){return new xn(Ze.comparator)}function AD(){return new xn(Ze.comparator)}const OM={asc:"ASCENDING",desc:"DESCENDING"},PM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kM={and:"AND",or:"OR"};class FM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function bE(n,e){return n.useProto3Json||Zg(e)?e:{value:e}}function sp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function MD(n,e){return sp(n,e.toTimestamp())}function wr(n){return gt(!!n),ct.fromTimestamp(function(e){const t=nc(e);return new Mn(t.seconds,t.nanos)}(n))}function s_(n,e){return(t=n,new on(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function DE(n){const e=on.fromString(n);return gt(jM(e)),e}function op(n,e){return s_(n.databaseId,e.path)}function pa(n,e){const t=DE(e);if(t.get(1)!==n.databaseId.projectId)throw new Ce(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ce(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ze(a_(t))}function o_(n,e){return s_(n.databaseId,e)}function TE(n){const e=DE(n);return 4===e.length?on.emptyPath():a_(e)}function ap(n){return new on(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function a_(n){return gt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function cc(n,e,t){return{name:op(n,e),fields:t.value.mapValue.fields}}function xD(n,e,t){const r=pa(n,e.name),i=wr(e.updateTime),a=e.createTime?wr(e.createTime):ct.min(),l=new hi({mapValue:{fields:e.fields}}),f=$n.newFoundDocument(r,i,a,l);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function u_(n,e){let t;if(e instanceof rp)t={update:cc(n,e.key,e.value)};else if(e instanceof ip)t={delete:op(n,e.key)};else if(e instanceof qu)t={update:cc(n,e.key,e.data),updateMask:bs(e.fieldMask)};else{if(!(e instanceof e_))return ot();t={verify:op(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof um)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof zu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Ki)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof oh)return{fieldPath:a.field.canonicalString(),increment:l.gt};throw ot()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:MD(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:ot()),t;var i}function pm(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Jn.updateTime(wr(i.updateTime)):void 0!==i.exists?Jn.exists(i.exists):Jn.none():Jn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,l){let f=null;"setToServerValue"in l?(gt("REQUEST_TIME"===l.setToServerValue),f=new um):"appendMissingElements"in l?f=new zu(l.appendMissingElements.values||[]):"removeAllFromArray"in l?f=new Ki(l.removeAllFromArray.values||[]):"increment"in l?f=new oh(a,l.increment):ot();const y=nr.fromServerFormat(l.fieldPath);return new us(y,f)}(n,i)):[];var i;if(e.update){const i=pa(n,e.update.name),a=new hi({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new js((e.updateMask.fieldPaths||[]).map(w=>nr.fromServerFormat(w)));return new qu(i,a,l,t,r)}return new rp(i,a,t,r)}if(e.delete){const i=pa(n,e.delete);return new ip(i,t)}if(e.verify){const i=pa(n,e.verify);return new e_(i,t)}return ot()}function SE(n,e){return{documents:[o_(n,e.path)]}}function l_(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=o_(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=o_(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0!==y.length)return gm(ln.create(y,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const a=function(y){if(0!==y.length)return y.map(w=>{return{field:dc((T=w).field),direction:UM(T.dir)};var T})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const l=bE(n,e.limit);var f,y;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function VM(n){let e=TE(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){gt(1===r);const T=t.from[0];T.allDescendants?i=T.collectionId:e=e.child(T.collectionId)}let a=[];t.where&&(a=function(T){const M=ND(T);return M instanceof ln&&eE(M)?M.getFilters():[M]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(T=>{return new sc(Wu((M=T).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let f=null;t.limit&&(f=function(T){let M;return M="object"==typeof T?T.value:T,Zg(M)?null:M}(t.limit));let y=null;var T;t.startAt&&(y=new ic((T=t.startAt).values||[],!!T.before));let w=null;return t.endAt&&(w=function(T){return new ic(T.values||[],!T.before)}(t.endAt)),zv(e,i,l,a,f,"F",y,w)}function ND(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Wu(e.unaryFilter.field);return Yt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Wu(e.unaryFilter.field);return Yt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Wu(e.unaryFilter.field);return Yt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Wu(e.unaryFilter.field);return Yt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ot()}}(n):void 0!==n.fieldFilter?Yt.create(Wu((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ot()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return ln.create(e.compositeFilter.filters.map(t=>ND(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ot()}}(e.compositeFilter.op))}(n):ot();var e}function UM(n){return OM[n]}function BM(n){return PM[n]}function cp(n){return kM[n]}function dc(n){return{fieldPath:n.canonicalString()}}function Wu(n){return nr.fromServerFormat(n.fieldPath)}function gm(n){return n instanceof Yt?function(e){if("=="===e.op){if(rD(e.value))return{unaryFilter:{field:dc(e.field),op:"IS_NAN"}};if(wM(e.value))return{unaryFilter:{field:dc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(rD(e.value))return{unaryFilter:{field:dc(e.field),op:"IS_NOT_NAN"}};if(wM(e.value))return{unaryFilter:{field:dc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dc(e.field),op:BM(e.op),value:e.value}}}(n):n instanceof ln?function(e){const t=e.getFilters().map(r=>gm(r));return 1===t.length?t[0]:{compositeFilter:{op:cp(e.op),filters:t}}}(n):ot()}function bs(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function jM(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class eu{constructor(e,t,r,i,a=ct.min(),l=ct.min(),f=Kr.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=f,this.expectedCount=y}withSequenceNumber(e){return new eu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new eu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new eu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new eu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class AE{constructor(e){this.fe=e}}function ME(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:mm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:op(i=n.fe,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:sp(i,a.version.toTimestamp()),createTime:sp(i,a.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:hc(e.version)};else{if(!e.isUnknownDocument())return ot();r.unknownDocument={path:t.path.toArray(),version:hc(e.version)}}var i,a;return r}function mm(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function hc(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function fc(n){const e=new Mn(n.seconds,n.nanoseconds);return ct.fromTimestamp(e)}function ah(n,e){const t=(e.baseMutations||[]).map(a=>pm(n.fe,a));for(let a=0;a<e.mutations.length-1;++a)a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(e.mutations[a].updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a);const r=e.mutations.map(a=>pm(n.fe,a)),i=Mn.fromMillis(e.localWriteTimeMs);return new t_(e.batchId,i,t,r)}function ym(n){const e=fc(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?fc(n.lastLimboFreeSnapshotVersion):ct.min();let r;var i;return void 0!==n.query.documents?(gt(1===(i=n.query).documents.length),r=Wi(nh(TE(i.documents[0])))):r=Wi(VM(n.query)),new eu(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Kr.fromBase64String(n.resumeToken))}function RD(n,e){const t=hc(e.snapshotVersion),r=hc(e.lastLimboFreeSnapshotVersion);let i;i=sm(e.target)?SE(n.fe,e.target):l_(n.fe,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ac(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function uh(n){const e=VM({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?rh(e,e.limit,"L"):e}function xE(n,e){return new mE(e.largestBatchId,pm(n.fe,e.overlayMutation))}function OD(n,e){const t=e.path.lastSegment();return[n,Ei(e.path.popLast()),t]}function PD(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:hc(r.readTime),documentKey:Ei(r.documentKey.path),largestBatchId:r.largestBatchId}}class c_{getBundleMetadata(e,t){return NE(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:fc(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return NE(e).put({bundleId:(r=t).id,createTime:hc(wr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return RE(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:uh(i.bundledQuery),readTime:fc(i.readTime)};var i})}saveNamedQuery(e,t){return RE(e).put({name:(r=t).name,readTime:hc(wr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function NE(n){return Wr(n,"bundles")}function RE(n){return Wr(n,"namedQueries")}class vm{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new vm(e,t.uid||"")}getOverlay(e,t){return _m(e).get(OD(this.userId,t)).next(r=>r?xE(this.serializer,r):null)}getOverlays(e,t){const r=Xa();return se.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((a,l)=>{const f=new mE(t,l);i.push(this.we(e,f))}),se.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(l=>i.add(Ei(l.getCollectionPath())));const a=[];return i.forEach(l=>{const f=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);a.push(_m(e).J("collectionPathOverlayIndex",f))}),se.waitFor(a)}getOverlaysForCollection(e,t,r){const i=Xa(),a=Ei(t),l=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return _m(e).j("collectionPathOverlayIndex",l).next(f=>{for(const y of f){const w=xE(this.serializer,y);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=Xa();let l;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return _m(e).X({index:"collectionGroupOverlayIndex",range:f},(y,w,T)=>{const M=xE(this.serializer,w);a.size()<i||M.largestBatchId===l?(a.set(M.getKey(),M),l=M.largestBatchId):T.done()}).next(()=>a)}we(e,t){return _m(e).put(function(r,i,a){const[l,f,y]=OD(i,a.mutation.key);return{userId:i,collectionPath:f,documentId:y,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:u_(r.fe,a.mutation)}}(this.serializer,this.userId,t))}}function _m(n){return Wr(n,"documentOverlays")}class ga{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Mr(e.integerValue));else if("doubleValue"in e){const r=Mr(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),Yg(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae($u(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?iD(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):ot()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),Ze.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function wm(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function kD(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=wm(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}ga.Ve=new ga;class HM{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const i=t.codePointAt(0);this.De(240|i>>>18),this.De(128|63&i>>>12),this.De(128|63&i>>>6),this.De(128|63&i)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const i=t.codePointAt(0);this.Ne(240|i>>>18),this.Ne(128|63&i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i)}}this.ke()}Oe(e){const t=this.Fe(e),r=kD(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Le(e){const t=this.Fe(e),r=kD(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class zM{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class FD{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class dp{constructor(){this.je=new HM,this.ze=new zM(this.je),this.We=new FD(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class pc{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new pc(this.indexId,this.documentKey,this.arrayValue,r)}}function gc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=OE(n.arrayValue,e.arrayValue),0!==t?t:(t=OE(n.directionalValue,e.directionalValue),0!==t?t:Ze.comparator(n.documentKey,e.documentKey)))}function OE(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class GM{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){gt(e.collectionGroup===this.collectionId);const t=Vw(e);if(void 0!==t&&!this.en(t))return!1;const r=Xl(e);let i=new Set,a=0,l=0;for(;a<r.length&&this.en(r[a]);++a)i=i.add(r[a].fieldPath.canonicalString());if(a===r.length)return!0;if(void 0!==this.Ze){if(!i.has(this.Ze.field.canonicalString())){const f=r[a];if(!this.nn(this.Ze,f)||!this.sn(this.Ye[l++],f))return!1}++a}for(;a<r.length;++a)if(l>=this.Ye.length||!this.sn(this.Ye[l++],r[a]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function LD(n){var e,t;if(gt(n instanceof Yt||n instanceof ln),n instanceof Yt){if(n instanceof sE){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(a=>Yt.create(n.field,"==",a)))||[];return ln.create(i,"or")}return n}const r=n.filters.map(i=>LD(i));return ln.create(r,n.op)}function _R(n){if(0===n.getFilters().length)return[];const e=d_(LD(n));return gt(qM(e)),VD(e)||UD(e)?[e]:e.getFilters()}function VD(n){return n instanceof Yt}function UD(n){return n instanceof ln&&eE(n)}function qM(n){return VD(n)||UD(n)||function(e){if(e instanceof ln&&jv(e)){for(const t of e.getFilters())if(!VD(t)&&!UD(t))return!1;return!0}return!1}(n)}function d_(n){if(gt(n instanceof Yt||n instanceof ln),n instanceof Yt)return n;if(1===n.filters.length)return d_(n.filters[0]);const e=n.filters.map(r=>d_(r));let t=ln.create(e,n.op);return t=h_(t),qM(t)?t:(gt(t instanceof ln),gt(oc(t)),gt(t.filters.length>1),t.filters.reduce((r,i)=>hp(r,i)))}function hp(n,e){let t;return gt(n instanceof Yt||n instanceof ln),gt(e instanceof Yt||e instanceof ln),t=n instanceof Yt?e instanceof Yt?ln.create([n,e],"and"):BD(n,e):e instanceof Yt?BD(e,n):function(r,i){if(gt(r.filters.length>0&&i.filters.length>0),oc(r)&&oc(i))return im(r,i.getFilters());const a=jv(r)?r:i,l=jv(r)?i:r,f=a.filters.map(y=>hp(y,l));return ln.create(f,"or")}(n,e),h_(t)}function BD(n,e){if(oc(e))return im(e,n.getFilters());{const t=e.filters.map(r=>hp(n,r));return ln.create(t,"or")}}function h_(n){if(gt(n instanceof Yt||n instanceof ln),n instanceof Yt)return n;const e=n.getFilters();if(1===e.length)return h_(e[0]);if(lD(n))return n;const t=e.map(i=>h_(i)),r=[];return t.forEach(i=>{i instanceof Yt?r.push(i):i instanceof ln&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:ln.create(r,n.op)}class jD{constructor(){this.rn=new lh}addToCollectionParentIndex(e,t){return this.rn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(Us.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(Us.min())}updateCollectionGroup(e,t,r){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class lh{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Fn(on.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Fn(on.comparator)).toArray()}}const f_=new Uint8Array(0);class WM{constructor(e,t){this.user=e,this.databaseId=t,this.on=new lh,this.un=new ha(r=>ac(r),(r,i)=>tp(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const a={collectionId:r,parent:Ei(i)};return $D(e).put(a)}return se.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[YC(t),""],!1,!0);return $D(e).j(i).next(a=>{for(const l of a){if(l.collectionId!==t)break;r.push(la(l.parent))}return r})}addFieldIndex(e,t){const r=PE(e),i={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var l;delete i.indexId;const a=r.add(i);if(t.indexState){const l=Im(e);return a.next(f=>{l.put(PD(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=PE(e),i=Im(e),a=Em(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Em(e);let i=!0;const a=new Map;return se.forEach(this.cn(t),l=>this.an(e,l).next(f=>{i&&(i=!!f),a.set(l,f)})).next(()=>{if(i){let l=Gt();const f=[];return se.forEach(a,(y,w)=>{var T;Pe("IndexedDbIndexManager",`Using index ${T=y,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(je=>`${je.fieldPath}:${je.kind}`).join(",")}`} to execute ${ac(t)}`);const M=function(je,et){const ft=Vw(et);if(void 0===ft)return null;for(const Mt of Hv(je,ft.fieldPath))switch(Mt.op){case"array-contains-any":return Mt.value.arrayValue.values||[];case"array-contains":return[Mt.value]}return null}(w,y),F=function(je,et){const ft=new Map;for(const Mt of Xl(et))for(const Qt of Hv(je,Mt.fieldPath))switch(Qt.op){case"==":case"in":ft.set(Mt.fieldPath.canonicalString(),Qt.value);break;case"not-in":case"!=":return ft.set(Mt.fieldPath.canonicalString(),Qt.value),Array.from(ft.values())}return null}(w,y),V=function(je,et){const ft=[];let Mt=!0;for(const Qt of Xl(et)){const Zr=0===Qt.kind?hD(je,Qt.fieldPath,je.startAt):fD(je,Qt.fieldPath,je.startAt);ft.push(Zr.value),Mt&&(Mt=Zr.inclusive)}return new ic(ft,Mt)}(w,y),W=function(je,et){const ft=[];let Mt=!0;for(const Qt of Xl(et)){const Zr=0===Qt.kind?fD(je,Qt.fieldPath,je.endAt):hD(je,Qt.fieldPath,je.endAt);ft.push(Zr.value),Mt&&(Mt=Zr.inclusive)}return new ic(ft,Mt)}(w,y),ae=this.hn(y,w,V),me=this.hn(y,w,W),Fe=this.ln(y,w,F),ze=this.fn(y.indexId,M,ae,V.inclusive,me,W.inclusive,Fe);return se.forEach(ze,je=>r.H(je,t.limit).next(et=>{et.forEach(ft=>{const Mt=Ze.fromSegments(ft.documentKey);l.has(Mt)||(l=l.add(Mt),f.push(Mt))})}))}).next(()=>f)}return se.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:_R(ln.create(e.filters,"and")).map(r=>$v(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,i,a,l,f){const y=(null!=t?t.length:1)*Math.max(r.length,a.length),w=y/(null!=t?t.length:1),T=[];for(let M=0;M<y;++M){const F=t?this.dn(t[M/w]):f_,V=this.wn(e,F,r[M%w],i),W=this._n(e,F,a[M%w],l),ae=f.map(me=>this.wn(e,F,me,!0));T.push(...this.createRange(V,W,ae))}return T}wn(e,t,r,i){const a=new pc(e,Ze.empty(),t,r);return i?a:a.Je()}_n(e,t,r,i){const a=new pc(e,Ze.empty(),t,r);return i?a.Je():a}an(e,t){const r=new GM(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let l=null;for(const f of a)r.tn(f)&&(!l||f.fields.length>l.fields.length)&&(l=f);return l})}getIndexType(e,t){let r=2;const i=this.cn(t);return se.forEach(i,a=>this.an(e,a).next(l=>{l?0!==r&&l.fields.length<function(f){let y=new Fn(nr.comparator),w=!1;for(const T of f.filters)for(const M of T.getFlattenedFilters())M.field.isKeyField()||("array-contains"===M.op||"array-contains-any"===M.op?w=!0:y=y.add(M.field));for(const T of f.orderBy)T.field.isKeyField()||(y=y.add(T.field));return y.size+(w?1:0)}(a)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}mn(e,t){const r=new dp;for(const i of Xl(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const l=r.He(i.kind);ga.Ve._e(a,l)}return r.Qe()}dn(e){const t=new dp;return ga.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new dp;return ga.Ve._e(Hu(this.databaseId,t),r.He(function(i){const a=Xl(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let i=[];i.push(new dp);let a=0;for(const l of Xl(e)){const f=r[a++];for(const y of i)if(this.yn(t,l.fieldPath)&&rc(f))i=this.pn(i,l,f);else{const w=y.He(l.kind);ga.Ve._e(f,w)}}return this.In(i)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const i=[...e],a=[];for(const l of r.arrayValue.values||[])for(const f of i){const y=new dp;y.seed(f.Qe()),ga.Ve._e(l,y.He(t.kind)),a.push(y)}return a}yn(e,t){return!!e.filters.find(r=>r instanceof Yt&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=PE(e),i=Im(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(a=>{const l=[];return se.forEach(a,f=>i.get([f.indexId,this.uid]).next(y=>{l.push(function(w,T){const M=T?new zf(T.sequenceNumber,new Us(fc(T.readTime),new Ze(la(T.documentKey)),T.largestBatchId)):zf.empty(),F=w.fields.map(([V,W])=>new ec(nr.fromServerFormat(V),W));return new Rv(w.indexId,w.collectionGroup,F,M)}(f,y))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:$t(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=PE(e),a=Im(e);return this.Tn(e).next(l=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>se.forEach(f,y=>a.put(PD(y.indexId,this.user,l,r)))))}updateIndexEntries(e,t){const r=new Map;return se.forEach(t,(i,a)=>{const l=r.get(i.collectionGroup);return(l?se.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),se.forEach(f,y=>this.En(e,i,y).next(w=>{const T=this.An(a,y);return w.isEqual(T)?se.resolve():this.vn(e,a,y,w,T)}))))})}Rn(e,t,r,i){return Em(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,i){return Em(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const i=Em(e);let a=new Fn(gc);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(l,f)=>{a=a.add(new pc(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}An(e,t){let r=new Fn(gc);const i=this.mn(t,e);if(null==i)return r;const a=Vw(t);if(null!=a){const l=e.data.field(a.fieldPath);if(rc(l))for(const f of l.arrayValue.values||[])r=r.add(new pc(t.indexId,e.key,this.dn(f),i))}else r=r.add(new pc(t.indexId,e.key,f_,i));return r}vn(e,t,r,i,a){Pe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(f,y,w,T,M){const F=f.getIterator(),V=y.getIterator();let W=Jf(F),ae=Jf(V);for(;W||ae;){let me=!1,Fe=!1;if(W&&ae){const ze=w(W,ae);ze<0?Fe=!0:ze>0&&(me=!0)}else null!=W?Fe=!0:me=!0;me?(T(ae),ae=Jf(V)):Fe?(M(W),W=Jf(F)):(W=Jf(F),ae=Jf(V))}}(i,a,gc,f=>{l.push(this.Rn(e,t,r,f))},f=>{l.push(this.Pn(e,t,r,f))}),se.waitFor(l)}Tn(e){let t=1;return Im(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,f)=>gc(l,f)).filter((l,f,y)=>!f||0!==gc(l,y[f-1]));const i=[];i.push(e);for(const l of r){const f=gc(l,e),y=gc(l,t);if(0===f)i[0]=e.Je();else if(f>0&&y<0)i.push(l),i.push(l.Je());else if(y>0)break}i.push(t);const a=[];for(let l=0;l<i.length;l+=2){if(this.bn(i[l],i[l+1]))return[];a.push(IDBKeyRange.bound([i[l].indexId,this.uid,i[l].arrayValue,i[l].directionalValue,f_,[]],[i[l+1].indexId,this.uid,i[l+1].arrayValue,i[l+1].directionalValue,f_,[]]))}return a}bn(e,t){return gc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(kE)}getMinOffset(e,t){return se.mapArray(this.cn(t),r=>this.an(e,r).next(i=>i||ot())).next(kE)}}function $D(n){return Wr(n,"collectionParents")}function Em(n){return Wr(n,"indexEntries")}function PE(n){return Wr(n,"indexConfiguration")}function Im(n){return Wr(n,"indexState")}function kE(n){gt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;Zd(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Us(e.readTime,e.documentKey,t)}const HD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Zi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Zi(e,Zi.DEFAULT_COLLECTION_PERCENTILE,Zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function fp(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],l=IDBKeyRange.only(t.batchId);let f=0;const y=r.X({range:l},(T,M,F)=>(f++,F.delete()));a.push(y.next(()=>{gt(1===f)}));const w=[];for(const T of t.mutations){const M=Qg(e,T.key.path,t.batchId);a.push(i.delete(M)),w.push(T.key)}return se.waitFor(a).next(()=>w)}function p_(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ot();e=n.noDocument}return JSON.stringify(e).length}Zi.DEFAULT_COLLECTION_PERCENTILE=10,Zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zi.DEFAULT=new Zi(41943040,Zi.DEFAULT_COLLECTION_PERCENTILE,Zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zi.DISABLED=new Zi(-1,0,0);class bm{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}static de(e,t,r,i){gt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new bm(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ku(e).X({index:"userMutationsIndex",range:r},(i,a,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=pp(e),l=Ku(e);return l.add({}).next(f=>{gt("number"==typeof f);const y=new t_(f,t,r,i),w=function(F,V,W){const ae=W.baseMutations.map(Fe=>u_(F.fe,Fe)),me=W.mutations.map(Fe=>u_(F.fe,Fe));return{userId:V,batchId:W.batchId,localWriteTimeMs:W.localWriteTime.toMillis(),baseMutations:ae,mutations:me}}(this.serializer,this.userId,y),T=[];let M=new Fn((F,V)=>$t(F.canonicalString(),V.canonicalString()));for(const F of i){const V=Qg(this.userId,F.key.path,f);M=M.add(F.key.path.popLast()),T.push(l.put(w)),T.push(a.put(V,gM))}return M.forEach(F=>{T.push(this.indexManager.addToCollectionParentIndex(e,F))}),e.addOnCommittedListener(()=>{this.Vn[f]=y.keys()}),se.waitFor(T).next(()=>y)})}lookupMutationBatch(e,t){return Ku(e).get(t).next(r=>r?(gt(r.userId===this.userId),ah(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?se.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Vn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return Ku(e).X({index:"userMutationsIndex",range:i},(l,f,y)=>{f.userId===this.userId&&(gt(f.batchId>=r),a=ah(this.serializer,f)),y.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ku(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,a,l)=>{r=a.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ku(e).j("userMutationsIndex",t).next(r=>r.map(i=>ah(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=zw(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return pp(e).X({range:i},(l,f,y)=>{const[w,T,M]=l,F=la(T);if(w===this.userId&&t.path.isEqual(F))return Ku(e).get(M).next(V=>{if(!V)throw ot();gt(V.userId===this.userId),a.push(ah(this.serializer,V))});y.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Fn($t);const i=[];return t.forEach(a=>{const l=zw(this.userId,a.path),f=IDBKeyRange.lowerBound(l),y=pp(e).X({range:f},(w,T,M)=>{const[F,V,W]=w,ae=la(V);F===this.userId&&a.path.isEqual(ae)?r=r.add(W):M.done()});i.push(y)}),se.waitFor(i).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=zw(this.userId,r),l=IDBKeyRange.lowerBound(a);let f=new Fn($t);return pp(e).X({range:l},(y,w,T)=>{const[M,F,V]=y,W=la(F);M===this.userId&&r.isPrefixOf(W)?W.length===i&&(f=f.add(V)):T.done()}).next(()=>this.Dn(e,f))}Dn(e,t){const r=[],i=[];return t.forEach(a=>{i.push(Ku(e).get(a).next(l=>{if(null===l)throw ot();gt(l.userId===this.userId),r.push(ah(this.serializer,l))}))}),se.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return fp(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),se.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return se.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return pp(e).X({range:r},(a,l,f)=>{if(a[0]===this.userId){const y=la(a[1]);i.push(y)}else f.done()}).next(()=>{gt(0===i.length)})})}containsKey(e,t){return zD(e,this.userId,t)}xn(e){return FE(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function zD(n,e,t){const r=zw(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let l=!1;return pp(n).X({range:a,Y:!0},(f,y,w)=>{const[T,M,F]=f;T===e&&M===i&&(l=!0),w.done()}).next(()=>l)}function Ku(n){return Wr(n,"mutations")}function pp(n){return Wr(n,"documentMutations")}function FE(n){return Wr(n,"mutationQueues")}class ch{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new ch(0)}static Mn(){return new ch(-1)}}class LE{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new ch(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>ct.fromTimestamp(new Mn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>gp(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(gt(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return gp(e).X((l,f)=>{const y=ym(f);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(i++,a.push(this.removeTargetData(e,y)))}).next(()=>se.waitFor(a)).next(()=>i)}forEachTarget(e,t){return gp(e).X((r,i)=>{const a=ym(i);t(a)})}$n(e){return VE(e).get("targetGlobalKey").next(t=>(gt(null!==t),t))}On(e,t){return VE(e).put("targetGlobalKey",t)}Fn(e,t){return gp(e).put(RD(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=ac(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return gp(e).X({range:i,index:"queryTargetsIndex"},(l,f,y)=>{const w=ym(f);tp(t,w.target)&&(a=w,y.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=Zu(e);return t.forEach(l=>{const f=Ei(l.path);i.push(a.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,l))}),se.waitFor(i)}removeMatchingKeys(e,t,r){const i=Zu(e);return se.forEach(t,a=>{const l=Ei(a.path);return se.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=Zu(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Zu(e);let a=Gt();return i.X({range:r,Y:!0},(l,f,y)=>{const w=la(l[1]),T=new Ze(w);a=a.add(T)}).next(()=>a)}containsKey(e,t){const r=Ei(t.path),i=IDBKeyRange.bound([r],[YC(r)],!1,!0);let a=0;return Zu(e).X({index:"documentTargetsIndex",Y:!0,range:i},([l,f],y,w)=>{0!==l&&(a++,w.done())}).next(()=>a>0)}le(e,t){return gp(e).get(t).next(r=>r?ym(r):null)}}function gp(n){return Wr(n,"targets")}function VE(n){return Wr(n,"targetGlobal")}function Zu(n){return Wr(n,"targetDocuments")}function GD([n,e],[t,r]){const i=$t(n,t);return 0===i?$t(e,r):i}class KM{constructor(e){this.Ln=e,this.buffer=new Fn(GD),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();GD(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class qD{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Pe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ve.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Ka(r)?Pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield tc(r)}yield t.Qn(3e5)}))}}class UE{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return se.resolve(Bs.ct);const r=new KM(t);return this.jn.forEachTarget(e,i=>r.Kn(i.sequenceNumber)).next(()=>this.jn.Wn(e,i=>r.Kn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(HD)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),HD):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,i,a,l,f,y,w;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),i=this.params.maximumSequenceNumbersToCollect):i=M,l=Date.now(),this.nthSequenceNumber(e,i))).next(M=>(r=M,f=Date.now(),this.removeTargets(e,r,t))).next(M=>(a=M,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(w=Date.now(),Lw()<=ql.in.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-T}ms\n\tDetermined least recently used ${i} in `+(f-l)+`ms\n\tRemoved ${a} targets in `+(y-f)+`ms\n\tRemoved ${M} documents in `+(w-y)+`ms\nTotal Duration: ${w-T}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:M})))}}class KD{constructor(e,t){this.db=e,this.garbageCollector=function WD(n,e){return new UE(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,i)=>t(i))}addReference(e,t,r){return g_(e,r)}removeReference(e,t,r){return g_(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return g_(e,t)}Xn(e,t){return function(r,i){let a=!1;return FE(r).Z(l=>zD(r,l,i).next(f=>(f&&(a=!0),se.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Yn(e,(l,f)=>{if(f<=t){const y=this.Xn(e,l).next(w=>{if(!w)return a++,r.getEntry(e,l).next(()=>(r.removeEntry(l,ct.min()),Zu(e).delete([0,Ei(l.path)])))});i.push(y)}}).next(()=>se.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return g_(e,t)}Yn(e,t){const r=Zu(e);let i,a=Bs.ct;return r.X({index:"documentTargetsIndex"},([l,f],{path:y,sequenceNumber:w})=>{0===l?(a!==Bs.ct&&t(new Ze(la(i)),a),a=w,i=y):a=Bs.ct}).next(()=>{a!==Bs.ct&&t(new Ze(la(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function g_(n,e){return Zu(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ei(e.path),sequenceNumber:r}));var r}class ZD{constructor(){this.changes=new ha(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,$n.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?se.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ZM{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return dh(e).put(r)}removeEntry(e,t,r){return dh(e).delete(function(i,a){const l=i.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],mm(a),l[l.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=$n.newInvalidDocument(t);return dh(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Cm(t))},(i,a)=>{r=this.ts(t,a)}).next(()=>r)}es(e,t){let r={size:0,document:$n.newInvalidDocument(t)};return dh(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Cm(t))},(i,a)=>{r={document:this.ts(t,a),size:p_(a)}}).next(()=>r)}getEntries(e,t){let r=$s();return this.ns(e,t,(i,a)=>{const l=this.ts(i,a);r=r.insert(i,l)}).next(()=>r)}ss(e,t){let r=$s(),i=new xn(Ze.comparator);return this.ns(e,t,(a,l)=>{const f=this.ts(a,l);r=r.insert(a,f),i=i.insert(a,p_(l))}).next(()=>({documents:r,rs:i}))}ns(e,t,r){if(t.isEmpty())return se.resolve();let i=new Fn(jE);t.forEach(y=>i=i.add(y));const a=IDBKeyRange.bound(Cm(i.first()),Cm(i.last())),l=i.getIterator();let f=l.getNext();return dh(e).X({index:"documentKeyIndex",range:a},(y,w,T)=>{const M=Ze.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;f&&jE(f,M)<0;)r(f,null),f=l.getNext();f&&f.isEqual(M)&&(r(f,w),f=l.hasNext()?l.getNext():null),f?T.G(Cm(f)):T.done()}).next(()=>{for(;f;)r(f,null),f=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const a=t.path,l=[a.popLast().toArray(),a.lastSegment(),mm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return dh(e).j(IDBKeyRange.bound(l,f,!0)).next(y=>{let w=$s();for(const T of y){const M=this.ts(Ze.fromSegments(T.prefixPath.concat(T.collectionGroup,T.documentId)),T);M.isFoundDocument()&&(ih(t,M)||i.has(M.key))&&(w=w.insert(M.key,M))}return w})}getAllFromCollectionGroup(e,t,r,i){let a=$s();const l=BE(t,r),f=BE(t,Us.max());return dh(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,f,!0)},(y,w,T)=>{const M=this.ts(Ze.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);a=a.insert(M.key,M),a.size===i&&T.done()}).next(()=>a)}newChangeBuffer(e){return new YM(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return QD(e).get("remoteDocumentGlobalKey").next(t=>(gt(!!t),t))}Zn(e,t){return QD(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function $M(n,e){let t;if(e.document)t=xD(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ze.fromSegments(e.noDocument.path),i=fc(e.noDocument.readTime);t=$n.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ot();{const r=Ze.fromSegments(e.unknownDocument.path),i=fc(e.unknownDocument.version);t=$n.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Mn(r[0],r[1]);return ct.fromTimestamp(i)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(ct.min()))return r}return $n.newInvalidDocument(e)}}function YD(n){return new ZM(n)}class YM extends ZD{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new ha(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Fn((a,l)=>$t(a.canonicalString(),l.canonicalString()));return this.changes.forEach((a,l)=>{const f=this.us.get(a);if(t.push(this.os.removeEntry(e,a,f.readTime)),l.isValidDocument()){const y=ME(this.os.serializer,l);i=i.add(a.path.popLast());const w=p_(y);r+=w-f.size,t.push(this.os.addEntry(e,a,y))}else if(r-=f.size,this.trackRemovals){const y=ME(this.os.serializer,l.convertToNoDocument(ct.min()));t.push(this.os.addEntry(e,a,y))}}),i.forEach(a=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.os.updateMetadata(e,r)),se.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:i})=>(i.forEach((a,l)=>{this.us.set(a,{size:l,readTime:r.get(a).readTime})}),r))}}function QD(n){return Wr(n,"remoteDocumentGlobal")}function dh(n){return Wr(n,"remoteDocumentsV14")}function Cm(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function BE(n,e){const t=e.documentKey.path.toArray();return[n,mm(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function jE(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=$t(t[a],r[a]),i)return i;return i=$t(t.length,r.length),i||(i=$t(t[t.length-2],r[r.length-2]),i||$t(t[t.length-1],r[r.length-1]))}class QM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class JD{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Gu(r.mutation,i,js.empty(),Mn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Gt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Gt()){const i=Xa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let l=am();return a.forEach((f,y)=>{l=l.insert(f,y.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Xa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Gt()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,f)=>{t.set(l,f)})})}computeViews(e,t,r,i){let a=$s();const l=np(),f=np();return t.forEach((y,w)=>{const T=r.get(w.key);i.has(w.key)&&(void 0===T||T.mutation instanceof qu)?a=a.insert(w.key,w):void 0!==T?(l.set(w.key,T.mutation.getFieldMask()),Gu(T.mutation,w,T.mutation.getFieldMask(),Mn.now())):l.set(w.key,js.empty())}),this.recalculateAndSaveOverlays(e,a).next(y=>(y.forEach((w,T)=>l.set(w,T)),t.forEach((w,T)=>{var M;return f.set(w,new QM(T,null!==(M=l.get(w))&&void 0!==M?M:null))}),f))}recalculateAndSaveOverlays(e,t){const r=np();let i=new xn((l,f)=>l-f),a=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const f of l)f.keys().forEach(y=>{const w=t.get(y);if(null===w)return;let T=r.get(y)||js.empty();T=f.applyToLocalView(w,T),r.set(y,T);const M=(i.get(f.batchId)||Gt()).add(y);i=i.insert(f.batchId,M)})}).next(()=>{const l=[],f=i.getReverseIterator();for(;f.hasNext();){const y=f.getNext(),w=y.key,T=y.value,M=kr();T.forEach(F=>{if(!a.has(F)){const V=ED(t.get(F),r.get(F));null!==V&&M.set(F,V),a=a.add(F)}}),l.push(this.documentOverlayCache.saveOverlays(e,w,M))}return se.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Ze.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):qv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):se.resolve(Xa());let f=-1,y=a;return l.next(w=>se.forEach(w,(T,M)=>(f<M.largestBatchId&&(f=M.largestBatchId),a.get(T)?se.resolve():this.remoteDocumentCache.getEntry(e,T).next(F=>{y=y.insert(T,F)}))).next(()=>this.populateOverlays(e,w,a)).next(()=>this.computeViews(e,y,w,Gt())).next(T=>({batchId:f,changes:lE(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ze(t)).next(r=>{let i=am();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=am();return this.indexManager.getCollectionParents(e,i).next(l=>se.forEach(l,f=>{const y=(w=t,T=f.child(i),new Ja(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,T;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(w=>{w.forEach((T,M)=>{a=a.insert(T,M)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(a=>{i.forEach((f,y)=>{const w=y.getKey();null===a.get(w)&&(a=a.insert(w,$n.newInvalidDocument(w)))});let l=am();return a.forEach((f,y)=>{const w=i.get(f);void 0!==w&&Gu(w.mutation,y,js.empty(),Mn.now()),ih(t,y)&&(l=l.insert(f,y))}),l})}}class XD{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return se.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:wr(r.createTime)}),se.resolve()}getNamedQuery(e,t){return se.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:uh(r.bundledQuery),readTime:wr(r.readTime)}),se.resolve();var r}}class JM{constructor(){this.overlays=new xn(Ze.comparator),this.ls=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Xa();return se.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.we(e,t,a)}),se.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.ls.delete(r)),se.resolve()}getOverlaysForCollection(e,t,r){const i=Xa(),a=t.length+1,l=new Ze(t.child("")),f=this.overlays.getIteratorFrom(l);for(;f.hasNext();){const y=f.getNext().value,w=y.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===a&&y.largestBatchId>r&&i.set(y.getKey(),y)}return se.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new xn((w,T)=>w-T);const l=this.overlays.getIterator();for(;l.hasNext();){const w=l.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let T=a.get(w.largestBatchId);null===T&&(T=Xa(),a=a.insert(w.largestBatchId,T)),T.set(w.getKey(),w)}}const f=Xa(),y=a.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((w,T)=>f.set(w,T)),!(f.size()>=i)););return se.resolve(f)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const l=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new mE(t,r));let a=this.ls.get(t);void 0===a&&(a=Gt(),this.ls.set(t,a)),this.ls.set(t,a.add(r.key))}}class $E{constructor(){this.fs=new Fn(fi.ds),this.ws=new Fn(fi._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new fi(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new fi(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new Ze(new on([])),r=new fi(t,e),i=new fi(t,e+1),a=[];return this.ws.forEachInRange([r,i],l=>{this.ys(l),a.push(l.key)}),a}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Ze(new on([])),r=new fi(t,e),i=new fi(t,e+1);let a=Gt();return this.ws.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new fi(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class fi{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Ze.comparator(e.key,t.key)||$t(e.As,t.As)}static _s(e,t){return $t(e.As,t.As)||Ze.comparator(e.key,t.key)}}class XM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Fn(fi.ds)}checkEmpty(e){return se.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.vs;this.vs++;const l=new t_(a,t,r,i);this.mutationQueue.push(l);for(const f of i)this.Rs=this.Rs.add(new fi(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return se.resolve(l)}lookupMutationBatch(e,t){return se.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),a=i<0?0:i;return se.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new fi(t,0),i=new fi(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],l=>{const f=this.Ps(l.As);a.push(f)}),se.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Fn($t);return t.forEach(i=>{const a=new fi(i,0),l=new fi(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,l],f=>{r=r.add(f.As)})}),se.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Ze.isDocumentKey(a)||(a=a.child(""));const l=new fi(new Ze(a),0);let f=new Fn($t);return this.Rs.forEachWhile(y=>{const w=y.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(f=f.add(y.As)),!0)},l),se.resolve(this.Vs(f))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){gt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return se.forEach(t.mutations,i=>{const a=new fi(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new fi(t,0),i=this.Rs.firstAfterOrEqual(r);return se.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return se.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class HE{constructor(e){this.Ds=e,this.docs=new xn(Ze.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,l=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return se.resolve(r?r.document.mutableCopy():$n.newInvalidDocument(t))}getEntries(e,t){let r=$s();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():$n.newInvalidDocument(i))}),se.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=$s();const l=t.path,f=new Ze(l.child("")),y=this.docs.getIteratorFrom(f);for(;y.hasNext();){const{key:w,value:{document:T}}=y.getNext();if(!l.isPrefixOf(w.path))break;w.path.length>l.length+1||Zd(JC(T),r)<=0||(i.has(T.key)||ih(t,T))&&(a=a.insert(T.key,T.mutableCopy()))}return se.resolve(a)}getAllFromCollectionGroup(e,t,r,i){ot()}Cs(e,t){return se.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new zE(this)}getSize(e){return se.resolve(this.size)}}class zE extends ZD{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),se.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class eT{constructor(e){this.persistence=e,this.xs=new ha(t=>ac(t),tp),this.lastRemoteSnapshotVersion=ct.min(),this.highestTargetId=0,this.Ns=0,this.ks=new $E,this.targetCount=0,this.Ms=ch.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),se.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new ch(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.Fn(t),se.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.xs.forEach((l,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.xs.delete(l),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),se.waitFor(a).next(()=>i)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return se.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),se.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),se.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),se.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return se.resolve(r)}containsKey(e,t){return se.resolve(this.ks.containsKey(t))}}class Dm{constructor(e,t){this.$s={},this.overlays={},this.Os=new Bs(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new eT(this),this.indexManager=new jD,this.remoteDocumentCache=new HE(r=>this.referenceDelegate.Ls(r)),this.serializer=new AE(t),this.qs=new XD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new JM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new XM(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Pe("MemoryPersistence","Starting transaction:",e);const i=new e1(this.Os.next());return this.referenceDelegate.Us(),r(i).next(a=>this.referenceDelegate.Ks(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Gs(e,t){return se.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class e1 extends eD{constructor(e){super(),this.currentSequenceNumber=e}}class m_{constructor(e){this.persistence=e,this.Qs=new $E,this.js=null}static zs(e){return new m_(e)}get Ws(){if(this.js)return this.js;throw ot()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),se.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),se.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Ws.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.Ws,r=>{const i=Ze.fromPath(r);return this.Hs(e,i).next(a=>{a||t.removeEntry(i,ct.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return se.or([()=>se.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class t1{constructor(e){this.serializer=e}O(e,t,r,i){const a=new Ov("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Hw,{unique:!0}),f.createObjectStore("documentMutations"),GE(e),function(f){f.createObjectStore("remoteDocuments")}(e));let l=se.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),GE(e)),l=l.next(()=>function(f){const y=f.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ct.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",w)}(a))),r<4&&i>=4&&(0!==r&&(l=l.next(()=>function(f,y){return y.store("mutations").j().next(w=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Hw,{unique:!0});const T=y.store("mutations"),M=w.map(F=>T.put(F));return se.waitFor(M)})}(e,a))),l=l.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(l=l.next(()=>this.Ys(a))),r<6&&i>=6&&(l=l.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(a)))),r<7&&i>=7&&(l=l.next(()=>this.Zs(a))),r<8&&i>=8&&(l=l.next(()=>this.ti(e,a))),r<9&&i>=9&&(l=l.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(l=l.next(()=>this.ei(a))),r<11&&i>=11&&(l=l.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(l=l.next(()=>{!function(f){const y=f.createObjectStore("documentOverlays",{keyPath:Wf});y.createIndex("collectionPathOverlayIndex",Kf,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",Zf,{unique:!1})}(e)})),r<13&&i>=13&&(l=l.next(()=>function(f){const y=f.createObjectStore("remoteDocumentsV14",{keyPath:mM});y.createIndex("documentKeyIndex",Gw),y.createIndex("collectionGroupIndex",yM)}(e)).next(()=>this.ni(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(l=l.next(()=>this.si(e,a))),r<15&&i>=15&&(l=l.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:Pv}).createIndex("sequenceNumberIndex",yo,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:qw}).createIndex("documentKeyIndex",qf,{unique:!1})}(e))),l}Xs(e){let t=0;return e.store("remoteDocuments").X((r,i)=>{t+=p_(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(i=>se.forEach(i,a=>{const l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",l).next(f=>se.forEach(f,y=>{gt(y.userId===a.userId);const w=ah(this.serializer,y);return fp(e,a.userId,w).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.X((l,f)=>{const y=new on(l),w=[0,Ei(y)];a.push(t.get(w).next(T=>T?se.resolve():t.put({targetId:0,path:Ei(y),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>se.waitFor(a))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:Yd});const r=t.store("collectionParents"),i=new lh,a=l=>{if(i.add(l)){const f=l.lastSegment(),y=l.popLast();return r.put({collectionId:f,parent:Ei(y)})}};return t.store("remoteDocuments").X({Y:!0},(l,f)=>{const y=new on(l);return a(y.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([l,f,y],w)=>{const T=la(f);return a(T.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,i)=>{const a=ym(i),l=RD(this.serializer,a);return t.put(l)})}ni(e,t){const r=t.store("remoteDocuments"),i=[];return r.X((a,l)=>{const f=t.store("remoteDocumentsV14"),y=(w=l,w.document?new Ze(on.fromString(w.document.name).popFirst(5)):w.noDocument?Ze.fromSegments(w.noDocument.path):w.unknownDocument?Ze.fromSegments(w.unknownDocument.path):ot()).path.toArray();var w;const T={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(f.put(T))}).next(()=>se.waitFor(i))}si(e,t){const r=t.store("mutations"),i=YD(this.serializer),a=new Dm(m_.zs,this.serializer.fe);return r.j().next(l=>{const f=new Map;return l.forEach(y=>{var w;let T=null!==(w=f.get(y.userId))&&void 0!==w?w:Gt();ah(this.serializer,y).keys().forEach(M=>T=T.add(M)),f.set(y.userId,T)}),se.forEach(f,(y,w)=>{const T=new ci(w),M=vm.de(this.serializer,T),F=a.getIndexManager(T),V=bm.de(T,this.serializer,F,a.referenceDelegate);return new JD(i,V,M,F).recalculateAndSaveOverlaysForDocumentKeys(new kv(t,Bs.ct),y).next()})})}}function GE(n){n.createObjectStore("targetDocuments",{keyPath:Jg}).createIndex("documentTargetsIndex",qi,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ya,{unique:!0}),n.createObjectStore("targetGlobal")}const Yu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class y_{constructor(e,t,r,i,a,l,f,y,w,T,M=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=a,this.window=l,this.document=f,this.ri=w,this.oi=T,this.ui=M,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=F=>Promise.resolve(),!y_.D())throw new Ce(le.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new KD(this,i),this.di=t+"main",this.serializer=new AE(y),this.wi=new ua(this.di,this.ui,new t1(this.serializer)),this.Bs=new LE(this.referenceDelegate,this.serializer),this.remoteDocumentCache=YD(this.serializer),this.qs=new c_,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===T&&Ar("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ce(le.FAILED_PRECONDITION,Yu);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Bs(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,ve.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,ve.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,ve.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>qE(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Ka(e))return Pe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Tm(e).get("owner").next(t=>se.resolve(this.Ri(t)))}Pi(e){return qE(e).delete(this.clientId)}bi(){var e=this;return(0,ve.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Wr(r,"clientMetadata");return i.j().next(a=>{const l=e.Si(a,18e5),f=a.filter(y=>-1===l.indexOf(y));return se.forEach(f,y=>i.delete(y.clientId)).next(()=>f)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?se.resolve(!0):Tm(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Ce(le.FAILED_PRECONDITION,Yu);return!1}}return!(!this.networkEnabled||!this.inForeground)||qE(e).j().next(r=>void 0===this.Si(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Pe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ve.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new kv(t,Bs.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>qE(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return bm.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new WM(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return vm.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){Pe("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=15===(l=this.ui)?Qf:14===l?Xd:13===l?Jd:12===l?Yf:11===l?Qd:void ot();var l;let f;return this.wi.runTransaction(e,i,a,y=>(f=new kv(y,this.Os?this.Os.next():Bs.ct),"readwrite-primary"===t?this.Ti(f).next(w=>!!w||this.Ei(f)).next(w=>{if(!w)throw Ar(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Ce(le.FAILED_PRECONDITION,XC);return r(f)}).next(w=>this.vi(f).next(()=>w)):this.Oi(f).next(()=>r(f)))).then(y=>(f.raiseOnCommittedEvent(),y))}Oi(e){return Tm(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ce(le.FAILED_PRECONDITION,Yu)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Tm(e).put("owner",t)}static D(){return ua.D()}Ai(e){const t=Tm(e);return t.get("owner").next(r=>this.Ri(r)?(Pe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):se.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Ar(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,un.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Pe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Ar("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Ar("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Tm(n){return Wr(n,"owner")}function qE(n){return Wr(n,"clientMetadata")}function Sm(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Am{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=Gt(),i=Gt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Am(e,t.fromCache,r,i)}}class tT{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(a=>a||this.Gi(e,t,i,r)).next(a=>a||this.Qi(e,t))}Ki(e,t){if(aE(t))return se.resolve(null);let r=Wi(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=rh(t,null,"F"),r=Wi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=Gt(...a);return this.Ui.getDocuments(e,l).next(f=>this.indexManager.getMinOffset(e,r).next(y=>{const w=this.ji(t,f);return this.zi(t,w,l,y.readTime)?this.Ki(e,rh(t,null,"F")):this.Wi(e,w,t,y)}))})))}Gi(e,t,r,i){return aE(t)||i.isEqual(ct.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(a=>{const l=this.ji(t,a);return this.zi(t,l,r,i)?this.Qi(e,t):(Lw()<=ql.in.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),uE(t)),this.Wi(e,l,t,Uw(i,-1)))})}ji(e,t){let r=new Fn(Kv(e));return t.forEach((i,a)=>{ih(e,a)&&(r=r.add(a))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Qi(e,t){return Lw()<=ql.in.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",uE(t)),this.Ui.getDocumentsMatchingQuery(e,t,Us.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}class nT{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new xn($t),this.Yi=new ha(a=>ac(a),tp),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JD(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function WE(n,e,t,r){return new nT(n,e,t,r)}function rT(n,e){return v_.apply(this,arguments)}function v_(){return v_=(0,ve.Z)(function*(n,e){const t=Xe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],f=[];let y=Gt();for(const w of i){l.push(w.batchId);for(const T of w.mutations)y=y.add(T.key)}for(const w of a){f.push(w.batchId);for(const T of w.mutations)y=y.add(T.key)}return t.localDocuments.getDocuments(r,y).next(w=>({er:w,removedBatchIds:l,addedBatchIds:f}))})})}),v_.apply(this,arguments)}function ZE(n){const e=Xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function YE(n,e,t){let r=Gt(),i=Gt();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=$s();return t.forEach((f,y)=>{const w=a.get(f);y.isFoundDocument()!==w.isFoundDocument()&&(i=i.add(f)),y.isNoDocument()&&y.version.isEqual(ct.min())?(e.removeEntry(f,y.readTime),l=l.insert(f,y)):!w.isValidDocument()||y.version.compareTo(w.version)>0||0===y.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(y),l=l.insert(f,y)):Pe("LocalStore","Ignoring outdated watch update for ",f,". Current version:",w.version," Watch version:",y.version)}),{nr:l,sr:i}})}function sT(n,e){const t=Xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function yp(n,e){const t=Xe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(a=>a?(i=a,se.resolve(i)):t.Bs.allocateTargetId(r).next(l=>(i=new eu(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function vp(n,e,t){return QE.apply(this,arguments)}function QE(){return QE=(0,ve.Z)(function*(n,e,t){const r=Xe(n),i=r.Ji.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Ka(l))throw l;Pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),QE.apply(this,arguments)}function __(n,e,t){const r=Xe(n);let i=ct.min(),a=Gt();return r.persistence.runTransaction("Execute query","readonly",l=>function(f,y,w){const T=Xe(f),M=T.Yi.get(w);return void 0!==M?se.resolve(T.Ji.get(M)):T.Bs.getTargetData(y,w)}(r,l,Wi(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,f.targetId).next(y=>{a=y})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,t?i:ct.min(),t?a:Gt())).next(f=>(XE(r,lc(e),f),{documents:f,ir:a})))}function JE(n,e){const t=Xe(n),r=Xe(t.Bs),i=t.Ji.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.le(a,e).next(l=>l?l.target:null))}function n1(n,e){const t=Xe(n),r=t.Xi.get(e)||ct.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Zi.getAllFromCollectionGroup(i,e,Uw(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(XE(t,e,i),i))}function XE(n,e,t){let r=n.Xi.get(e)||ct.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Xi.set(e,r)}function eI(){return eI=(0,ve.Z)(function*(n,e,t,r){const i=Xe(n);let a=Gt(),l=$s();for(const w of t){const T=e.rr(w.metadata.name);w.document&&(a=a.add(T));const M=e.ur(w);M.setReadTime(e.cr(w.metadata.readTime)),l=l.insert(T,M)}const f=i.Zi.newChangeBuffer({trackRemovals:!0}),y=yield yp(i,(w=r,Wi(nh(on.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>YE(w,f,l).next(T=>(f.apply(w),T)).next(T=>i.Bs.removeMatchingKeysForTargetId(w,y.targetId).next(()=>i.Bs.addMatchingKeys(w,a,y.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(w,T.nr,T.sr)).next(()=>T.nr)))}),eI.apply(this,arguments)}function wR(n,e){return tI.apply(this,arguments)}function tI(){return tI=(0,ve.Z)(function*(n,e,t=Gt()){const r=yield yp(n,Wi(uh(e.bundledQuery))),i=Xe(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const l=wr(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.qs.saveNamedQuery(a,e);const f=r.withResumeToken(Kr.EMPTY_BYTE_STRING,l);return i.Ji=i.Ji.insert(f.targetId,f),i.Bs.updateTargetData(a,f).next(()=>i.Bs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Bs.addMatchingKeys(a,t,r.targetId)).next(()=>i.qs.saveNamedQuery(a,e))})}),tI.apply(this,arguments)}function oT(n,e){return`firestore_clients_${n}_${e}`}function aT(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function w_(n,e){return`firestore_targets_${n}_${e}`}class E_{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static ar(e,t,r){const i=JSON.parse(r);let a,l="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return l&&i.error&&(l="string"==typeof i.error.message&&"string"==typeof i.error.code,l&&(a=new Ce(i.error.code,i.error.message))),l?new E_(e,t,i.state,a):(Ar("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Mm{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new Ce(r.error.code,r.error.message))),a?new Mm(e,r.state,i):(Ar("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class I_{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Zv();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=$w(r.activeTargetIds[l]),a=a.add(r.activeTargetIds[l]);return i?new I_(e,a):(Ar("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class nI{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new nI(t.clientId,t.onlineState):(Ar("SharedClientState",`Failed to parse online state: ${e}`),null)}}class rI{constructor(){this.activeTargetIds=Zv()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iI{constructor(e,t,r,i,a){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new xn($t),this.started=!1,this.yr=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=oT(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new rI),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ve.Z)(function*(){const t=yield e.syncEngine.$i();for(const i of t){if(i===e.wr)continue;const a=e.getItem(oT(e.persistenceKey,i));if(a){const l=I_.ar(i,a);l&&(e.gr=e.gr.insert(l.clientId,l))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const i=e.br(r);i&&e.Vr(i)}for(const i of e.yr)e.mr(i);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(w_(this.persistenceKey,e));if(r){const i=Mm.ar(e,r);i&&(t=i.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(w_(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Cr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Pe("SharedClientState","READ",e,t),t}setItem(e,t){Pe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Pe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Pe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void Ar("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,ve.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const i=t.Or(r.key);return t.Fr(i,null)}{const i=t.Br(r.key,r.newValue);if(i)return t.Fr(i.clientId,i)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const i=t.Lr(r.key,r.newValue);if(i)return t.qr(i)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const i=t.Ur(r.key,r.newValue);if(i)return t.Kr(i)}}else if(r.key===t.vr){if(null!==r.newValue){const i=t.br(r.newValue);if(i)return t.Vr(i)}}else if(r.key===t.Ir){const i=function(a){let l=Bs.ct;if(null!=a)try{const f=JSON.parse(a);gt("number"==typeof f),l=f}catch(f){Ar("SharedClientState","Failed to read sequence number from WebStorage",f)}return l}(r.newValue);i!==Bs.ct&&t.sequenceNumberHandler(i)}else if(r.key===t.Rr){const i=t.Gr(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Qr(a)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const i=new E_(this.currentUser,e,t,r),a=aT(this.persistenceKey,this.currentUser,e);this.setItem(a,i.hr())}Cr(e){const t=aT(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const i=w_(this.persistenceKey,e),a=new Mm(e,t,r);this.setItem(i,a.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return I_.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),i=Number(r[1]);return E_.ar(new ci(void 0!==r[2]?r[2]:null),i,t)}Ur(e,t){const r=this.Ar.exec(e),i=Number(r[1]);return Mm.ar(i,t)}br(e){return nI.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,ve.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Pe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),a=this.Sr(r),l=[],f=[];return a.forEach(y=>{i.has(y)||l.push(y)}),i.forEach(y=>{a.has(y)||f.push(y)}),this.syncEngine.Wr(l,f).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=Zv();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class uT{constructor(){this.Hr=new rI,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new rI,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class i1{Yr(e){}shutdown(){}}class _p{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let xm=null;function b_(){return null===xm?xm=268435456+Math.round(2147483648*Math.random()):xm++,"0x"+xm.toString(16)}const lT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cT{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Ii="WebChannelConnection";class s1 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,a){const l=b_(),f=this.To(e,t);Pe("RestConnection",`Sending RPC '${e}' ${l}:`,f,r);const y={};return this.Eo(y,i,a),this.Ao(e,f,y,r).then(w=>(Pe("RestConnection",`Received RPC '${e}' ${l}: `,w),w),w=>{throw go("RestConnection",`RPC '${e}' ${l} failed with error: `,w,"url: ",f,"request:",r),w})}vo(e,t,r,i,a,l){return this.Io(e,t,r,i,a)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Hf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}To(e,t){return`${this.mo}/v1/${t}:${lT[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const a=b_();return new Promise((l,f)=>{const y=new rM;y.setWithCredentials(!0),y.listenOnce(eM.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case as.NO_ERROR:const T=y.getResponseJson();Pe(Ii,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(T)),l(T);break;case as.TIMEOUT:Pe(Ii,`RPC '${e}' ${a} timed out`),f(new Ce(le.DEADLINE_EXCEEDED,"Request time out"));break;case as.HTTP_ERROR:const M=y.getStatus();if(Pe(Ii,`RPC '${e}' ${a} failed with status:`,M,"response text:",y.getResponseText()),M>0){let F=y.getResponseJson();Array.isArray(F)&&(F=F[0]);const V=F?.error;if(V&&V.status&&V.message){const W=function(ae){const me=ae.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(me)>=0?me:le.UNKNOWN}(V.status);f(new Ce(W,V.message))}else f(new Ce(le.UNKNOWN,"Server responded with status "+y.getStatus()))}else f(new Ce(le.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{Pe(Ii,`RPC '${e}' ${a} completed.`)}});const w=JSON.stringify(i);Pe(Ii,`RPC '${e}' ${a} sending request:`,i),y.send(t,"POST",w,r,15)})}Ro(e,t,r){const i=b_(),a=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=JA(),f=XA(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},w=this.longPollingOptions.timeoutSeconds;void 0!==w&&(y.longPollingTimeout=Math.round(1e3*w)),this.useFetchStreams&&(y.xmlHttpFactory=new kw({})),this.Eo(y.initMessageHeaders,t,r),y.encodeInitMessageHeaders=!0;const T=a.join("");Pe(Ii,`Creating RPC '${e}' stream ${i}: ${T}`,y);const M=l.createWebChannel(T,y);let F=!1,V=!1;const W=new cT({ro:me=>{V?Pe(Ii,`Not sending because RPC '${e}' stream ${i} is closed:`,me):(F||(Pe(Ii,`Opening RPC '${e}' stream ${i} transport.`),M.open(),F=!0),Pe(Ii,`RPC '${e}' stream ${i} sending:`,me),M.send(me))},oo:()=>M.close()}),ae=(me,Fe,ze)=>{me.listen(Fe,je=>{try{ze(je)}catch(et){setTimeout(()=>{throw et},0)}})};return ae(M,Kg.EventType.OPEN,()=>{V||Pe(Ii,`RPC '${e}' stream ${i} transport opened.`)}),ae(M,Kg.EventType.CLOSE,()=>{V||(V=!0,Pe(Ii,`RPC '${e}' stream ${i} transport closed`),W.wo())}),ae(M,Kg.EventType.ERROR,me=>{V||(V=!0,go(Ii,`RPC '${e}' stream ${i} transport errored:`,me),W.wo(new Ce(le.UNAVAILABLE,"The operation could not be completed")))}),ae(M,Kg.EventType.MESSAGE,me=>{var Fe;if(!V){const ze=me.data[0];gt(!!ze);const et=ze.error||(null===(Fe=ze[0])||void 0===Fe?void 0:Fe.error);if(et){Pe(Ii,`RPC '${e}' stream ${i} received error:`,et);const ft=et.status;let Mt=function(Zr){const Yr=rr[Zr];if(void 0!==Yr)return _E(Yr)}(ft),Qt=et.message;void 0===Mt&&(Mt=le.INTERNAL,Qt="Unknown error status: "+ft+" with message "+et.message),V=!0,W.wo(new Ce(Mt,Qt)),M.close()}else Pe(Ii,`RPC '${e}' stream ${i} received:`,ze),W._o(ze)}}),ae(f,tM.STAT_EVENT,me=>{me.stat===nM.PROXY?Pe(Ii,`RPC '${e}' stream ${i} detected buffering proxy`):me.stat===nM.NOPROXY&&Pe(Ii,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{W.fo()},0),W}}function dT(){return typeof window<"u"?window:null}function sI(){return typeof document<"u"?document:null}function C_(n){return new FM(n,!0)}class oI{constructor(e,t,r=1e3,i=1.5,a=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&Pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class hT{constructor(e,t,r,i,a,l,f,y){this.ii=e,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=f,this.listener=y,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new oI(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,ve.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,ve.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,ve.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(Ar(t.toString()),Ar("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===le.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new Ce(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,ve.Z)(function*(){e.state=0,e.start()}))}tu(e){return Pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class o1 extends hT{constructor(e,t,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function up(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:ot(),i=e.targetChange.targetIds||[],a=function(y,w){return y.useProto3Json?(gt(void 0===w||"string"==typeof w),Kr.fromBase64String(w||"")):(gt(void 0===w||w instanceof Uint8Array),Kr.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,f=l&&function(y){const w=void 0===y.code?le.UNKNOWN:_E(y.code);return new Ce(w,y.message||"")}(l);t=new DD(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=pa(n,r.document.name),a=wr(r.document.updateTime),l=r.document.createTime?wr(r.document.createTime):ct.min(),f=new hi({mapValue:{fields:r.document.fields}}),y=$n.newFoundDocument(i,a,l,f);t=new i_(r.targetIds||[],r.removedTargetIds||[],y.key,y)}else if("documentDelete"in e){const r=e.documentDelete,i=pa(n,r.document),a=r.readTime?wr(r.readTime):ct.min(),l=$n.newNoDocument(i,a);t=new i_([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,i=pa(n,r.document);t=new i_([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return ot();{const r=e.filter,{count:i=0,unchangedNames:a}=r,l=new yE(i,a);t=new CD(r.targetId,l)}}var y;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return ct.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?ct.min():a.readTime?wr(a.readTime):ct.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=ap(this.serializer),t.addTarget=function(i,a){let l;const f=a.target;if(l=sm(f)?{documents:SE(i,f)}:{query:l_(i,f)},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=CE(i,a.resumeToken);const y=bE(i,a.expectedCount);null!==y&&(l.expectedCount=y)}else if(a.snapshotVersion.compareTo(ct.min())>0){l.readTime=sp(i,a.snapshotVersion.toTimestamp());const y=bE(i,a.expectedCount);null!==y&&(l.expectedCount=y)}return l}(this.serializer,e);const r=function lp(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ot()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=ap(this.serializer),t.removeTarget=e,this.Wo(t)}}class a1 extends hT{constructor(e,t,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function vR(n,e){return n&&n.length>0?(gt(void 0!==e),n.map(t=>function(r,i){let a=wr(r.updateTime?r.updateTime:i);return a.isEqual(ct.min())&&(a=wr(i)),new wD(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=wr(e.commitTime);return this.listener.cu(r,t)}return gt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=ap(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>u_(this.serializer,r))};this.Wo(t)}}class u1 extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Ce(le.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Io(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ce(le.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.vo(e,t,r,a,l,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ce(le.UNKNOWN,a.toString())})}terminate(){this.lu=!0}}class uI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Ar(t),this.mu=!1):Pe("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class tu{constructor(e,t,r,i,a){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr(f=>{r.enqueueAndForget((0,ve.Z)(function*(){var y;ma(l)&&(Pe("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,ve.Z)(function*(w){const T=Xe(w);T.vu.add(4),yield wp(T),T.bu.set("Unknown"),T.vu.delete(4),yield Rm(T)}),function(w){return y.apply(this,arguments)})(l))}))}),this.bu=new uI(r,i)}}function Rm(n){return Om.apply(this,arguments)}function Om(){return Om=(0,ve.Z)(function*(n){if(ma(n))for(const e of n.Ru)yield e(!0)}),Om.apply(this,arguments)}function wp(n){return fT.apply(this,arguments)}function fT(){return fT=(0,ve.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),fT.apply(this,arguments)}function D_(n,e){const t=Xe(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),cI(t)?lI(t):Ep(t).Ko()&&hh(t,e))}function T_(n,e){const t=Xe(n),r=Ep(t);t.Au.delete(e),r.Ko()&&pT(t,e),0===t.Au.size&&(r.Ko()?r.jo():ma(t)&&t.bu.set("Unknown"))}function hh(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ct.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ep(n).su(e)}function pT(n,e){n.Vu.qt(e),Ep(n).iu(e)}function lI(n){n.Vu=new RM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Ep(n).start(),n.bu.gu()}function cI(n){return ma(n)&&!Ep(n).Uo()&&n.Au.size>0}function ma(n){return 0===Xe(n).vu.size}function dI(n){n.Vu=void 0}function l1(n){return S_.apply(this,arguments)}function S_(){return S_=(0,ve.Z)(function*(n){n.Au.forEach((e,t)=>{hh(n,e)})}),S_.apply(this,arguments)}function A_(n,e){return hI.apply(this,arguments)}function hI(){return hI=(0,ve.Z)(function*(n,e){dI(n),cI(n)?(n.bu.Iu(e),lI(n)):n.bu.set("Unknown")}),hI.apply(this,arguments)}function c1(n,e,t){return M_.apply(this,arguments)}function M_(){return M_=(0,ve.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof DD&&2===e.state&&e.cause)try{yield(r=(0,ve.Z)(function*(i,a){const l=a.cause;for(const f of a.targetIds)i.Au.has(f)&&(yield i.remoteSyncer.rejectListen(f,l),i.Au.delete(f),i.Vu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){Pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield x_(n,r)}else if(e instanceof i_?n.Vu.Ht(e):e instanceof CD?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(ct.min()))try{const r=yield ZE(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const l=i.Vu.ce(a);return l.targetChanges.forEach((f,y)=>{if(f.resumeToken.approximateByteSize()>0){const w=i.Au.get(y);w&&i.Au.set(y,w.withResumeToken(f.resumeToken,a))}}),l.targetMismatches.forEach((f,y)=>{const w=i.Au.get(f);if(!w)return;i.Au.set(f,w.withResumeToken(Kr.EMPTY_BYTE_STRING,w.snapshotVersion)),pT(i,f);const T=new eu(w.target,f,y,w.sequenceNumber);hh(i,T)}),i.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){Pe("RemoteStore","Failed to raise snapshot:",r),yield x_(n,r)}var r}),M_.apply(this,arguments)}function x_(n,e,t){return fI.apply(this,arguments)}function fI(){return fI=(0,ve.Z)(function*(n,e,t){if(!Ka(e))throw e;n.vu.add(1),yield wp(n),n.bu.set("Offline"),t||(t=()=>ZE(n.localStore)),n.asyncQueue.enqueueRetryable((0,ve.Z)(function*(){Pe("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Rm(n)}))}),fI.apply(this,arguments)}function pI(n,e){return e().catch(t=>x_(n,t,e))}function Qu(n){return gI.apply(this,arguments)}function gI(){return gI=(0,ve.Z)(function*(n){const e=Xe(n),t=mc(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;d1(e);)try{const i=yield sT(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,gT(e,i)}catch(i){yield x_(e,i)}mI(e)&&N_(e)}),gI.apply(this,arguments)}function d1(n){return ma(n)&&n.Eu.length<10}function gT(n,e){n.Eu.push(e);const t=mc(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function mI(n){return ma(n)&&!mc(n).Uo()&&n.Eu.length>0}function N_(n){mc(n).start()}function mT(n){return yI.apply(this,arguments)}function yI(){return yI=(0,ve.Z)(function*(n){mc(n).hu()}),yI.apply(this,arguments)}function yT(n){return R_.apply(this,arguments)}function R_(){return R_=(0,ve.Z)(function*(n){const e=mc(n);for(const t of n.Eu)e.uu(t.mutations)}),R_.apply(this,arguments)}function h1(n,e,t){return vI.apply(this,arguments)}function vI(){return vI=(0,ve.Z)(function*(n,e,t){const r=n.Eu.shift(),i=n_.from(r,e,t);yield pI(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Qu(n)}),vI.apply(this,arguments)}function _I(n,e){return Pm.apply(this,arguments)}function Pm(){return Pm=(0,ve.Z)(function*(n,e){var t;e&&mc(n).ou&&(yield(t=(0,ve.Z)(function*(r,i){if(vE(a=i.code)&&a!==le.ABORTED){const l=r.Eu.shift();mc(r).Qo(),yield pI(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,i)),yield Qu(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),mI(n)&&N_(n)}),Pm.apply(this,arguments)}function wI(n,e){return km.apply(this,arguments)}function km(){return km=(0,ve.Z)(function*(n,e){const t=Xe(n);t.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const r=ma(t);t.vu.add(3),yield wp(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Rm(t)}),km.apply(this,arguments)}function Fm(n,e){return EI.apply(this,arguments)}function EI(){return EI=(0,ve.Z)(function*(n,e){const t=Xe(n);e?(t.vu.delete(2),yield Rm(t)):e||(t.vu.add(2),yield wp(t),t.bu.set("Unknown"))}),EI.apply(this,arguments)}function Ep(n){return n.Su||(n.Su=function(e,t,r){const i=Xe(e);return i.fu(),new o1(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:l1.bind(null,n),ao:A_.bind(null,n),nu:c1.bind(null,n)}),n.Ru.push(function(){var e=(0,ve.Z)(function*(t){t?(n.Su.Qo(),cI(n)?lI(n):n.bu.set("Unknown")):(yield n.Su.stop(),dI(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function mc(n){return n.Du||(n.Du=function(e,t,r){const i=Xe(e);return i.fu(),new a1(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:mT.bind(null,n),ao:_I.bind(null,n),au:yT.bind(null,n),cu:h1.bind(null,n)}),n.Ru.push(function(){var e=(0,ve.Z)(function*(t){t?(n.Du.Qo(),yield Qu(n)):(yield n.Du.stop(),n.Eu.length>0&&(Pe("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class II{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new _r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,f=new II(e,t,l,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ce(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fh(n,e){if(Ar("AsyncQueue",`${e}: ${n}`),Ka(n))return new Ce(le.UNAVAILABLE,`${e}: ${n}`);throw n}class yc{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ze.comparator(t.key,r.key):(t,r)=>Ze.comparator(t.key,r.key),this.keyedMap=am(),this.sortedSet=new xn(this.comparator)}static emptySet(e){return new yc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof yc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new yc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class bI{constructor(){this.Cu=new xn(Ze.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):ot():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ip{constructor(e,t,r,i,a,l,f,y,w){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=f,this.excludesMetadataChanges=y,this.hasCachedResults=w}static fromInitialDocuments(e,t,r,i,a){const l=[];return t.forEach(f=>{l.push({type:0,doc:f})}),new Ip(e,t,yc.emptySet(t),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class vT{constructor(){this.Nu=void 0,this.listeners=[]}}class _T{constructor(){this.queries=new ha(e=>pD(e),wo),this.onlineState="Unknown",this.ku=new Set}}function CI(n,e){return O_.apply(this,arguments)}function O_(){return O_=(0,ve.Z)(function*(n,e){const t=Xe(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new vT),i)try{a.Nu=yield t.onListen(r)}catch(l){const f=fh(l,`Initialization of query '${uE(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,a),a.listeners.push(e),e.Mu(t.onlineState),a.Nu&&e.$u(a.Nu)&&bi(t)}),O_.apply(this,arguments)}function P_(n,e){return DI.apply(this,arguments)}function DI(){return DI=(0,ve.Z)(function*(n,e){const t=Xe(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const l=a.listeners.indexOf(e);l>=0&&(a.listeners.splice(l,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),DI.apply(this,arguments)}function wT(n,e){const t=Xe(n);let r=!1;for(const i of e){const l=t.queries.get(i.query);if(l){for(const f of l.listeners)f.$u(i)&&(r=!0);l.Nu=i}}r&&bi(t)}function f1(n,e,t){const r=Xe(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function bi(n){n.ku.forEach(e=>{e.next()})}class vc{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ip(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Ip.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class p1{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class ET{constructor(e){this.serializer=e}rr(e){return pa(this.serializer,e)}ur(e){return e.metadata.exists?xD(this.serializer,e.document,!1):$n.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return wr(e)}}class ER{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=g1(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=on.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new ET(this.serializer);for(const i of e)if(i.metadata.queries){const a=r.rr(i.metadata.name);for(const l of i.metadata.queries){const f=(t.get(l)||Gt()).add(a);t.set(l,f)}}return t}complete(){var e=this;return(0,ve.Z)(function*(){const t=yield function r1(n,e,t,r){return eI.apply(this,arguments)}(e.localStore,new ET(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const i of e.queries)yield wR(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function g1(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class TI{constructor(e){this.key=e}}class k_{constructor(e){this.key=e}}class m1{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Gt(),this.mutatedKeys=Gt(),this.tc=Kv(e),this.ec=new yc(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new bI,i=t?t.ec:this.ec;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,f=!1;const y="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,w="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((T,M)=>{const F=i.get(T),V=ih(this.query,M)?M:null,W=!!F&&this.mutatedKeys.has(F.key),ae=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let me=!1;F&&V?F.data.isEqual(V.data)?W!==ae&&(r.track({type:3,doc:V}),me=!0):this.rc(F,V)||(r.track({type:2,doc:V}),me=!0,(y&&this.tc(V,y)>0||w&&this.tc(V,w)<0)&&(f=!0)):!F&&V?(r.track({type:0,doc:V}),me=!0):F&&!V&&(r.track({type:1,doc:F}),me=!0,(y||w)&&(f=!0)),me&&(V?(l=l.add(V),a=ae?a.add(T):a.delete(T)):(l=l.delete(T),a=a.delete(T)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const T="F"===this.query.limitType?l.last():l.first();l=l.delete(T.key),a=a.delete(T.key),r.track({type:1,doc:T})}return{ec:l,ic:r,zi:f,mutatedKeys:a}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const a=e.ic.xu();a.sort((w,T)=>function(M,F){const V=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}};return V(M)-V(F)}(w.type,T.type)||this.tc(w.doc,T.doc)),this.oc(r);const l=t?this.uc():[],f=0===this.Zu.size&&this.current?1:0,y=f!==this.Xu;return this.Xu=f,0!==a.length||y?{snapshot:new Ip(this.query,e.ec,i,a,e.mutatedKeys,0===f,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new bI,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Gt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new k_(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new TI(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Gt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Ip.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class IR{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class bR{constructor(e){this.key=e,this.fc=!1}}class Lm{constructor(e,t,r,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new ha(f=>pD(f),wo),this._c=new Map,this.mc=new Set,this.gc=new xn(Ze.comparator),this.yc=new Map,this.Ic=new $E,this.Tc={},this.Ec=new Map,this.Ac=ch.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function y1(n,e){return Vm.apply(this,arguments)}function Vm(){return Vm=(0,ve.Z)(function*(n,e){const t=PT(n);let r,i;const a=t.wc.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.lc();else{const l=yield yp(t.localStore,Wi(e)),f=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,i=yield SI(t,e,r,"current"===f,l.resumeToken),t.isPrimaryClient&&D_(t.remoteStore,l)}return i}),Vm.apply(this,arguments)}function SI(n,e,t,r,i){return F_.apply(this,arguments)}function F_(){return F_=(0,ve.Z)(function*(n,e,t,r,i){n.Rc=(M,F,V)=>{return(W=(0,ve.Z)(function*(ae,me,Fe,ze){let je=me.view.sc(Fe);je.zi&&(je=yield __(ae.localStore,me.query,!1).then(({documents:Mt})=>me.view.sc(Mt,je)));const et=ze&&ze.targetChanges.get(me.targetId),ft=me.view.applyChanges(je,ae.isPrimaryClient,et);return OI(ae,me.targetId,ft.cc),ft.snapshot}),function(ae,me,Fe,ze){return W.apply(this,arguments)})(n,M,F,V);var W};const a=yield __(n.localStore,e,!0),l=new m1(e,a.ir),f=l.sc(a.documents),y=fm.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),w=l.applyChanges(f,n.isPrimaryClient,y);OI(n,t,w.cc);const T=new IR(e,t,l);return n.wc.set(e,T),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),w.snapshot}),F_.apply(this,arguments)}function v1(n,e){return AI.apply(this,arguments)}function AI(){return AI=(0,ve.Z)(function*(n,e){const t=Xe(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(a=>!wo(a,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield vp(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),T_(t.remoteStore,r.targetId),bp(t,r.targetId)}).catch(tc))):(bp(t,r.targetId),yield vp(t.localStore,r.targetId,!0))}),AI.apply(this,arguments)}function Um(){return Um=(0,ve.Z)(function*(n,e,t){const r=kT(n);try{const i=yield function(a,l){const f=Xe(a),y=Mn.now(),w=l.reduce((F,V)=>F.add(V.key),Gt());let T,M;return f.persistence.runTransaction("Locally write mutations","readwrite",F=>{let V=$s(),W=Gt();return f.Zi.getEntries(F,w).next(ae=>{V=ae,V.forEach((me,Fe)=>{Fe.isValidDocument()||(W=W.add(me))})}).next(()=>f.localDocuments.getOverlayedDocuments(F,V)).next(ae=>{T=ae;const me=[];for(const Fe of l){const ze=xM(Fe,T.get(Fe.key).overlayedDocument);null!=ze&&me.push(new qu(Fe.key,ze,Qw(ze.value.mapValue),Jn.exists(!0)))}return f.mutationQueue.addMutationBatch(F,y,me,l)}).next(ae=>{M=ae;const me=ae.applyToLocalDocumentSet(T,W);return f.documentOverlayCache.saveOverlays(F,ae.batchId,me)})}).then(()=>({batchId:M.batchId,changes:lE(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,f){let y=a.Tc[a.currentUser.toKey()];y||(y=new xn($t)),y=y.insert(l,f),a.Tc[a.currentUser.toKey()]=y}(r,i.batchId,t),yield nu(r,i.changes),yield Qu(r.remoteStore)}catch(i){const a=fh(i,"Failed to persist write");t.reject(a)}}),Um.apply(this,arguments)}function MI(n,e){return xI.apply(this,arguments)}function xI(){return xI=(0,ve.Z)(function*(n,e){const t=Xe(n);try{const r=yield function iT(n,e){const t=Xe(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const f=[];e.targetChanges.forEach((T,M)=>{const F=i.get(M);if(!F)return;f.push(t.Bs.removeMatchingKeys(a,T.removedDocuments,M).next(()=>t.Bs.addMatchingKeys(a,T.addedDocuments,M)));let V=F.withSequenceNumber(a.currentSequenceNumber);var W,ae,me;null!==e.targetMismatches.get(M)?V=V.withResumeToken(Kr.EMPTY_BYTE_STRING,ct.min()).withLastLimboFreeSnapshotVersion(ct.min()):T.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(T.resumeToken,r)),i=i.insert(M,V),ae=V,me=T,(0===(W=F).resumeToken.approximateByteSize()||ae.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=3e8||me.addedDocuments.size+me.modifiedDocuments.size+me.removedDocuments.size>0)&&f.push(t.Bs.updateTargetData(a,V))});let y=$s(),w=Gt();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,T))}),f.push(YE(a,l,e.documentUpdates).next(T=>{y=T.nr,w=T.sr})),!r.isEqual(ct.min())){const T=t.Bs.getLastRemoteSnapshotVersion(a).next(M=>t.Bs.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(T)}return se.waitFor(f).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,y,w)).next(()=>y)}).then(a=>(t.Ji=i,a))}(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.yc.get(a);l&&(gt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.fc=!0:i.modifiedDocuments.size>0?gt(l.fc):i.removedDocuments.size>0&&(gt(l.fc),l.fc=!1))}),yield nu(t,r,e)}catch(r){yield tc(r)}}),xI.apply(this,arguments)}function Bm(n,e,t){const r=Xe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((a,l)=>{const f=l.view.Mu(e);f.snapshot&&i.push(f.snapshot)}),function(a,l){const f=Xe(a);f.onlineState=l;let y=!1;f.queries.forEach((w,T)=>{for(const M of T.listeners)M.Mu(l)&&(y=!0)}),y&&bi(f)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function NI(n,e,t){return IT.apply(this,arguments)}function IT(){return IT=(0,ve.Z)(function*(n,e,t){const r=Xe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),a=i&&i.key;if(a){let l=new xn(Ze.comparator);l=l.insert(a,$n.newNoDocument(a,ct.min()));const f=Gt().add(a),y=new hm(ct.min(),new Map,new xn($t),l,f);yield MI(r,y),r.gc=r.gc.remove(a),r.yc.delete(e),PI(r)}else yield vp(r.localStore,e,!1).then(()=>bp(r,e,t)).catch(tc)}),IT.apply(this,arguments)}function bT(n,e){return RI.apply(this,arguments)}function RI(){return RI=(0,ve.Z)(function*(n,e){const t=Xe(n),r=e.batch.batchId;try{const i=yield function KE(n,e){const t=Xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,f,y,w){const T=y.batch,M=T.keys();let F=se.resolve();return M.forEach(V=>{F=F.next(()=>w.getEntry(f,V)).next(W=>{const ae=y.docVersions.get(V);gt(null!==ae),W.version.compareTo(ae)<0&&(T.applyToRemoteDocument(W,y),W.isValidDocument()&&(W.setReadTime(y.commitVersion),w.addEntry(W)))})}),F.next(()=>l.mutationQueue.removeMutationBatch(f,T))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let f=Gt();for(let y=0;y<l.mutationResults.length;++y)l.mutationResults[y].transformResults.length>0&&(f=f.add(l.batch.mutations[y].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);DT(t,r,null),jm(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield nu(t,i)}catch(i){yield tc(i)}}),RI.apply(this,arguments)}function CT(n,e,t){return _c.apply(this,arguments)}function _c(){return _c=(0,ve.Z)(function*(n,e,t){const r=Xe(n);try{const i=yield function(a,l){const f=Xe(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let w;return f.mutationQueue.lookupMutationBatch(y,l).next(T=>(gt(null!==T),w=T.keys(),f.mutationQueue.removeMutationBatch(y,T))).next(()=>f.mutationQueue.performConsistencyCheck(y)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(y,w,l)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w)).next(()=>f.localDocuments.getDocuments(y,w))})}(r.localStore,e);DT(r,e,t),jm(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield nu(r,i)}catch(i){yield tc(i)}}),_c.apply(this,arguments)}function L_(){return L_=(0,ve.Z)(function*(n,e){const t=Xe(n);ma(t.remoteStore)||Pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const l=Xe(a);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>l.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Ec.get(r)||[];i.push(e),t.Ec.set(r,i)}catch(r){const i=fh(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),L_.apply(this,arguments)}function jm(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function DT(n,e,t){const r=Xe(n);let i=r.Tc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function bp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||E1(n,r)})}function E1(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(T_(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),PI(n))}function OI(n,e,t){for(const r of t)r instanceof TI?(n.Ic.addReference(r.key,e),I1(n,r)):r instanceof k_?(Pe("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||E1(n,r.key)):ot()}function I1(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Pe("SyncEngine","New document in limbo: "+t),n.mc.add(r),PI(n))}function PI(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Ze(on.fromString(e)),r=n.Ac.next();n.yc.set(r,new bR(t)),n.gc=n.gc.insert(t,r),D_(n.remoteStore,new eu(Wi(nh(t.path)),r,"TargetPurposeLimboResolution",Bs.ct))}}function nu(n,e,t){return V_.apply(this,arguments)}function V_(){return V_=(0,ve.Z)(function*(n,e,t){const r=Xe(n),i=[],a=[],l=[];var f;r.wc.isEmpty()||(r.wc.forEach((f,y)=>{l.push(r.Rc(y,e,t).then(w=>{if((w||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,w?.fromCache?"not-current":"current"),w){i.push(w);const T=Am.Li(y.targetId,w);a.push(T)}}))}),yield Promise.all(l),r.dc.nu(i),yield(f=(0,ve.Z)(function*(y,w){const T=Xe(y);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>se.forEach(w,F=>se.forEach(F.Fi,V=>T.persistence.referenceDelegate.addReference(M,F.targetId,V)).next(()=>se.forEach(F.Bi,V=>T.persistence.referenceDelegate.removeReference(M,F.targetId,V)))))}catch(M){if(!Ka(M))throw M;Pe("LocalStore","Failed to update sequence numbers: "+M)}for(const M of w){const F=M.targetId;if(!M.fromCache){const V=T.Ji.get(F),ae=V.withLastLimboFreeSnapshotVersion(V.snapshotVersion);T.Ji=T.Ji.insert(F,ae)}}}),function(y,w){return f.apply(this,arguments)})(r.localStore,a))}),V_.apply(this,arguments)}function b1(n,e){return U_.apply(this,arguments)}function U_(){return U_=(0,ve.Z)(function*(n,e){const t=Xe(n);if(!t.currentUser.isEqual(e)){Pe("SyncEngine","User change. New user:",e.toKey());const r=yield rT(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(l=>{l.forEach(f=>{f.reject(new Ce(le.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield nu(t,r.er)}var i}),U_.apply(this,arguments)}function TT(n,e){const t=Xe(n),r=t.yc.get(e);if(r&&r.fc)return Gt().add(r.key);{let i=Gt();const a=t._c.get(e);if(!a)return i;for(const l of a){const f=t.wc.get(l);i=i.unionWith(f.view.nc)}return i}}function C1(n,e){return kI.apply(this,arguments)}function kI(){return kI=(0,ve.Z)(function*(n,e){const t=Xe(n),r=yield __(t.localStore,e.query,!0),i=e.view.hc(r);return t.isPrimaryClient&&OI(t,e.targetId,i.cc),i}),kI.apply(this,arguments)}function ST(n,e){return FI.apply(this,arguments)}function FI(){return FI=(0,ve.Z)(function*(n,e){const t=Xe(n);return n1(t.localStore,e).then(r=>nu(t,r))}),FI.apply(this,arguments)}function AT(n,e,t,r){return B_.apply(this,arguments)}function B_(){return B_=(0,ve.Z)(function*(n,e,t,r){const i=Xe(n),a=yield function(l,f){const y=Xe(l),w=Xe(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",T=>w.Sn(T,f).next(M=>M?y.localDocuments.getDocuments(T,M):se.resolve(null)))}(i.localStore,e);var f;null!==a?("pending"===t?yield Qu(i.remoteStore):"acknowledged"===t||"rejected"===t?(DT(i,e,r||null),jm(i,e),f=e,Xe(Xe(i.localStore).mutationQueue).Cn(f)):ot(),yield nu(i,a)):Pe("SyncEngine","Cannot apply mutation batch with id: "+e)}),B_.apply(this,arguments)}function j_(){return j_=(0,ve.Z)(function*(n,e){const t=Xe(n);if(PT(t),kT(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield xT(t,r.toArray());t.vc=!0,yield Fm(t.remoteStore,!0);for(const a of i)D_(t.remoteStore,a)}else if(!1===e&&!1!==t.vc){const r=[];let i=Promise.resolve();t._c.forEach((a,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then(()=>(bp(t,l),vp(t.localStore,l,!0))),T_(t.remoteStore,l)}),yield i,yield xT(t,r),function(a){const l=Xe(a);l.yc.forEach((f,y)=>{T_(l.remoteStore,y)}),l.Ic.Ts(),l.yc=new Map,l.gc=new xn(Ze.comparator)}(t),t.vc=!1,yield Fm(t.remoteStore,!1)}}),j_.apply(this,arguments)}function xT(n,e,t){return LI.apply(this,arguments)}function LI(){return LI=(0,ve.Z)(function*(n,e,t){const r=Xe(n),i=[],a=[];for(const l of e){let f;const y=r._c.get(l);if(y&&0!==y.length){f=yield yp(r.localStore,Wi(y[0]));for(const w of y){const T=r.wc.get(w),M=yield C1(r,T);M.snapshot&&a.push(M.snapshot)}}else{const w=yield JE(r.localStore,l);f=yield yp(r.localStore,w),yield SI(r,D1(w),l,!1,f.resumeToken)}i.push(f)}return r.dc.nu(a),i}),LI.apply(this,arguments)}function D1(n){return zv(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function NT(n){const e=Xe(n);return Xe(Xe(e.localStore).persistence).$i()}function CR(n,e,t,r){return RT.apply(this,arguments)}function RT(){return RT=(0,ve.Z)(function*(n,e,t,r){const i=Xe(n);if(i.vc)return void Pe("SyncEngine","Ignoring unexpected query state notification.");const a=i._c.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const l=yield n1(i.localStore,lc(a[0])),f=hm.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Kr.EMPTY_BYTE_STRING);yield nu(i,l,f);break}case"rejected":yield vp(i.localStore,e,!0),bp(i,e,r);break;default:ot()}}),RT.apply(this,arguments)}function DR(n,e,t){return OT.apply(this,arguments)}function OT(){return OT=(0,ve.Z)(function*(n,e,t){const r=PT(n);if(r.vc){for(const i of e){if(r._c.has(i)){Pe("SyncEngine","Adding an already active target "+i);continue}const a=yield JE(r.localStore,i),l=yield yp(r.localStore,a);yield SI(r,D1(a),l.targetId,!1,l.resumeToken),D_(r.remoteStore,l)}for(const i of t)r._c.has(i)&&(yield vp(r.localStore,i,!1).then(()=>{T_(r.remoteStore,i),bp(r,i)}).catch(tc))}}),OT.apply(this,arguments)}function PT(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=MI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TT.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NI.bind(null,e),e.dc.nu=wT.bind(null,e.eventManager),e.dc.Pc=f1.bind(null,e.eventManager),e}function kT(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bT.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CT.bind(null,e),e}class $_{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ve.Z)(function*(){t.serializer=C_(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return WE(this.persistence,new tT,e.initialUser,this.serializer)}createPersistence(e){return new Dm(m_.zs,this.serializer)}createSharedClientState(e){return new uT}terminate(){var e=this;return(0,ve.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class H_ extends $_{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ve.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield kT(r.Vc.syncEngine),yield Qu(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return WE(this.persistence,new tT,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new qD(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new hM(t,this.persistence);return new dM(e.asyncQueue,r)}createPersistence(e){const t=Sm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Zi.withCacheSize(this.cacheSizeBytes):Zi.DEFAULT;return new y_(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,dT(),sI(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new uT}}class z_ extends H_{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ve.Z)(function*(){yield t().call(r,e);const i=r.Vc.syncEngine;r.sharedClientState instanceof iI&&(r.sharedClientState.syncEngine={jr:AT.bind(null,i),zr:CR.bind(null,i),Wr:DR.bind(null,i),$i:NT.bind(null,i),Qr:ST.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var a=(0,ve.Z)(function*(l){yield function MT(n,e){return j_.apply(this,arguments)}(r.Vc.syncEngine,l),r.gcScheduler&&(l&&!r.gcScheduler.started?r.gcScheduler.start():l||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(l&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():l||r.indexBackfillerScheduler.stop())});return function(l){return a.apply(this,arguments)}}())})()}createSharedClientState(e){const t=dT();if(!iI.D(t))throw new Ce(le.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Sm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new iI(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class ph{initialize(e,t){var r=this;return(0,ve.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Bm(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=b1.bind(null,r.syncEngine),yield Fm(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new _T}createDatastore(e){const t=C_(e.databaseInfo.databaseId),r=new s1(e.databaseInfo);return new u1(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>Bm(this.syncEngine,f,0),l=_p.D()?new _p:new i1,new tu(t,r,i,a,l);var t,r,i,a,l}createSyncEngine(e,t){return function(r,i,a,l,f,y,w){const T=new Lm(r,i,a,l,f,y);return w&&(T.vc=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ve.Z)(function*(t){const r=Xe(t);Pe("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield wp(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function FT(n,e=10240){let t=0;return{read:()=>(0,ve.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ve.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class gh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Ar("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class T1{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new _r,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,ve.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,ve.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,ve.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),i=Number(r);isNaN(i)&&e.Mc(`length string (${r}) is not valid number`);const a=yield e.$c(i);return new p1(JSON.parse(a),t.length+i)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,ve.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,ve.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,ve.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class AR{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ve.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ce(le.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,ve.Z)(function*(a,l){const f=Xe(a),y=ap(f.serializer)+"/documents",w={documents:l.map(V=>op(f.serializer,V))},T=yield f.vo("BatchGetDocuments",y,w,l.length),M=new Map;T.forEach(V=>{const W=function LM(n,e){return"found"in e?function(t,r){gt(!!r.found);const i=pa(t,r.found.name),a=wr(r.found.updateTime),l=r.found.createTime?wr(r.found.createTime):ct.min(),f=new hi({mapValue:{fields:r.found.fields}});return $n.newFoundDocument(i,a,l,f)}(n,e):"missing"in e?function(t,r){gt(!!r.missing),gt(!!r.readTime);const i=pa(t,r.missing),a=wr(r.readTime);return $n.newNoDocument(i,a)}(n,e):ot()}(f.serializer,V);M.set(W.key.toString(),W)});const F=[];return l.forEach(V=>{const W=M.get(V.toString());gt(!!W),F.push(W)}),F}),function(a,l){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new ip(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ve.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=Ze.fromPath(i);e.mutations.push(new e_(a,e.precondition(a)))}),yield(r=(0,ve.Z)(function*(i,a){const l=Xe(i),f=ap(l.serializer)+"/documents",y={writes:a.map(w=>u_(l.serializer,w))};yield l.Io("Commit",f,y)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ot();t=ct.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ce(le.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ct.min())?Jn.exists(!1):Jn.updateTime(t):Jn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ct.min()))throw new Ce(le.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Jn.updateTime(t)}return Jn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class MR{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.Bc=r.maxAttempts,this.qo=new oI(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,ve.Z)(function*(){const t=new AR(e.datastore),r=e.qc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Uc(a)}))}).catch(i=>{e.Uc(i)})}))}qc(e){try{const t=this.updateFunction(e);return!Zg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!vE(t)}return!1}}class S1{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ci.UNAUTHENTICATED,this.clientId=Nv.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,ve.Z)(function*(f){Pe("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(Pe("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,ve.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ce(le.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new _r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=fh(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function $m(n,e){return VI.apply(this,arguments)}function VI(){return VI=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,ve.Z)(function*(a){r.isEqual(a)||(yield rT(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),VI.apply(this,arguments)}function UI(n,e){return BI.apply(this,arguments)}function BI(){return BI=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield jI(n);Pe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>wI(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>wI(e.remoteStore,a)),n._onlineComponents=e}),BI.apply(this,arguments)}function A1(n){return"FirebaseError"===n.name?n.code===le.FAILED_PRECONDITION||n.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function jI(n){return mh.apply(this,arguments)}function mh(){return mh=(0,ve.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Pe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield $m(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!A1(t))throw t;go("Error using user provided cache. Falling back to memory cache: "+t),yield $m(n,new $_)}}else Pe("FirestoreClient","Using default OfflineComponentProvider"),yield $m(n,new $_);return n._offlineComponents}),mh.apply(this,arguments)}function yh(n){return $I.apply(this,arguments)}function $I(){return $I=(0,ve.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Pe("FirestoreClient","Using user provided OnlineComponentProvider"),yield UI(n,n._uninitializedComponentsProvider._online)):(Pe("FirestoreClient","Using default OnlineComponentProvider"),yield UI(n,new ph))),n._onlineComponents}),$I.apply(this,arguments)}function LT(n){return jI(n).then(e=>e.persistence)}function G_(n){return jI(n).then(e=>e.localStore)}function VT(n){return yh(n).then(e=>e.remoteStore)}function HI(n){return yh(n).then(e=>e.syncEngine)}function wc(n){return zI.apply(this,arguments)}function zI(){return zI=(0,ve.Z)(function*(n){const e=yield yh(n),t=e.eventManager;return t.onListen=y1.bind(null,e.syncEngine),t.onUnlisten=v1.bind(null,e.syncEngine),t}),zI.apply(this,arguments)}function BT(n,e,t={}){const r=new _r;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(i,a,l,f,y){const w=new gh({next:M=>{a.enqueueAndForget(()=>P_(i,T));const F=M.docs.has(l);!F&&M.fromCache?y.reject(new Ce(le.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&f&&"server"===f.source?y.reject(new Ce(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(M)},error:M=>y.reject(M)}),T=new vc(nh(l.path),w,{includeMetadataChanges:!0,Ku:!0});return CI(i,T)}(yield wc(n),n.asyncQueue,e,t,r)})),r.promise}function jT(n,e,t={}){const r=new _r;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(i,a,l,f,y){const w=new gh({next:M=>{a.enqueueAndForget(()=>P_(i,T)),M.fromCache&&"server"===f.source?y.reject(new Ce(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(M)},error:M=>y.reject(M)}),T=new vc(l,w,{includeMetadataChanges:!0,Ku:!0});return CI(i,T)}(yield wc(n),n.asyncQueue,e,t,r)})),r.promise}function HT(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const zT=new Map;function q_(n,e,t){if(!t)throw new Ce(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function qI(n,e,t,r){if(!0===e&&!0===r)throw new Ce(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function k1(n){if(!Ze.isDocumentKey(n))throw new Ce(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ls(n){if(Ze.isDocumentKey(n))throw new Ce(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Hm(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ot()}function nn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ce(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Hm(n);throw new Ce(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function F1(n,e){if(e<=0)throw new Ce(le.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class Ci{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Ce(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ce(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=HT(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new Ce(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ce(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ce(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zm{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ci({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ce(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ce(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ci(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new pR;switch(t.type){case"firstParty":return new ZC(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ce(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=zT.get(e);t&&(Pe("ComponentProvider","Removing Datastore"),zT.delete(e),t.terminate())}(this),Promise.resolve()}}class Hn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Io(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hn(this.firestore,e,this._key)}}class Di{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Di(this.firestore,e,this._query)}}class Io extends Di{constructor(e,t,r){super(e,t,nh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hn(this.firestore,null,new Ze(e))}withConverter(e){return new Io(this.firestore,e,this._path)}}function WI(n,e,...t){if(n=(0,un.m9)(n),q_("collection","path",e),n instanceof zm){const r=on.fromString(e,...t);return ls(r),new Io(n,null,r)}{if(!(n instanceof Hn||n instanceof Io))throw new Ce(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(on.fromString(e,...t));return ls(r),new Io(n.firestore,null,r)}}function K_(n,e,...t){if(n=(0,un.m9)(n),1===arguments.length&&(e=Nv.A()),q_("doc","path",e),n instanceof zm){const r=on.fromString(e,...t);return k1(r),new Hn(n,null,new Ze(r))}{if(!(n instanceof Hn||n instanceof Io))throw new Ce(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(on.fromString(e,...t));return k1(r),new Hn(n.firestore,n instanceof Io?n.converter:null,new Ze(r))}}function KI(n,e){return n=(0,un.m9)(n),e=(0,un.m9)(e),(n instanceof Hn||n instanceof Io)&&(e instanceof Hn||e instanceof Io)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Z_(n,e){return n=(0,un.m9)(n),e=(0,un.m9)(e),n instanceof Di&&e instanceof Di&&n.firestore===e.firestore&&wo(n._query,e._query)&&n.converter===e.converter}class qT{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new oI(this,"async_queue_retry"),this.Xc=()=>{const t=sI();t&&Pe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=sI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=sI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new _r;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,ve.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Ka(t))throw t;Pe("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Ar("INTERNAL UNHANDLED ERROR: ",function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=II.createAndSchedule(this,e,t,r,a=>this.na(a));return this.zc.push(i),i}Zc(){this.Wc&&ot()}verifyOperationInProgress(){}sa(){var e=this;return(0,ve.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Y_(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class L1{constructor(){this._progressObserver={},this._taskCompletionResolver=new _r,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class zn extends zm{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new qT,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Q_(this),this._firestoreClient.terminate()}}function Er(n){return n._firestoreClient||Q_(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Q_(n){var e,t,r;const i=n._freezeSettings(),a=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new em(n._databaseId,f,n._persistenceKey,(w=i).host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,HT(w.experimentalLongPollingOptions),w.useFetchStreams));var f,w;n._firestoreClient=new S1(n._authCredentials,n._appCheckCredentials,n._queue,a),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function U1(n,e,t){const r=new _r;return n.asyncQueue.enqueue((0,ve.Z)(function*(){try{yield $m(n,t),yield UI(n,e),r.resolve()}catch(i){const a=i;if(!A1(a))throw a;go("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a)}})).then(()=>r.promise)}function YI(n){if(n._initialized||n._terminated)throw new Ce(le.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ju{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ju(Kr.fromBase64String(e))}catch(t){throw new Ce(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ju(Kr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ya{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ce(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ec{constructor(e){this._methodName=e}}class J_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ce(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ce(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $t(this._lat,e._lat)||$t(this._long,e._long)}}const JT=/^__.*__$/;class XT{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new qu(e,this.data,this.fieldMask,t,this.fieldTransforms):new rp(e,this.data,t,this.fieldTransforms)}}class _h{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new qu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function qm(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}class Wm{constructor(e,t,r,i,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Wm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return r0(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(qm(this.ca)&&JT.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class eS{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||C_(e)}ya(e,t,r,i=!1){return new Wm({ca:e,methodName:t,ga:r,path:nr.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wh(n){const e=n._freezeSettings(),t=C_(n._databaseId);return new eS(n._databaseId,!!e.ignoreUndefinedProperties,t)}function X_(n,e,t,r,i,a={}){const l=n.ya(a.merge||a.mergeFields?2:0,e,t,i);iS("Data must be an object, but it was:",l,r);const f=rS(r,l);let y,w;if(a.merge)y=new js(l.fieldMask),w=l.fieldTransforms;else if(a.mergeFields){const T=[];for(const M of a.mergeFields){const F=n0(e,M,t);if(!l.contains(F))throw new Ce(le.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);Km(T,F)||T.push(F)}y=new js(T),w=l.fieldTransforms.filter(M=>y.covers(M.field))}else y=null,w=l.fieldTransforms;return new XT(new hi(f),y,w)}class e0 extends Ec{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof e0}}function QI(n,e,t){return new Wm({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class JI extends Ec{_toFieldTransform(e){return new us(e.path,new um)}isEqual(e){return e instanceof JI}}class z1 extends Ec{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=QI(this,e,!0),r=this.pa.map(a=>Eh(a,t)),i=new zu(r);return new us(e.path,i)}isEqual(e){return this===e}}class RR extends Ec{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=QI(this,e,!0),r=this.pa.map(a=>Eh(a,t)),i=new Ki(r);return new us(e.path,i)}isEqual(e){return this===e}}class OR extends Ec{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new oh(e.serializer,mD(e.serializer,this.Ia));return new us(e.path,t)}isEqual(e){return this===e}}function tS(n,e,t,r){const i=n.ya(1,e,t);iS("Data must be an object, but it was:",i,r);const a=[],l=hi.empty();ju(r,(y,w)=>{const T=XI(e,y,t);w=(0,un.m9)(w);const M=i.da(T);if(w instanceof e0)a.push(T);else{const F=Eh(w,M);null!=F&&(a.push(T),l.set(T,F))}});const f=new js(a);return new _h(l,f,i.fieldTransforms)}function t0(n,e,t,r,i,a){const l=n.ya(1,e,t),f=[n0(e,r,t)],y=[i];if(a.length%2!=0)throw new Ce(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<a.length;F+=2)f.push(n0(e,a[F])),y.push(a[F+1]);const w=[],T=hi.empty();for(let F=f.length-1;F>=0;--F)if(!Km(w,f[F])){const V=f[F];let W=y[F];W=(0,un.m9)(W);const ae=l.da(V);if(W instanceof e0)w.push(V);else{const me=Eh(W,ae);null!=me&&(w.push(V),T.set(V,me))}}const M=new js(w);return new _h(T,M,l.fieldTransforms)}function nS(n,e,t,r=!1){return Eh(t,n.ya(r?4:3,e))}function Eh(n,e){if(G1(n=(0,un.m9)(n)))return iS("Unsupported field value:",e,n),rS(n,e);if(n instanceof Ec)return function(t,r){if(!qm(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const l of t){let f=Eh(l,r.wa(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,un.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return mD(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Mn.fromDate(t);return{timestampValue:sp(r.serializer,i)}}if(t instanceof Mn){const i=new Mn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:sp(r.serializer,i)}}if(t instanceof J_)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ju)return{bytesValue:CE(r.serializer,t._byteString)};if(t instanceof Hn){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:s_(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${Hm(t)}`)}(n,e)}function rS(n,e){const t={};return Kw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ju(n,(r,i)=>{const a=Eh(i,e.ha(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function G1(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Mn||n instanceof J_||n instanceof Ju||n instanceof Hn||n instanceof Ec)}function iS(n,e,t){if(!G1(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Hm(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function n0(n,e,t){if((e=(0,un.m9)(e))instanceof ya)return e._internalPath;if("string"==typeof e)return XI(n,e);throw r0("Field path arguments must be of type string or ",n,!1,void 0,t)}const PR=new RegExp("[~\\*/\\[\\]]");function XI(n,e,t){if(e.search(PR)>=0)throw r0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ya(...e.split("."))._internalPath}catch{throw r0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function r0(n,e,t,r,i){const a=r&&!r.isEmpty(),l=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let y="";return(a||l)&&(y+=" (found",a&&(y+=` in field ${r}`),l&&(y+=` in document ${i}`),y+=")"),new Ce(le.INVALID_ARGUMENT,f+n+y)}function Km(n,e){return n.some(t=>t.isEqual(e))}class Zm{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Hn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new q1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ym("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class q1 extends Zm{data(){return super.data()}}function Ym(n,e){return"string"==typeof e?XI(n,e):e instanceof ya?e._internalPath:e._delegate._internalPath}function Ic(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ce(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class s0{}class Ih extends s0{}function ru(n,e,...t){let r=[];e instanceof s0&&r.push(e),r=r.concat(t),function(i){const a=i.filter(f=>f instanceof bc).length,l=i.filter(f=>f instanceof Qm).length;if(a>1||a>0&&l>0)throw new Ce(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Qm extends Ih{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Qm(e,t,r)}_apply(e){const t=this._parse(e);return Q1(e._query,t),new Di(e.firestore,e.converter,Wv(e._query,t))}_parse(e){const t=wh(e.firestore);return function(i,a,l,f,y,w,T){let M;if(y.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Ce(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){a0(T,w);const F=[];for(const V of T)F.push(nb(f,i,V));M={arrayValue:{values:F}}}else M=nb(f,i,T)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||a0(T,w),M=nS(l,"where",T,"in"===w||"not-in"===w);return Yt.create(y,w,M)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class bc extends s0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new bc(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:ln.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let a=r;const l=i.getFlattenedFilters();for(const f of l)Q1(a,f),a=Wv(a,f)}(e._query,t),new Di(e.firestore,e.converter,Wv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class sS extends Ih{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new sS(e,t)}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new Ce(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ce(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new sc(i,a);return function(f,y){if(null===Gv(f)){const w=om(f);null!==w&&rb(0,w,y.field)}}(r,l),l}(e._query,this._field,this._direction);return new Di(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new Ja(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class Jm extends Ih{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Jm(e,t,r)}_apply(e){return new Di(e.firestore,e.converter,rh(e._query,this._limit,this._limitType))}}class o0 extends Ih{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new o0(e,t,r)}_apply(e){const t=uS(e,this.type,this._docOrFields,this._inclusive);return new Di(e.firestore,e.converter,(i=t,new Ja((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class Xm extends Ih{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Xm(e,t,r)}_apply(e){const t=uS(e,this.type,this._docOrFields,this._inclusive);return new Di(e.firestore,e.converter,(i=t,new Ja((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function uS(n,e,t,r){if(t[0]=(0,un.m9)(t[0]),t[0]instanceof Zm)return function(i,a,l,f,y){if(!f)throw new Ce(le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const w=[];for(const T of uc(i))if(T.field.isKeyField())w.push(Hu(a,f.key));else{const M=f.data.field(T.field);if(Lv(M))throw new Ce(le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const F=T.field.canonicalString();throw new Ce(le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}w.push(M)}return new ic(w,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=wh(n.firestore);return function(a,l,f,y,w,T){const M=a.explicitOrderBy;if(w.length>M.length)throw new Ce(le.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let V=0;V<w.length;V++){const W=w[V];if(M[V].field.isKeyField()){if("string"!=typeof W)throw new Ce(le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof W}`);if(!qv(a)&&-1!==W.indexOf("/"))throw new Ce(le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${W}' contains a slash.`);const ae=a.path.child(on.fromString(W));if(!Ze.isDocumentKey(ae))throw new Ce(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${ae}' is not because it contains an odd number of segments.`);const me=new Ze(ae);F.push(Hu(l,me))}else{const ae=nS(f,y,W);F.push(ae)}}return new ic(F,T)}(n._query,n.firestore._databaseId,i,e,t,r)}}function nb(n,e,t){if("string"==typeof(t=(0,un.m9)(t))){if(""===t)throw new Ce(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qv(e)&&-1!==t.indexOf("/"))throw new Ce(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(on.fromString(t));if(!Ze.isDocumentKey(r))throw new Ce(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Hu(n,new Ze(r))}if(t instanceof Hn)return Hu(n,t._key);throw new Ce(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hm(t)}.`)}function a0(n,e){if(!Array.isArray(n)||0===n.length)throw new Ce(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Q1(n,e){if(e.isInequality()){const r=om(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Ce(le.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const a=Gv(n);null!==a&&rb(0,i,a)}const t=function(r,i){for(const a of r)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ce(le.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function rb(n,e,t){if(!t.isEqual(e))throw new Ce(le.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class ib{convertValue(e,t="none"){switch(vo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($u(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ot()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ju(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new J_(Mr(e.latitude),Mr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Vv(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(eh(e));default:return null}}convertTimestamp(e){const t=nc(e);return new Mn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=on.fromString(e);gt(jM(r));const i=new Qa(r.get(1),r.get(3)),a=new Ze(r.popFirst(5));return i.isEqual(t)||Ar(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function l0(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class FR extends ib{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ju(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hn(this.firestore,null,t)}}class Cc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class iu extends Zm{constructor(e,t,r,i,a,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Cp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Ym("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Cp extends iu{data(e={}){return super.data(e)}}class Dc{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Cc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Cp(this._firestore,this._userDataWriter,r.key,r,new Cc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ce(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new Cp(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Cc(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||3!==l.type).map(l=>{const f=new Cp(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Cc(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,w=-1;return 0!==l.type&&(y=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),1!==l.type&&(a=a.add(l.doc),w=a.indexOf(l.doc.key)),{type:BR(l.type),doc:f,oldIndex:y,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function BR(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}function lS(n,e){return n instanceof iu&&e instanceof iu?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Dc&&e instanceof Dc&&n._firestore===e._firestore&&Z_(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Xu extends ib{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ju(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hn(this.firestore,null,t)}}function ob(n,e,t){n=nn(n,Hn);const r=nn(n.firestore,zn),i=l0(n.converter,e,t);return ey(r,[X_(wh(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Jn.none())])}function ab(n,e,t,...r){n=nn(n,Hn);const i=nn(n.firestore,zn),a=wh(i);let l;return l="string"==typeof(e=(0,un.m9)(e))||e instanceof ya?t0(a,"updateDoc",n._key,e,t,r):tS(a,"updateDoc",n._key,e),ey(i,[l.toMutation(n._key,Jn.exists(!0))])}function rx(n,...e){var t,r,i;n=(0,un.m9)(n);let a={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||Y_(e[l])||(a=e[l],l++);const f={includeMetadataChanges:a.includeMetadataChanges};if(Y_(e[l])){const M=e[l];e[l]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[l+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),e[l+2]=null===(i=M.complete)||void 0===i?void 0:i.bind(M)}let y,w,T;if(n instanceof Hn)w=nn(n.firestore,zn),T=nh(n._key.path),y={next:M=>{e[l]&&e[l](dS(w,n,M))},error:e[l+1],complete:e[l+2]};else{const M=nn(n,Di);w=nn(M.firestore,zn),T=M._query;const F=new Xu(w);y={next:V=>{e[l]&&e[l](new Dc(w,F,M,V))},error:e[l+1],complete:e[l+2]},Ic(n._query)}return function(M,F,V,W){const ae=new gh(W),me=new vc(F,ae,V);return M.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return CI(yield wc(M),me)})),()=>{ae.Dc(),M.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return P_(yield wc(M),me)}))}}(Er(w),T,f,y)}function ey(n,e){return function(t,r){const i=new _r;return t.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function _1(n,e,t){return Um.apply(this,arguments)}(yield HI(t),r,i)})),i.promise}(Er(n),e)}function dS(n,e,t){const r=t.docs.get(e._key),i=new Xu(n);return new iu(n,i,e._key,r,new Cc(t.hasPendingWrites,t.fromCache),e.converter)}const JR={maxAttempts:5};class s{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=wh(e)}set(e,t,r){this._verifyNotCommitted();const i=o(e,this._firestore),a=l0(i.converter,t,r),l=X_(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(l.toMutation(i._key,Jn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=o(e,this._firestore);let l;return l="string"==typeof(t=(0,un.m9)(t))||t instanceof ya?t0(this._dataReader,"WriteBatch.update",a._key,t,r,i):tS(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(l.toMutation(a._key,Jn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=o(e,this._firestore);return this._mutations=this._mutations.concat(new ip(t._key,Jn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ce(le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function o(n,e){if((n=(0,un.m9)(n)).firestore!==e)throw new Ce(le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class u extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=wh(e)}get(e){const t=o(e,this._firestore),r=new FR(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return ot();const a=i[0];if(a.isFoundDocument())return new Zm(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new Zm(this._firestore,r,t._key,null,t.converter);throw ot()})}set(e,t,r){const i=o(e,this._firestore),a=l0(i.converter,t,r),l=X_(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,l),this}update(e,t,r,...i){const a=o(e,this._firestore);let l;return l="string"==typeof(t=(0,un.m9)(t))||t instanceof ya?t0(this._dataReader,"Transaction.update",a._key,t,r,i):tS(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,l),this}delete(e){const t=o(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=o(e,this._firestore),r=new Xu(this._firestore);return super.get(e).then(i=>new iu(this._firestore,r,t._key,i._document,new Cc(!1,!1),t.converter))}}function C(n){return new OR("increment",n)}function ye(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ce("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function Oe(){if(typeof Uint8Array>"u")throw new Ce("unimplemented","Uint8Arrays are not available in this environment.")}function Qe(){if(!function _M(){return typeof atob<"u"}())throw new Ce("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Hf=xd.SDK_VERSION,(0,xd._registerComponent)(new mg.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),l=new zn(new WC(t.getProvider("auth-internal")),new Bu(t.getProvider("app-check-internal")),function(f,y){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ce(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qa(f.options.projectId,y)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),(0,xd.registerVersion)(Fw,"3.13.0",n),(0,xd.registerVersion)(Fw,"3.13.0","esm2017")}();class dt{constructor(e){this._delegate=e}static fromBase64String(e){return Qe(),new dt(Ju.fromBase64String(e))}static fromUint8Array(e){return Oe(),new dt(Ju.fromUint8Array(e))}toBase64(){return Qe(),this._delegate.toBase64()}toUint8Array(){return Oe(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function De(n){return function Ut(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class Kt{enableIndexedDbPersistence(e,t){return function ZI(n,e){YI(n=nn(n,zn));const t=Er(n);if(t._uninitializedComponentsProvider)throw new Ce(le.FAILED_PRECONDITION,"SDK cache is already specified.");go("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new ph;return U1(t,i,new H_(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function V1(n){YI(n=nn(n,zn));const e=Er(n);if(e._uninitializedComponentsProvider)throw new Ce(le.FAILED_PRECONDITION,"SDK cache is already specified.");go("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new ph;return U1(e,r,new z_(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function ZT(n){if(n._initialized&&!n._terminated)throw new Ce(le.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new _r;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{yield(t=(0,ve.Z)(function*(r){if(!ua.D())return Promise.resolve();const i=r+"main";yield ua.delete(i)}),function(r){return t.apply(this,arguments)})(Sm(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class _n{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Qa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&go("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function W_(n,e,t,r={}){var i;const a=(n=nn(n,zm))._getSettings(),l=`${e}:${t}`;if("firestore.googleapis.com"!==a.host&&a.host!==l&&go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),r.mockUserToken){let f,y;if("string"==typeof r.mockUserToken)f=r.mockUserToken,y=ci.MOCK_USER;else{f=(0,un.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new Ce(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new ci(w)}n._authCredentials=new qC(new Mv(f,y))}}(this._delegate,e,t,r)}enableNetwork(){return function j1(n){return function M1(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield LT(n),t=yield VT(n);return e.setNetworkEnabled(!0),function(r){const i=Xe(r);return i.vu.delete(0),Rm(i)}(t)}))}(Er(n=nn(n,zn)))}(this._delegate)}disableNetwork(){return function $1(n){return function x1(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield LT(n),t=yield VT(n);return e.setNetworkEnabled(!1),(r=(0,ve.Z)(function*(i){const a=Xe(i);a.vu.add(0),yield wp(a),a.bu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Er(n=nn(n,zn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,qI("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function B1(n){return function(e){const t=new _r;return e.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function w1(n,e){return L_.apply(this,arguments)}(yield HI(e),t)})),t.promise}(Er(n=nn(n,zn)))}(this._delegate)}onSnapshotsInSync(e){return function ix(n,e){return function O1(n,e){const t=new gh(e);return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return r=yield wc(n),i=t,Xe(r).ku.add(i),void i.next();var r,i})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return r=yield wc(n),i=t,void Xe(r).ku.delete(i);var r,i}))}}(Er(n=nn(n,zn)),Y_(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ce("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new h0(this,WI(this._delegate,e))}catch(t){throw Hs(t,"collection()","Firestore.collection()")}}doc(e){try{return new bo(this,K_(this._delegate,e))}catch(t){throw Hs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new zs(this,function GT(n,e){if(n=nn(n,zm),q_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ce(le.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Di(n,null,(t=e,new Ja(on.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Hs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function c(n,e,t){n=nn(n,zn);const r=Object.assign(Object.assign({},JR),t);return function(i){if(i.maxAttempts<1)throw new Ce(le.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,a,l){const f=new _r;return i.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){const y=yield function UT(n){return yh(n).then(e=>e.datastore)}(i);new MR(i.asyncQueue,y,l,a,f).run()})),f.promise}(Er(n),i=>e(new u(n,i)),r)}(this._delegate,t=>e(new bh(this,t)))}batch(){return Er(this._delegate),new d0(new s(this._delegate,e=>ey(this._delegate,e)))}loadBundle(e){return function YT(n,e){const t=Er(n=nn(n,zn)),r=new L1;return function P1(n,e,t,r){const i=function(a,l){let f;return f="string"==typeof a?wE().encode(a):a,y=function(y,w){if(y instanceof Uint8Array)return FT(y,w);if(y instanceof ArrayBuffer)return FT(new Uint8Array(y),w);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new T1(y,l);var y}(t,C_(e));n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){!function TR(n,e,t){const r=Xe(n);var i;(i=(0,ve.Z)(function*(a,l,f){try{const y=yield l.getMetadata();if(yield function(F,V){const W=Xe(F),ae=wr(V.createTime);return W.persistence.runTransaction("hasNewerBundle","readonly",me=>W.qs.getBundleMetadata(me,V.id)).then(me=>!!me&&me.createTime.compareTo(ae)>=0)}(a.localStore,y))return yield l.close(),f._completeWith({taskState:"Success",documentsLoaded:(F=y).totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}),Promise.resolve(new Set);f._updateProgress(g1(y));const w=new ER(y,a.localStore,l.serializer);let T=yield l.bc();for(;T;){const F=yield w.zu(T);F&&f._updateProgress(F),T=yield l.bc()}const M=yield w.complete();return yield nu(a,M.Ju,void 0),yield function(F,V){const W=Xe(F);return W.persistence.runTransaction("Save bundle","readwrite",ae=>W.qs.saveBundleMetadata(ae,V))}(a.localStore,y),f._completeWith(M.progress),Promise.resolve(M.Hu)}catch(y){return go("SyncEngine",`Loading bundle failed with ${y}`),f._failWith(y),Promise.resolve(new Set)}var F}),function(a,l,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield HI(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function NR(n,e){return function $T(n,e){return n.asyncQueue.enqueue((0,ve.Z)(function*(){return function(t,r){const i=Xe(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.qs.getNamedQuery(a,r))}(yield G_(n),e)}))}(Er(n=nn(n,zn)),e).then(t=>t?new Di(n,null,t.query):null)}(this._delegate,e).then(t=>t?new zs(this,t):null)}}class Ti extends ib{constructor(e){super(),this.firestore=e}convertBytes(e){return new dt(new Ju(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return bo.forKey(t,this.firestore,null)}}class bh{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Ti(e)}get(e){const t=ty(e);return this._delegate.get(t).then(r=>new ub(this._firestore,new iu(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=ty(e);return r?(ye("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=ty(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=ty(e);return this._delegate.delete(t),this}}class d0{constructor(e){this._delegate=e}set(e,t,r){const i=ty(e);return r?(ye("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=ty(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=ty(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Ch{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Cp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new lb(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Ch.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new Ch(e,new Ti(e),t),i.set(t,a)),a}}Ch.INSTANCES=new WeakMap;class bo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ti(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ce("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new bo(t,new Hn(t._delegate,r,new Ze(e)))}static forKey(e,t,r){return new bo(t,new Hn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new h0(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new h0(this.firestore,WI(this._delegate,e))}catch(t){throw Hs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,un.m9)(e))instanceof Hn&&KI(this._delegate,e)}set(e,t){t=ye("DocumentReference.set",t);try{return t?ob(this._delegate,e,t):ob(this._delegate,e)}catch(r){throw Hs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?ab(this._delegate,e):ab(this._delegate,e,t,...r)}catch(i){throw Hs(i,"updateDoc()","DocumentReference.update()")}}delete(){return function jR(n){return ey(nn(n.firestore,zn),[new ip(n._key,Jn.none())])}(this._delegate)}onSnapshot(...e){const t=XR(e),r=eO(e,i=>new ub(this.firestore,new iu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return rx(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function cS(n){n=nn(n,Hn);const e=nn(n.firestore,zn),t=Er(e),r=new Xu(e);return function N1(n,e){const t=new _r;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(r=(0,ve.Z)(function*(i,a,l){try{const f=yield function(y,w){const T=Xe(y);return T.persistence.runTransaction("read document","readonly",M=>T.localDocuments.getDocument(M,w))}(i,a);f.isFoundDocument()?l.resolve(f):f.isNoDocument()?l.resolve(null):l.reject(new Ce(le.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const y=fh(f,`Failed to get document '${a} from cache`);l.reject(y)}}),function(i,a,l){return r.apply(this,arguments)})(yield G_(n),e,t);var r})),t.promise}(t,n._key).then(i=>new iu(e,r,n._key,i,new Cc(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function X1(n){n=nn(n,Hn);const e=nn(n.firestore,zn);return BT(Er(e),n._key,{source:"server"}).then(t=>dS(e,n,t))}(this._delegate):function sb(n){n=nn(n,Hn);const e=nn(n.firestore,zn);return BT(Er(e),n._key).then(t=>dS(e,n,t))}(this._delegate),t.then(r=>new ub(this.firestore,new iu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new bo(this.firestore,this._delegate.withConverter(e?Ch.getInstance(this.firestore,e):null))}}function Hs(n,e,t){return n.message=n.message.replace(e,t),n}function XR(n){for(const e of n)if("object"==typeof e&&!De(e))return e;return{}}function eO(n,e){var t,r;let i;return i=De(n[0])?n[0]:De(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class ub{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new bo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return lS(this._delegate,e._delegate)}}class lb extends ub{data(e){const t=this._delegate.data(e);return function GC(n,e){n||ot()}(void 0!==t),t}}class zs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ti(e)}where(e,t,r){try{return new zs(this.firestore,ru(this._delegate,function eb(n,e,t){const r=e,i=Ym("where",n);return Qm._create(i,r,t)}(e,t,r)))}catch(i){throw Hs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new zs(this.firestore,ru(this._delegate,function kR(n,e="asc"){const t=e,r=Ym("orderBy",n);return sS._create(r,t)}(e,t)))}catch(r){throw Hs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new zs(this.firestore,ru(this._delegate,function W1(n){return F1("limit",n),Jm._create("limit",n,"F")}(e)))}catch(t){throw Hs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new zs(this.firestore,ru(this._delegate,function K1(n){return F1("limitToLast",n),Jm._create("limitToLast",n,"L")}(e)))}catch(t){throw Hs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new zs(this.firestore,ru(this._delegate,function Z1(...n){return o0._create("startAt",n,!0)}(...e)))}catch(t){throw Hs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new zs(this.firestore,ru(this._delegate,function oS(...n){return o0._create("startAfter",n,!1)}(...e)))}catch(t){throw Hs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new zs(this.firestore,ru(this._delegate,function aS(...n){return Xm._create("endBefore",n,!1)}(...e)))}catch(t){throw Hs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new zs(this.firestore,ru(this._delegate,function Y1(...n){return Xm._create("endAt",n,!0)}(...e)))}catch(t){throw Hs(t,"endAt()","Query.endAt()")}}isEqual(e){return Z_(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function ex(n){n=nn(n,Di);const e=nn(n.firestore,zn),t=Er(e),r=new Xu(e);return function R1(n,e){const t=new _r;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(r=(0,ve.Z)(function*(i,a,l){try{const f=yield __(i,a,!0),y=new m1(a,f.ir),w=y.sc(f.documents),T=y.applyChanges(w,!1);l.resolve(T.snapshot)}catch(f){const y=fh(f,`Failed to execute query '${a} against cache`);l.reject(y)}}),function(i,a,l){return r.apply(this,arguments)})(yield G_(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Dc(e,r,n,i))}(this._delegate):"server"===e?.source?function tx(n){n=nn(n,Di);const e=nn(n.firestore,zn),t=Er(e),r=new Xu(e);return jT(t,n._query,{source:"server"}).then(i=>new Dc(e,r,n,i))}(this._delegate):function c0(n){n=nn(n,Di);const e=nn(n.firestore,zn),t=Er(e),r=new Xu(e);return Ic(n._query),jT(t,n._query).then(i=>new Dc(e,r,n,i))}(this._delegate),t.then(r=>new ox(this.firestore,new Dc(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=XR(e),r=eO(e,i=>new ox(this.firestore,new Dc(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return rx(this._delegate,t,r)}withConverter(e){return new zs(this.firestore,this._delegate.withConverter(e?Ch.getInstance(this.firestore,e):null))}}class HF{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new lb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ox{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new zs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new lb(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new HF(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new lb(this._firestore,r))})}isEqual(e){return lS(this._delegate,e._delegate)}}class h0 extends zs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new bo(this.firestore,e):null}doc(e){try{return new bo(this.firestore,void 0===e?K_(this._delegate):K_(this._delegate,e))}catch(t){throw Hs(t,"doc()","CollectionReference.doc()")}}add(e){return function nx(n,e){const t=nn(n.firestore,zn),r=K_(n),i=l0(n.converter,e);return ey(t,[X_(wh(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Jn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new bo(this.firestore,t))}isEqual(e){return KI(this._delegate,e._delegate)}withConverter(e){return new h0(this.firestore,this._delegate.withConverter(e?Ch.getInstance(this.firestore,e):null))}}function ty(n){return nn(n,Hn)}class ax{constructor(...e){this._delegate=new ya(...e)}static documentId(){return new ax(nr.keyField().canonicalString())}isEqual(e){return(e=(0,un.m9)(e))instanceof ya&&this._delegate._internalPath.isEqual(e._internalPath)}}class ny{constructor(e){this._delegate=e}static serverTimestamp(){const e=function g(){return new JI("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new ny(e)}static delete(){const e=function d(){return new e0("deleteField")}();return e._methodName="FieldValue.delete",new ny(e)}static arrayUnion(...e){const t=function v(...n){return new z1("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new ny(t)}static arrayRemove(...e){const t=function I(...n){return new RR("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new ny(t)}static increment(e){const t=C(e);return t._methodName="FieldValue.increment",new ny(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const zF={Firestore:_n,GeoPoint:J_,Timestamp:Mn,Blob:dt,Transaction:bh,WriteBatch:d0,DocumentReference:bo,DocumentSnapshot:ub,Query:zs,QueryDocumentSnapshot:lb,QuerySnapshot:ox,CollectionReference:h0,FieldPath:ax,FieldValue:ny,setLogLevel:function el(n){!function sM(n){Wa.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function qF(n){(function GF(n,e){n.INTERNAL.registerComponent(new mg.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},zF)))})(n,(e,t)=>new _n(e,t,new Kt)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(H0.Z);var Cs=O(8645),WF=O(3019),hS=O(3093),cs=O(4664),KF=O(4552);class ZF extends Cs.x{constructor(e=1/0,t=1/0,r=KF.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:l}=this;t||(r.push(e),!i&&r.push(a.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let l=0;l<a.length&&!e.closed;l+=r?1:2)e.next(a[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const l=t.now();let f=0;for(let y=1;y<r.length&&r[y]<=l;y+=2)f=y;f&&r.splice(0,f+1)}}}var YF=O(3020);function tO(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,YF.B)({connector:()=>new ZF(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}const fS=(0,O(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Dp=O(6232);function f0(n){return n<=0?()=>Dp.E:(0,rs.e)((e,t)=>{let r=0;e.subscribe((0,Rr.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function pS(n){return(0,rs.e)((e,t)=>{let r=!1;e.subscribe((0,Rr.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function nO(n=JF){return(0,rs.e)((e,t)=>{let r=!1;e.subscribe((0,Rr.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function JF(){return new fS}var gS=O(2737);function Tp(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ws((i,a)=>n(i,a,r)):gS.y,f0(1),t?pS(e):nO(()=>new fS))}var cb=O(4674);function rO(n,e){return(0,cb.m)(e)?(0,cs.w)(()=>n,e):(0,cs.w)(()=>n)}var ux=O(5137);O(4097);const cx=new Map,sO={activated:!1,tokenObservers:[]},rL={initialized:!1,enabled:!1};function Fr(n){return cx.get(n)||Object.assign({},sO)}function mS(){return rL}const dx="https://content-firebaseappcheck.googleapis.com/v1",aL="exchangeDebugToken",oO={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class lL{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ve.Z)(function*(){t.stop();try{t.pending=new un.BH,yield function cL(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new un.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ds=new un.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function hx(n){if(!Fr(n).activated)throw ds.create("use-before-activation",{appName:n.name})}function _S(n,e){return px.apply(this,arguments)}function px(){return px=(0,ve.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const M=yield i.getHeartbeatsHeader();M&&(r["X-Firebase-Client"]=M)}const a={method:"POST",body:JSON.stringify(e),headers:r};let l,f;try{l=yield fetch(n,a)}catch(M){throw ds.create("fetch-network-error",{originalErrorMessage:M?.message})}if(200!==l.status)throw ds.create("fetch-status-error",{httpStatus:l.status});try{f=yield l.json()}catch(M){throw ds.create("fetch-parse-error",{originalErrorMessage:M?.message})}const y=f.ttl.match(/^([\d.]+)(s)$/);if(!y||!y[2]||isNaN(Number(y[1])))throw ds.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const w=1e3*Number(y[1]),T=Date.now();return{token:f.token,expireTimeMillis:T+w,issuedAtTimeMillis:T}}),px.apply(this,arguments)}function aO(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${dx}/projects/${t}/apps/${r}:${aL}?key=${i}`,body:{debug_token:e}}}const pL="firebase-app-check-database",gL=1,hb="firebase-app-check-store";let wS=null;function gx(){return gx=(0,ve.Z)(function*(n,e){const r=(yield function lO(){return wS||(wS=new Promise((n,e)=>{try{const t=indexedDB.open(pL,gL);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(ds.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(hb,{keyPath:"compositeKey"})}}catch(t){e(ds.create("storage-open",{originalErrorMessage:t?.message}))}}),wS)}()).transaction(hb,"readwrite"),a=r.objectStore(hb).put({compositeKey:n,value:e});return new Promise((l,f)=>{a.onsuccess=y=>{l()},r.onerror=y=>{var w;f(ds.create("storage-set",{originalErrorMessage:null===(w=y.target.error)||void 0===w?void 0:w.message}))}})}),gx.apply(this,arguments)}const fb=new ql.Yd("@firebase/app-check");function vx(n,e){return(0,un.hl)()?function yL(n,e){return function cO(n,e){return gx.apply(this,arguments)}(function hO(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{fb.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function wx(){return mS().enabled}function Ex(){return Ix.apply(this,arguments)}function Ix(){return Ix=(0,ve.Z)(function*(){const n=mS();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Ix.apply(this,arguments)}const bL={error:"UNKNOWN_ERROR"};function CL(n){return un.US.encodeString(JSON.stringify(n),!1)}function ES(n){return bx.apply(this,arguments)}function bx(){return bx=(0,ve.Z)(function*(n,e=!1){const t=n.app;hx(t);const r=Fr(t);let a,i=r.token;if(i&&!p0(i)&&(r.token=void 0,i=void 0),!i){const y=yield r.cachedTokenPromise;y&&(p0(y)?i=y:yield vx(t,void 0))}if(!e&&i&&p0(i))return{token:i.token};let f,l=!1;if(wx()){r.exchangeTokenPromise||(r.exchangeTokenPromise=_S(aO(t,yield Ex()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const y=yield r.exchangeTokenPromise;return yield vx(t,y),r.token=y,{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),i=yield Fr(t).exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?fb.warn(y.message):fb.error(y),a=y}return i?a?f=p0(i)?{token:i.token,internalError:a}:mO(a):(f={token:i.token},r.token=i,yield vx(t,i)):f=mO(a),l&&function gO(n,e){const t=Fr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,f),f}),bx.apply(this,arguments)}function Cx(){return Cx=(0,ve.Z)(function*(n){const e=n.app;hx(e);const{provider:t}=Fr(e);if(wx()){const r=yield Ex(),{token:i}=yield _S(aO(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}}),Cx.apply(this,arguments)}function Tx(n,e){const t=Fr(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function pO(n){const{app:e}=n,t=Fr(e);let r=t.tokenRefresher;r||(r=function DL(n){const{app:e}=n;return new lL((0,ve.Z)(function*(){let r;if(r=Fr(e).token?yield ES(n,!0):yield ES(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Fr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},oO.RETRIAL_MIN_WAIT,oO.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function p0(n){return n.expireTimeMillis-Date.now()>0}function mO(n){return{token:CL(bL),error:n}}class TL{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Fr(this.app);for(const t of e)Tx(this.app,t.next);return Promise.resolve()}}const CO="app-check-internal";!function BL(){(0,xd._registerComponent)(new mg.wA("app-check",n=>function SL(n,e){return new TL(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(CO).initialize()})),(0,xd._registerComponent)(new mg.wA(CO,n=>function AL(n){return{getToken:e=>ES(n,e),getLimitedUseToken:()=>function fO(n){return Cx.apply(this,arguments)}(n),addTokenListener:e=>function Dx(n,e,t,r){const{app:i}=n,a=Fr(i);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:r,type:e}],a.token&&p0(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),pO(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>pO(n))}(n,"INTERNAL",e),removeTokenListener:e=>Tx(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,xd.registerVersion)("@firebase/app-check","0.8.0")}();class xx{constructor(){return(0,Qn.vb)("app-check")}}typeof window<"u"&&window;var GL=O(120);const TO=new h.OlP("angularfire2.auth.use-emulator"),SO=new h.OlP("angularfire2.auth.settings"),AO=new h.OlP("angularfire2.auth.tenant-id"),MO=new h.OlP("angularfire2.auth.langugage-code"),xO=new h.OlP("angularfire2.auth.use-device-language"),NO=new h.OlP("angularfire.auth.persistence"),RO=(n,e,t,r,i,a,l,f)=>(0,ns.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,a&&y.useDeviceLanguage(),l)for(const[w,T]of Object.entries(l))y.settings[w]=T;return f&&y.setPersistence(f),y},[t,r,i,a,l,f]);let OO=(()=>{class n{constructor(t,r,i,a,l,f,y,w,T,M,F,V){const W=new Cs.x,ae=(0,It.of)(void 0).pipe((0,hS.Q)(l.outsideAngular),(0,cs.w)(()=>a.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,8977)))),(0,xt.U)(()=>(0,ns.on)(t,a,r)),(0,xt.U)(me=>RO(me,a,f,w,T,M,y,F)),tO({bufferSize:1,refCount:!1}));if(Ns(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,It.of)(null);else{ae.pipe(Tp()).subscribe();const Fe=ae.pipe((0,cs.w)(et=>et.getRedirectResult().then(ft=>ft,()=>null)),Qn.iC,tO({bufferSize:1,refCount:!1})),ze=ae.pipe((0,cs.w)(et=>new gs.y(ft=>({unsubscribe:a.runOutsideAngular(()=>et.onAuthStateChanged(Mt=>ft.next(Mt),Mt=>ft.error(Mt),()=>ft.complete()))})))),je=ae.pipe((0,cs.w)(et=>new gs.y(ft=>({unsubscribe:a.runOutsideAngular(()=>et.onIdTokenChanged(Mt=>ft.next(Mt),Mt=>ft.error(Mt),()=>ft.complete()))}))));this.authState=Fe.pipe(rO(ze),(0,ux.R)(l.outsideAngular),(0,hS.Q)(l.insideAngular)),this.user=Fe.pipe(rO(je),(0,ux.R)(l.outsideAngular),(0,hS.Q)(l.insideAngular)),this.idToken=this.user.pipe((0,cs.w)(et=>et?(0,pn.D)(et.getIdToken()):(0,It.of)(null))),this.idTokenResult=this.user.pipe((0,cs.w)(et=>et?(0,pn.D)(et.getIdTokenResult()):(0,It.of)(null))),this.credential=(0,WF.T)(Fe,W,this.authState.pipe(ws(et=>!et))).pipe((0,xt.U)(et=>et?.user?et:null),(0,ux.R)(l.outsideAngular),(0,hS.Q)(l.insideAngular))}return(0,ns.pX)(this,ae,a,{spy:{apply:(me,Fe,ze)=>{(me.startsWith("signIn")||me.startsWith("createUser"))&&ze.then(je=>W.next(je))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ns.Dh),h.LFG(ns.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Qn.HU),h.LFG(TO,8),h.LFG(SO,8),h.LFG(AO,8),h.LFG(MO,8),h.LFG(xO,8),h.LFG(NO,8),h.LFG(xx,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function PO(n,e){return function WL(n,e=j0.z){return new gs.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function Rx(n,e){return PO(n,e).pipe((0,xt.U)(t=>({payload:t,type:"query"})))}function bS(n,e){return Rx(n,e).pipe(fg(void 0),bf(),(0,xt.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,f)=>{const y=i.find(T=>T.doc.ref.isEqual(l.ref)),w=t?.payload.docs.find(T=>T.ref.isEqual(l.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(l.metadata)||!y&&w&&JSON.stringify(w.metadata)===JSON.stringify(l.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:l}})}),a}))}function kO(n,e,t){return bS(n,t).pipe(gg((r,i)=>function ZL(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function YL(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return Ox(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Ox(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Ox(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),(0,$0.x)(),(0,xt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function Ox(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function FO(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class LO{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=bS(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,xt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(fg(void 0),bf(),ws(([r,i])=>i.length>0||!r),(0,xt.U)(([r,i])=>i),Qn.iC)}auditTrail(e){return this.stateChanges(e).pipe(gg((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=FO(e);return kO(this.query,t,this.afs.schedulers.outsideAngular).pipe(Qn.iC)}valueChanges(e={}){return Rx(this.query,this.afs.schedulers.outsideAngular).pipe((0,xt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Qn.iC)}get(e){return(0,pn.D)(this.query.get(e)).pipe(Qn.iC)}add(e){return this.ref.add(e)}doc(e){return new VO(this.ref.doc(e),this.afs)}}class VO{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=jO(r,t);return new LO(i,a,this.afs)}snapshotChanges(){return function KL(n,e){return PO(n,e).pipe(fg(void 0),bf(),(0,xt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Qn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,xt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,pn.D)(this.ref.get(e)).pipe(Qn.iC)}}class QL{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?bS(this.query,this.afs.schedulers.outsideAngular).pipe((0,xt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),ws(t=>t.length>0),Qn.iC):bS(this.query,this.afs.schedulers.outsideAngular).pipe(Qn.iC)}auditTrail(e){return this.stateChanges(e).pipe(gg((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=FO(e);return kO(this.query,t,this.afs.schedulers.outsideAngular).pipe(Qn.iC)}valueChanges(e={}){return Rx(this.query,this.afs.schedulers.outsideAngular).pipe((0,xt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Qn.iC)}get(e){return(0,pn.D)(this.query.get(e)).pipe(Qn.iC)}}const UO=new h.OlP("angularfire2.enableFirestorePersistence"),BO=new h.OlP("angularfire2.firestore.persistenceSettings"),JL=new h.OlP("angularfire2.firestore.settings"),XL=new h.OlP("angularfire2.firestore.use-emulator");function jO(n,e=(t=>t)){return{query:e(n),ref:n}}let Px=(()=>{class n{constructor(t,r,i,a,l,f,y,w,T,M,F,V,W,ae,me,Fe,ze){this.schedulers=y;const je=(0,ns.on)(t,f,r),et=T;M&&RO(je,f,F,W,ae,me,V,Fe),[this.firestore,this.persistenceEnabled$]=(0,ns.cc)(`${je.name}.firestore`,"AngularFirestore",je.name,()=>{const ft=f.runOutsideAngular(()=>je.firestore());if(a&&ft.settings(a),et&&ft.useEmulator(...et),i&&!Ns(l)){const Mt=()=>{try{return(0,pn.D)(ft.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(Qt){return typeof console<"u"&&console.warn(Qt),(0,It.of)(!1)}};return[ft,f.runOutsideAngular(Mt)]}return[ft,(0,It.of)(!1)]},[a,et,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:l}=jO(i,r),f=this.schedulers.ngZone.run(()=>a);return new LO(f,l,this)}collectionGroup(t,r){const i=r||(l=>l),a=this.firestore.collectionGroup(t);return new QL(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new VO(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ns.Dh),h.LFG(ns.xv,8),h.LFG(UO,8),h.LFG(JL,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Qn.HU),h.LFG(BO,8),h.LFG(XL,8),h.LFG(OO,8),h.LFG(TO,8),h.LFG(SO,8),h.LFG(AO,8),h.LFG(MO,8),h.LFG(xO,8),h.LFG(NO,8),h.LFG(xx,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),e2=(()=>{class n{constructor(){GL.Z.registerVersion("angularfire",Qn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:UO,useValue:!0},{provide:BO,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[Px]}),n})();var tl=O(5619),n2=O(7103);function kx(...n){const e=(0,ao.yG)(n),t=(0,ao.jO)(n),{args:r,keys:i}=io(n);if(0===r.length)return(0,pn.D)([],e);const a=new gs.y(function r2(n,e,t=gS.y){return r=>{$O(e,()=>{const{length:i}=n,a=new Array(i);let l=i,f=i;for(let y=0;y<i;y++)$O(e,()=>{const w=(0,pn.D)(n[y],e);let T=!1;w.subscribe((0,Rr.x)(r,M=>{a[y]=M,T||(T=!0,f--),f||r.next(t(a.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,i?l=>af(i,l):gS.y));return t?a.pipe(ad(t)):a}function $O(n,e,t){n?(0,n2.f)(t,n,e):e()}function HO(n){return new gs.y(e=>{(0,oo.Xf)(n()).subscribe(e)})}var s2=O(8407);function pb(n,e){const t=(0,cb.m)(n)?n:()=>n,r=i=>i.error(t());return new gs.y(e?i=>e.schedule(r,0,i):r)}var Fx=O(7394);function Lx(){return(0,rs.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Rr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class zO extends gs.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,rs.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Fx.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Rr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Fx.w0.EMPTY)}return e}refCount(){return Lx()(this)}}var Gs=O(1631);function gb(n,e){return(0,cb.m)(e)?(0,Gs.z)(n,e,1):(0,Gs.z)(n,1)}var Ds=O(9397);function ry(n){return(0,rs.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,Rr.x)(t,void 0,void 0,l=>{a=(0,oo.Xf)(n(l,ry(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function Vx(n){return n<=0?()=>Dp.E:(0,rs.e)((e,t)=>{let r=[];e.subscribe((0,Rr.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Ux(n){return(0,rs.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var u2=O(2420);const Zt="primary",mb=Symbol("RouteTitle");class c2{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function g0(n){return new c2(n)}function d2(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const l=r[a],f=n[a];if(l.startsWith(":"))i[l.substring(1)]=f;else if(l!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Tc(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!GO(n[i],e[i]))return!1;return!0}function GO(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function qO(n){return n.length>0?n[n.length-1]:null}function Sp(n){return function t2(n){return!!n&&(n instanceof gs.y||(0,cb.m)(n.lift)&&(0,cb.m)(n.subscribe))}(n)?n:(0,h.QGY)(n)?(0,pn.D)(Promise.resolve(n)):(0,It.of)(n)}const f2={exact:function ZO(n,e,t){if(!iy(n.segments,e.segments)||!CS(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!ZO(n.children[r],e.children[r],t))return!1;return!0},subset:YO},WO={exact:function p2(n,e){return Tc(n,e)},subset:function g2(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>GO(n[t],e[t]))},ignored:()=>!0};function KO(n,e,t){return f2[t.paths](n.root,e.root,t.matrixParams)&&WO[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function YO(n,e,t){return QO(n,e,e.segments,t)}function QO(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!iy(i,t)||e.hasChildren()||!CS(i,t,r))}if(n.segments.length===t.length){if(!iy(n.segments,t)||!CS(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!YO(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(iy(n.segments,i)&&CS(n.segments,i,r)&&n.children[Zt])&&QO(n.children[Zt],e,a,r)}}function CS(n,e,t){return e.every((r,i)=>WO[t](n[i].parameters,r.parameters))}class m0{constructor(e=new Nn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=g0(this.queryParams)),this._queryParamMap}toString(){return v2.serialize(this)}}class Nn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return DS(this)}}class yb{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=g0(this.parameters)),this._parameterMap}toString(){return eP(this)}}function iy(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let vb=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return new Bx},providedIn:"root"}),e})();class Bx{parse(e){const t=new M2(e);return new m0(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${_b(e.root,!0)}`,r=function E2(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${TS(t)}=${TS(i)}`).join("&"):`${TS(t)}=${TS(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function _2(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${r}${i}`}}const v2=new Bx;function DS(n){return n.segments.map(e=>eP(e)).join("/")}function _b(n,e){if(!n.hasChildren())return DS(n);if(e){const t=n.children[Zt]?_b(n.children[Zt],!1):"",r=[];return Object.entries(n.children).forEach(([i,a])=>{i!==Zt&&r.push(`${i}:${_b(a,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function y2(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Zt&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Zt&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===Zt?[_b(n.children[Zt],!1)]:[`${i}:${_b(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Zt]?`${DS(n)}/${t[0]}`:`${DS(n)}/(${t.join("//")})`}}function JO(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function TS(n){return JO(n).replace(/%3B/gi,";")}function jx(n){return JO(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function SS(n){return decodeURIComponent(n)}function XO(n){return SS(n.replace(/\+/g,"%20"))}function eP(n){return`${jx(n.path)}${function w2(n){return Object.keys(n).map(e=>`;${jx(e)}=${jx(n[e])}`).join("")}(n.parameters)}`}const I2=/^[^\/()?;#]+/;function $x(n){const e=n.match(I2);return e?e[0]:""}const b2=/^[^\/()?;=#]+/,D2=/^[^=?&#]+/,S2=/^[^&#]+/;class M2{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Nn([],{}):new Nn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Zt]=new Nn(e,t)),r}parseSegment(){const e=$x(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new h.vHH(4009,!1);return this.capture(e),new yb(SS(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function C2(n){const e=n.match(b2);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=$x(this.remaining);i&&(r=i,this.capture(r))}e[SS(t)]=SS(r)}parseQueryParam(e){const t=function T2(n){const e=n.match(D2);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function A2(n){const e=n.match(S2);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=XO(t),a=XO(r);if(e.hasOwnProperty(i)){let l=e[i];Array.isArray(l)||(l=[l],e[i]=l),l.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=$x(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new h.vHH(4010,!1);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Zt);const l=this.parseChildren();t[a]=1===Object.keys(l).length?l[Zt]:new Nn([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new h.vHH(4011,!1)}}function tP(n){return n.segments.length>0?new Nn([],{[Zt]:n}):n}function nP(n){const e={};for(const r of Object.keys(n.children)){const a=nP(n.children[r]);if(r===Zt&&0===a.segments.length&&a.hasChildren())for(const[l,f]of Object.entries(a.children))e[l]=f;else(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function x2(n){if(1===n.numberOfChildren&&n.children[Zt]){const e=n.children[Zt];return new Nn(n.segments.concat(e.segments),e.children)}return n}(new Nn(n.segments,e))}function sy(n){return n instanceof m0}function rP(n){let e;const i=tP(function t(a){const l={};for(const y of a.children){const w=t(y);l[y.outlet]=w}const f=new Nn(a.url,l);return a===n&&(e=f),f}(n.root));return e??i}function iP(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return Hx(i,i,i,t,r);const a=function R2(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new oP(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,l)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return Object.entries(a.outlets).forEach(([y,w])=>{f[y]="string"==typeof w?w.split("/"):w}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===l?(a.split("/").forEach((f,y)=>{0==y&&"."===f||(0==y&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new oP(t,e,r)}(e);if(a.toRoot())return Hx(i,i,new Nn([],{}),t,r);const l=function O2(n,e,t){if(n.isAbsolute)return new MS(e,!0,0);if(!t)return new MS(e,!1,NaN);if(null===t.parent)return new MS(t,!0,0);const r=AS(n.commands[0])?0:1;return function P2(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new h.vHH(4005,!1);i=r.segments.length}return new MS(r,!1,i-a)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(a,i,n),f=l.processChildren?Eb(l.segmentGroup,l.index,a.commands):aP(l.segmentGroup,l.index,a.commands);return Hx(i,l.segmentGroup,f,t,r)}function AS(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function wb(n){return"object"==typeof n&&null!=n&&n.outlets}function Hx(n,e,t,r,i){let l,a={};r&&Object.entries(r).forEach(([y,w])=>{a[y]=Array.isArray(w)?w.map(T=>`${T}`):`${w}`}),l=n===e?t:sP(n,e,t);const f=tP(nP(l));return new m0(f,a,i)}function sP(n,e,t){const r={};return Object.entries(n.children).forEach(([i,a])=>{r[i]=a===e?t:sP(a,e,t)}),new Nn(n.segments,r)}class oP{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&AS(r[0]))throw new h.vHH(4003,!1);const i=r.find(wb);if(i&&i!==qO(r))throw new h.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class MS{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function aP(n,e,t){if(n||(n=new Nn([],{})),0===n.segments.length&&n.hasChildren())return Eb(n,e,t);const r=function F2(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const l=n.segments[i],f=t[r];if(wb(f))break;const y=`${f}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&w&&"object"==typeof w&&void 0===w.outlets){if(!lP(y,w,l))return a;r+=2}else{if(!lP(y,{},l))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new Nn(n.segments.slice(0,r.pathIndex),{});return a.children[Zt]=new Nn(n.segments.slice(r.pathIndex),n.children),Eb(a,0,i)}return r.match&&0===i.length?new Nn(n.segments,{}):r.match&&!n.hasChildren()?zx(n,e,t):r.match?Eb(n,0,i):zx(n,e,t)}function Eb(n,e,t){if(0===t.length)return new Nn(n.segments,{});{const r=function k2(n){return wb(n[0])?n[0].outlets:{[Zt]:n}}(t),i={};if(Object.keys(r).some(a=>a!==Zt)&&n.children[Zt]&&1===n.numberOfChildren&&0===n.children[Zt].segments.length){const a=Eb(n.children[Zt],e,t);return new Nn(n.segments,a.children)}return Object.entries(r).forEach(([a,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(i[a]=aP(n.children[a],e,l))}),Object.entries(n.children).forEach(([a,l])=>{void 0===r[a]&&(i[a]=l)}),new Nn(n.segments,i)}}function zx(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(wb(a)){const y=L2(a.outlets);return new Nn(r,y)}if(0===i&&AS(t[0])){r.push(new yb(n.segments[e].path,uP(t[0]))),i++;continue}const l=wb(a)?a.outlets[Zt]:`${a}`,f=i<t.length-1?t[i+1]:null;l&&f&&AS(f)?(r.push(new yb(l,uP(f))),i+=2):(r.push(new yb(l,{})),i++)}return new Nn(r,{})}function L2(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=zx(new Nn([],{}),0,r))}),e}function uP(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function lP(n,e,t){return n==t.path&&Tc(e,t.parameters)}const Ib="imperative";class Sc{constructor(e,t){this.id=e,this.url=t}}class xS extends Sc{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ap extends Sc{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class bb extends Sc{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class y0 extends Sc{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class NS extends Sc{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class cP extends Sc{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class V2 extends Sc{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class U2 extends Sc{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class B2 extends Sc{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class j2 extends Sc{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $2{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class H2{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class z2{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class G2{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class q2{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class W2{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dP{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Gx{}class qx{constructor(e){this.url=e}}class K2{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Cb,this.attachRef=null}}let Cb=(()=>{var n;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const a=this.getOrCreateContext(r);a.outlet=i,this.contexts.set(r,a)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new K2,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();class hP{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Wx(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Wx(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Kx(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Kx(e,this._root).map(t=>t.value)}}function Wx(n,e){if(n===e.value)return e;for(const t of e.children){const r=Wx(n,t);if(r)return r}return null}function Kx(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Kx(n,t);if(r.length)return r.unshift(e),r}return[]}class Dh{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function v0(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class fP extends hP{constructor(e,t){super(e),this.snapshot=t,Zx(this,e)}toString(){return this.snapshot.toString()}}function pP(n,e){const t=function Z2(n,e){const l=new RS([],{},{},"",{},Zt,e,null,{});return new mP("",new Dh(l,[]))}(0,e),r=new tl.X([new yb("",{})]),i=new tl.X({}),a=new tl.X({}),l=new tl.X({}),f=new tl.X(""),y=new oy(r,i,l,f,a,Zt,e,t.root);return y.snapshot=t.root,new fP(new Dh(y,[]),t)}class oy{constructor(e,t,r,i,a,l,f,y){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=a,this.outlet=l,this.component=f,this._futureSnapshot=y,this.title=this.dataSubject?.pipe((0,xt.U)(w=>w[mb]))??(0,It.of)(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,xt.U)(e=>g0(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,xt.U)(e=>g0(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function gP(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function Y2(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class RS{get title(){return this.data?.[mb]}constructor(e,t,r,i,a,l,f,y,w){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=l,this.component=f,this.routeConfig=y,this._resolve=w}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=g0(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=g0(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class mP extends hP{constructor(e,t){super(t),this.url=e,Zx(this,t)}toString(){return yP(this._root)}}function Zx(n,e){e.value._routerState=n,e.children.forEach(t=>Zx(n,t))}function yP(n){const e=n.children.length>0?` { ${n.children.map(yP).join(", ")} } `:"";return`${n.value}${e}`}function Yx(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Tc(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Tc(e.params,t.params)||n.paramsSubject.next(t.params),function h2(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Tc(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Tc(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Qx(n,e){const t=Tc(n.params,e.params)&&function m2(n,e){return iy(n,e)&&n.every((t,r)=>Tc(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Qx(n.parent,e.parent))}let Jx=(()=>{var n;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Zt,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.parentContexts=(0,h.f3M)(Cb),this.location=(0,h.f3M)(h.s_b),this.changeDetector=(0,h.f3M)(h.sBO),this.environmentInjector=(0,h.f3M)(h.lqb),this.inputBinder=(0,h.f3M)(OS,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:a}=r.name;if(i)return;this.isTrackedInParentContexts(a)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(a)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.vHH(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new h.vHH(4013,!1);this._activatedRoute=r;const a=this.location,f=r.snapshot.component,y=this.parentContexts.getOrCreateContext(this.name).children,w=new Q2(r,y,a.injector);this.activated=a.createComponent(f,{index:a.length,injector:w,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[h.TTD]}),e})();class Q2{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===oy?this.route:e===Cb?this.childContexts:this.parent.get(e,t)}}const OS=new h.OlP("");let vP=(()=>{var n;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:i}=r,a=kx([i.queryParams,i.params,i.data]).pipe((0,cs.w)(([l,f,y],w)=>(y={...l,...f,...y},0===w?(0,It.of)(y):Promise.resolve(y)))).subscribe(l=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(r);const f=(0,h.qFp)(i.component);if(f)for(const{templateName:y}of f.inputs)r.activatedComponentRef.setInput(y,l[y]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,a)}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),e})();function Db(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function X2(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Db(n,r,i);return Db(n,r)})}(n,e,t);return new Dh(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const l=a.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(f=>Db(n,f)),l}}const r=function eV(n){return new oy(new tl.X(n.url),new tl.X(n.params),new tl.X(n.queryParams),new tl.X(n.fragment),new tl.X(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>Db(n,a));return new Dh(r,i)}}const Xx="ngNavigationCancelingError";function _P(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=sy(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=wP(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function wP(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Xx]=!0,r.cancellationCode=e,t&&(r.url=t),r}function EP(n){return n&&n[Xx]}let IP=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[h.jDz],decls:1,vars:0,template:function(r,i){1&r&&h._UZ(0,"router-outlet")},dependencies:[Jx],encapsulation:2}),e})();function eN(n){const e=n.children&&n.children.map(eN),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Zt&&(t.component=IP),t}function nl(n){return n.outlet||Zt}function Tb(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class uV{constructor(e,t,r,i,a){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=a}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Yx(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=v0(t);e.children.forEach(a=>{const l=a.value.outlet;this.deactivateRoutes(a,i[l],r),delete i[l]}),Object.values(i).forEach(a=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=v0(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],i);if(r&&r.outlet){const l=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=v0(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=v0(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new W2(a.value.snapshot))}),e.children.length&&this.forwardEvent(new G2(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(Yx(i),i===a)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(f.contexts),l.attachRef=f.componentRef,l.route=f.route.value,l.outlet&&l.outlet.attach(f.componentRef,f.route.value),Yx(f.route.value),this.activateChildRoutes(e,null,l.children)}else{const f=Tb(i.snapshot);l.attachRef=null,l.route=i,l.injector=f,l.outlet&&l.outlet.activateWith(i,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class bP{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class PS{constructor(e,t){this.component=e,this.route=t}}function lV(n,e,t){const r=n._root;return Sb(r,e?e._root:null,t,[r.value])}function _0(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,h.Z0I)(n)?e.get(n):n:r}function Sb(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=v0(e);return n.children.forEach(l=>{(function dV(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,l=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(l&&a.routeConfig===l.routeConfig){const y=function hV(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!iy(n.url,e.url);case"pathParamsOrQueryParamsChange":return!iy(n.url,e.url)||!Tc(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qx(n,e)||!Tc(n.queryParams,e.queryParams);default:return!Qx(n,e)}}(l,a,a.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new bP(r)):(a.data=l.data,a._resolvedData=l._resolvedData),Sb(n,e,a.component?f?f.children:null:t,r,i),y&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new PS(f.outlet.component,l))}else l&&Ab(e,f,i),i.canActivateChecks.push(new bP(r)),Sb(n,null,a.component?f?f.children:null:t,r,i)})(l,a[l.value.outlet],t,r.concat([l.value]),i),delete a[l.value.outlet]}),Object.entries(a).forEach(([l,f])=>Ab(f,t.getContext(l),i)),i}function Ab(n,e,t){const r=v0(n),i=n.value;Object.entries(r).forEach(([a,l])=>{Ab(l,i.component?e?e.children.getContext(a):null:e,t)}),t.canDeactivateChecks.push(new PS(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Mb(n){return"function"==typeof n}function CP(n){return n instanceof fS||"EmptyError"===n?.name}const kS=Symbol("INITIAL_VALUE");function w0(){return(0,cs.w)(n=>kx(n.map(e=>e.pipe(f0(1),fg(kS)))).pipe((0,xt.U)(e=>{for(const t of e)if(!0!==t){if(t===kS)return kS;if(!1===t||t instanceof m0)return t}return!0}),ws(e=>e!==kS),f0(1)))}function DP(n){return(0,s2.z)((0,Ds.b)(e=>{if(sy(e))throw _P(0,e)}),(0,xt.U)(e=>!0===e))}class FS{constructor(e){this.segmentGroup=e||null}}class TP{constructor(e){this.urlTree=e}}function E0(n){return pb(new FS(n))}function SP(n){return pb(new TP(n))}class RV{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new h.vHH(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return(0,It.of)(r);if(i.numberOfChildren>1||!i.children[Zt])return pb(new h.vHH(4e3,!1));i=i.children[Zt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new m0(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,a])=>{if("string"==typeof a&&a.startsWith(":")){const f=a.substring(1);r[i]=t[f]}else r[i]=a}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let l={};return Object.entries(t.children).forEach(([f,y])=>{l[f]=this.createSegmentGroup(e,y,r,i)}),new Nn(a,l)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new h.vHH(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const tN={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function OV(n,e,t,r,i){const a=nN(n,e,t);return a.matched?(r=function nV(n,e){return n.providers&&!n._injector&&(n._injector=(0,h.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function MV(n,e,t,r){const i=e.canMatch;if(!i||0===i.length)return(0,It.of)(!0);const a=i.map(l=>{const f=_0(l,n);return Sp(function vV(n){return n&&Mb(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))});return(0,It.of)(a).pipe(w0(),DP())}(r,e,t).pipe((0,xt.U)(l=>!0===l?a:{...tN}))):(0,It.of)(a)}function nN(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...tN}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||d2)(t,n,e);if(!i)return{...tN};const a={};Object.entries(i.posParams??{}).forEach(([f,y])=>{a[f]=y.path});const l=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:l,positionalParamSegments:i.posParams??{}}}function AP(n,e,t,r){return t.length>0&&function FV(n,e,t){return t.some(r=>LS(n,e,r)&&nl(r)!==Zt)}(n,t,r)?{segmentGroup:new Nn(e,kV(r,new Nn(t,n.children))),slicedSegments:[]}:0===t.length&&function LV(n,e,t){return t.some(r=>LS(n,e,r))}(n,t,r)?{segmentGroup:new Nn(n.segments,PV(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Nn(n.segments,n.children),slicedSegments:t}}function PV(n,e,t,r,i){const a={};for(const l of r)if(LS(n,t,l)&&!i[nl(l)]){const f=new Nn([],{});a[nl(l)]=f}return{...i,...a}}function kV(n,e){const t={};t[Zt]=e;for(const r of n)if(""===r.path&&nl(r)!==Zt){const i=new Nn([],{});t[nl(r)]=i}return t}function LS(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class jV{constructor(e,t,r,i,a,l,f){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=a,this.paramsInheritanceStrategy=l,this.urlSerializer=f,this.allowRedirects=!0,this.applyRedirects=new RV(this.urlSerializer,this.urlTree)}noMatchError(e){return new h.vHH(4002,!1)}recognize(){const e=AP(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Zt).pipe(ry(t=>{if(t instanceof TP)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof FS?this.noMatchError(t):t}),(0,xt.U)(t=>{const r=new RS([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Zt,this.rootComponentType,null,{}),i=new Dh(r,t),a=new mP("",i),l=function N2(n,e,t=null,r=null){return iP(rP(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,a.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(a._root),{state:a,tree:l}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Zt).pipe(ry(r=>{throw r instanceof FS?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=gP(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,pn.D)(i).pipe(gb(a=>{const l=r.children[a],f=function oV(n,e){const t=n.filter(r=>nl(r)===e);return t.push(...n.filter(r=>nl(r)!==e)),t}(t,a);return this.processSegmentGroup(e,f,l,a)}),gg((a,l)=>(a.push(...l),a)),pS(null),function o2(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ws((i,a)=>n(i,a,r)):gS.y,Vx(1),t?pS(e):nO(()=>new fS))}(),(0,Gs.z)(a=>{if(null===a)return E0(r);const l=MP(a);return function $V(n){n.sort((e,t)=>e.value.outlet===Zt?-1:t.value.outlet===Zt?1:e.value.outlet.localeCompare(t.value.outlet))}(l),(0,It.of)(l)}))}processSegment(e,t,r,i,a,l){return(0,pn.D)(t).pipe(gb(f=>this.processSegmentAgainstRoute(f._injector??e,t,f,r,i,a,l).pipe(ry(y=>{if(y instanceof FS)return(0,It.of)(null);throw y}))),Tp(f=>!!f),ry(f=>{if(CP(f))return function UV(n,e,t){return 0===e.length&&!n.children[t]}(r,i,a)?(0,It.of)([]):E0(r);throw f}))}processSegmentAgainstRoute(e,t,r,i,a,l,f){return function VV(n,e,t,r){return!!(nl(n)===r||r!==Zt&&LS(e,t,n))&&("**"===n.path||nN(e,n,t).matched)}(r,i,a,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,a,l,f):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,a,l):E0(i):E0(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?SP(a):this.applyRedirects.lineralizeSegments(r,a).pipe((0,Gs.z)(l=>{const f=new Nn(l,{});return this.processSegment(e,t,f,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l){const{matched:f,consumedSegments:y,remainingSegments:w,positionalParamSegments:T}=nN(t,i,a);if(!f)return E0(t);const M=this.applyRedirects.applyRedirectCommands(y,i.redirectTo,T);return i.redirectTo.startsWith("/")?SP(M):this.applyRedirects.lineralizeSegments(i,M).pipe((0,Gs.z)(F=>this.processSegment(e,r,t,F.concat(w),l,!1)))}matchSegmentAgainstRoute(e,t,r,i,a,l){let f;if("**"===r.path){const y=i.length>0?qO(i).parameters:{},w=new RS(i,y,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,xP(r),nl(r),r.component??r._loadedComponent??null,r,NP(r));f=(0,It.of)({snapshot:w,consumedSegments:[],remainingSegments:[]}),t.children={}}else f=OV(t,r,i,e).pipe((0,xt.U)(({matched:y,consumedSegments:w,remainingSegments:T,parameters:M})=>y?{snapshot:new RS(w,M,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,xP(r),nl(r),r.component??r._loadedComponent??null,r,NP(r)),consumedSegments:w,remainingSegments:T}:null));return f.pipe((0,cs.w)(y=>null===y?E0(t):this.getChildConfig(e=r._injector??e,r,i).pipe((0,cs.w)(({routes:w})=>{const T=r._loadedInjector??e,{snapshot:M,consumedSegments:F,remainingSegments:V}=y,{segmentGroup:W,slicedSegments:ae}=AP(t,F,V,w);if(0===ae.length&&W.hasChildren())return this.processChildren(T,w,W).pipe((0,xt.U)(Fe=>null===Fe?null:[new Dh(M,Fe)]));if(0===w.length&&0===ae.length)return(0,It.of)([new Dh(M,[])]);const me=nl(r)===a;return this.processSegment(T,w,W,ae,me?Zt:a,!0).pipe((0,xt.U)(Fe=>[new Dh(M,Fe)]))}))))}getChildConfig(e,t,r){return t.children?(0,It.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,It.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function AV(n,e,t,r){const i=e.canLoad;if(void 0===i||0===i.length)return(0,It.of)(!0);const a=i.map(l=>{const f=_0(l,n);return Sp(function pV(n){return n&&Mb(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))});return(0,It.of)(a).pipe(w0(),DP())}(e,t,r).pipe((0,Gs.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Ds.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function NV(n){return pb(wP(!1,3))}())):(0,It.of)({routes:[],injector:e})}}function HV(n){const e=n.value.routeConfig;return e&&""===e.path}function MP(n){const e=[],t=new Set;for(const r of n){if(!HV(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=MP(r.children);e.push(new Dh(r.value,i))}return e.filter(r=>!t.has(r))}function xP(n){return n.data||{}}function NP(n){return n.resolve||{}}function RP(n){return"string"==typeof n.title||null===n.title}function rN(n){return(0,cs.w)(e=>{const t=n(e);return t?(0,pn.D)(t).pipe((0,xt.U)(()=>e)):(0,It.of)(e)})}const I0=new h.OlP("ROUTES");let iN=(()=>{var n;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,h.f3M)(h.Sil)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return(0,It.of)(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=Sp(r.loadComponent()).pipe((0,xt.U)(OP),(0,Ds.b)(l=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=l}),Ux(()=>{this.componentLoaders.delete(r)})),a=new zO(i,()=>new Cs.x).pipe(Lx());return this.componentLoaders.set(r,a),a}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,It.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const l=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,xt.U)(y=>{this.onLoadEndListener&&this.onLoadEndListener(i);let w,T;return Array.isArray(y)?T=y:(w=y.create(r).injector,T=w.get(I0,[],h.XFs.Self|h.XFs.Optional).flat()),{routes:T.map(eN),injector:w}}),Ux(()=>{this.childrenLoaders.delete(i)})),f=new zO(l,()=>new Cs.x).pipe(Lx());return this.childrenLoaders.set(i,f),f}loadModuleFactoryOrRoutes(r){return Sp(r()).pipe((0,xt.U)(OP),(0,Gs.z)(i=>i instanceof h.YKP||Array.isArray(i)?(0,It.of)(i):(0,pn.D)(this.compiler.compileModuleAsync(i))))}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();function OP(n){return function YV(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let VS=(()=>{var n;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Cs.x,this.transitionAbortSubject=new Cs.x,this.configLoader=(0,h.f3M)(iN),this.environmentInjector=(0,h.f3M)(h.lqb),this.urlSerializer=(0,h.f3M)(vb),this.rootContexts=(0,h.f3M)(Cb),this.inputBindingEnabled=null!==(0,h.f3M)(OS,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,It.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=a=>this.events.next(new H2(a)),this.configLoader.onLoadStartListener=a=>this.events.next(new $2(a))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:i})}setupNavigations(r,i,a){return this.transitions=new tl.X({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:r.urlHandlingStrategy.extract(i),urlAfterRedirects:r.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ib,restoredState:null,currentSnapshot:a.snapshot,targetSnapshot:null,currentRouterState:a,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ws(l=>0!==l.id),(0,xt.U)(l=>({...l,extractedUrl:r.urlHandlingStrategy.extract(l.rawUrl)})),(0,cs.w)(l=>{this.currentTransition=l;let f=!1,y=!1;return(0,It.of)(l).pipe((0,Ds.b)(w=>{this.currentNavigation={id:w.id,initialUrl:w.rawUrl,extractedUrl:w.extractedUrl,trigger:w.source,extras:w.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,cs.w)(w=>{const T=w.currentBrowserUrl.toString(),M=!r.navigated||w.extractedUrl.toString()!==T||T!==w.currentUrlTree.toString();if(!M&&"reload"!==(w.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const V="";return this.events.next(new y0(w.id,this.urlSerializer.serialize(w.rawUrl),V,0)),w.resolve(null),Dp.E}if(r.urlHandlingStrategy.shouldProcessUrl(w.rawUrl))return(0,It.of)(w).pipe((0,cs.w)(V=>{const W=this.transitions?.getValue();return this.events.next(new xS(V.id,this.urlSerializer.serialize(V.extractedUrl),V.source,V.restoredState)),W!==this.transitions?.getValue()?Dp.E:Promise.resolve(V)}),function zV(n,e,t,r,i,a){return(0,Gs.z)(l=>function BV(n,e,t,r,i,a,l="emptyOnly"){return new jV(n,e,t,r,i,l,a).recognize()}(n,e,t,r,l.extractedUrl,i,a).pipe((0,xt.U)(({state:f,tree:y})=>({...l,targetSnapshot:f,urlAfterRedirects:y}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),(0,Ds.b)(V=>{l.targetSnapshot=V.targetSnapshot,l.urlAfterRedirects=V.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:V.urlAfterRedirects};const W=new cP(V.id,this.urlSerializer.serialize(V.extractedUrl),this.urlSerializer.serialize(V.urlAfterRedirects),V.targetSnapshot);this.events.next(W)}));if(M&&r.urlHandlingStrategy.shouldProcessUrl(w.currentRawUrl)){const{id:V,extractedUrl:W,source:ae,restoredState:me,extras:Fe}=w,ze=new xS(V,this.urlSerializer.serialize(W),ae,me);this.events.next(ze);const je=pP(0,this.rootComponentType).snapshot;return this.currentTransition=l={...w,targetSnapshot:je,urlAfterRedirects:W,extras:{...Fe,skipLocationChange:!1,replaceUrl:!1}},(0,It.of)(l)}{const V="";return this.events.next(new y0(w.id,this.urlSerializer.serialize(w.extractedUrl),V,1)),w.resolve(null),Dp.E}}),(0,Ds.b)(w=>{const T=new V2(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(T)}),(0,xt.U)(w=>(this.currentTransition=l={...w,guards:lV(w.targetSnapshot,w.currentSnapshot,this.rootContexts)},l)),function wV(n,e){return(0,Gs.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:l}}=t;return 0===l.length&&0===a.length?(0,It.of)({...t,guardsResult:!0}):function EV(n,e,t,r){return(0,pn.D)(n).pipe((0,Gs.z)(i=>function SV(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!a||0===a.length)return(0,It.of)(!0);const l=a.map(f=>{const y=Tb(e)??i,w=_0(f,y);return Sp(function yV(n){return n&&Mb(n.canDeactivate)}(w)?w.canDeactivate(n,e,t,r):y.runInContext(()=>w(n,e,t,r))).pipe(Tp())});return(0,It.of)(l).pipe(w0())}(i.component,i.route,t,e,r)),Tp(i=>!0!==i,!0))}(l,r,i,n).pipe((0,Gs.z)(f=>f&&function fV(n){return"boolean"==typeof n}(f)?function IV(n,e,t,r){return(0,pn.D)(e).pipe(gb(i=>tv(function CV(n,e){return null!==n&&e&&e(new z2(n)),(0,It.of)(!0)}(i.route.parent,r),function bV(n,e){return null!==n&&e&&e(new q2(n)),(0,It.of)(!0)}(i.route,r),function TV(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(l=>function cV(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>HO(()=>{const f=l.guards.map(y=>{const w=Tb(l.node)??t,T=_0(y,w);return Sp(function mV(n){return n&&Mb(n.canActivateChild)}(T)?T.canActivateChild(r,n):w.runInContext(()=>T(r,n))).pipe(Tp())});return(0,It.of)(f).pipe(w0())}));return(0,It.of)(a).pipe(w0())}(n,i.path,t),function DV(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,It.of)(!0);const i=r.map(a=>HO(()=>{const l=Tb(e)??t,f=_0(a,l);return Sp(function gV(n){return n&&Mb(n.canActivate)}(f)?f.canActivate(e,n):l.runInContext(()=>f(e,n))).pipe(Tp())}));return(0,It.of)(i).pipe(w0())}(n,i.route,t))),Tp(i=>!0!==i,!0))}(r,a,n,e):(0,It.of)(f)),(0,xt.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,w=>this.events.next(w)),(0,Ds.b)(w=>{if(l.guardsResult=w.guardsResult,sy(w.guardsResult))throw _P(0,w.guardsResult);const T=new U2(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot,!!w.guardsResult);this.events.next(T)}),ws(w=>!!w.guardsResult||(this.cancelNavigationTransition(w,"",3),!1)),rN(w=>{if(w.guards.canActivateChecks.length)return(0,It.of)(w).pipe((0,Ds.b)(T=>{const M=new B2(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(M)}),(0,cs.w)(T=>{let M=!1;return(0,It.of)(T).pipe(function GV(n,e){return(0,Gs.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return(0,It.of)(t);let a=0;return(0,pn.D)(i).pipe(gb(l=>function qV(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!RP(i)&&(a[mb]=i.title),function WV(n,e,t,r){const i=function KV(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return(0,It.of)({});const a={};return(0,pn.D)(i).pipe((0,Gs.z)(l=>function ZV(n,e,t,r){const i=Tb(e)??r,a=_0(n,i);return Sp(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[l],e,t,r).pipe(Tp(),(0,Ds.b)(f=>{a[l]=f}))),Vx(1),function a2(n){return(0,xt.U)(()=>n)}(a),ry(l=>CP(l)?Dp.E:pb(l)))}(a,n,e,r).pipe((0,xt.U)(l=>(n._resolvedData=l,n.data=gP(n,t).resolve,i&&RP(i)&&(n.data[mb]=i.title),null)))}(l.route,r,n,e)),(0,Ds.b)(()=>a++),Vx(1),(0,Gs.z)(l=>a===i.length?(0,It.of)(t):Dp.E))})}(r.paramsInheritanceStrategy,this.environmentInjector),(0,Ds.b)({next:()=>M=!0,complete:()=>{M||this.cancelNavigationTransition(T,"",2)}}))}),(0,Ds.b)(T=>{const M=new j2(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(M)}))}),rN(w=>{const T=M=>{const F=[];M.routeConfig?.loadComponent&&!M.routeConfig._loadedComponent&&F.push(this.configLoader.loadComponent(M.routeConfig).pipe((0,Ds.b)(V=>{M.component=V}),(0,xt.U)(()=>{})));for(const V of M.children)F.push(...T(V));return F};return kx(T(w.targetSnapshot.root)).pipe(pS(),f0(1))}),rN(()=>this.afterPreactivation()),(0,xt.U)(w=>{const T=function J2(n,e,t){const r=Db(n,e._root,t?t._root:void 0);return new fP(r,e)}(r.routeReuseStrategy,w.targetSnapshot,w.currentRouterState);return this.currentTransition=l={...w,targetRouterState:T},l}),(0,Ds.b)(()=>{this.events.next(new Gx)}),((n,e,t,r)=>(0,xt.U)(i=>(new uV(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,r.routeReuseStrategy,w=>this.events.next(w),this.inputBindingEnabled),f0(1),(0,Ds.b)({next:w=>{f=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ap(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects))),r.titleStrategy?.updateTitle(w.targetRouterState.snapshot),w.resolve(!0)},complete:()=>{f=!0}}),function l2(n){return(0,rs.e)((e,t)=>{(0,oo.Xf)(n).subscribe((0,Rr.x)(t,()=>t.complete(),u2.Z)),!t.closed&&e.subscribe(t)})}(this.transitionAbortSubject.pipe((0,Ds.b)(w=>{throw w}))),Ux(()=>{f||y||this.cancelNavigationTransition(l,"",1),this.currentNavigation?.id===l.id&&(this.currentNavigation=null)}),ry(w=>{if(y=!0,EP(w))this.events.next(new bb(l.id,this.urlSerializer.serialize(l.extractedUrl),w.message,w.cancellationCode)),function tV(n){return EP(n)&&sy(n.url)}(w)?this.events.next(new qx(w.url)):l.resolve(!1);else{this.events.next(new NS(l.id,this.urlSerializer.serialize(l.extractedUrl),w,l.targetSnapshot??void 0));try{l.resolve(r.errorHandler(w))}catch(T){l.reject(T)}}return Dp.E}))}))}cancelNavigationTransition(r,i,a){const l=new bb(r.id,this.urlSerializer.serialize(r.extractedUrl),i,a);this.events.next(l),r.resolve(!1)}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();function PP(n){return n!==Ib}let kP=(()=>{var n;class e{buildTitle(r){let i,a=r.root;for(;void 0!==a;)i=this.getResolvedTitleForRoute(a)??i,a=a.children.find(l=>l.outlet===Zt);return i}getResolvedTitleForRoute(r){return r.data[mb]}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(QV)},providedIn:"root"}),e})(),QV=(()=>{var n;class e extends kP{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(n=e).\u0275fac=function(r){return new(r||n)(h.LFG(Fa))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})(),JV=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(eU)},providedIn:"root"}),e})();class XV{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let eU=(()=>{var n;class e extends XV{}return(n=e).\u0275fac=function(){let t;return function(i){return(t||(t=h.n5z(n)))(i||n)}}(),n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();const US=new h.OlP("",{providedIn:"root",factory:()=>({})});let tU=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(nU)},providedIn:"root"}),e})(),nU=(()=>{var n;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();var xb=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(xb||{});function FP(n,e){n.events.pipe(ws(t=>t instanceof Ap||t instanceof bb||t instanceof NS||t instanceof y0),(0,xt.U)(t=>t instanceof Ap||t instanceof y0?xb.COMPLETE:t instanceof bb&&(0===t.code||1===t.code)?xb.REDIRECTING:xb.FAILED),ws(t=>t!==xb.REDIRECTING),f0(1)).subscribe(()=>{e()})}function rU(n){throw n}function iU(n,e,t){return e.parse("/")}const sU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},oU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let su=(()=>{var n;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,h.f3M)(h.c2e),this.isNgZoneEnabled=!1,this._events=new Cs.x,this.options=(0,h.f3M)(US,{optional:!0})||{},this.pendingTasks=(0,h.f3M)(h.HDt),this.errorHandler=this.options.errorHandler||rU,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||iU,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,h.f3M)(tU),this.routeReuseStrategy=(0,h.f3M)(JV),this.titleStrategy=(0,h.f3M)(kP),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,h.f3M)(I0,{optional:!0})?.flat()??[],this.navigationTransitions=(0,h.f3M)(VS),this.urlSerializer=(0,h.f3M)(vb),this.location=(0,h.f3M)($e),this.componentInputBindingEnabled=!!(0,h.f3M)(OS,{optional:!0}),this.eventsSubscription=new Fx.w0,this.isNgZoneEnabled=(0,h.f3M)(h.R0b)instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new m0,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=pP(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:a}=this.navigationTransitions;if(null===a)return void(LP(i)&&this._events.next(i));if(i instanceof xS)PP(a.source)&&(this.browserUrlTree=a.extractedUrl);else if(i instanceof y0)this.rawUrlTree=a.rawUrl;else if(i instanceof cP){if("eager"===this.urlUpdateStrategy){if(!a.extras.skipLocationChange){const l=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl);this.setBrowserUrl(l,a)}this.browserUrlTree=a.urlAfterRedirects}}else if(i instanceof Gx)this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects);else if(i instanceof bb)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(a);else if(i instanceof qx){const l=this.urlHandlingStrategy.merge(i.url,a.currentRawUrl),f={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||PP(a.source)};this.scheduleNavigation(l,Ib,null,f,{resolve:a.resolve,reject:a.reject,promise:a.promise})}i instanceof NS&&this.restoreHistory(a,!0),i instanceof Ap&&(this.navigated=!0),LP(i)&&this._events.next(i)}catch(a){this.navigationTransitions.transitionAbortSubject.next(a)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ib,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const i="popstate"===r.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,i,r.state)},0)}))}navigateToSyncWithBrowser(r,i,a){const l={replaceUrl:!0},f=a?.navigationId?a:null;if(a){const w={...a};delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(l.state=w)}const y=this.parseUrl(r);this.scheduleNavigation(y,i,f,l)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(eN),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:a,queryParams:l,fragment:f,queryParamsHandling:y,preserveFragment:w}=i,T=w?this.currentUrlTree.fragment:f;let F,M=null;switch(y){case"merge":M={...this.currentUrlTree.queryParams,...l};break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=l||null}null!==M&&(M=this.removeEmptyProps(M));try{F=rP(a?a.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),F=this.currentUrlTree.root}return iP(F,r,M,T??null)}navigateByUrl(r,i={skipLocationChange:!1}){const a=sy(r)?r:this.parseUrl(r),l=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(l,Ib,null,i)}navigate(r,i={skipLocationChange:!1}){return function aU(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new h.vHH(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let i;try{i=this.urlSerializer.parse(r)}catch(a){i=this.malformedUriErrorHandler(a,this.urlSerializer,r)}return i}isActive(r,i){let a;if(a=!0===i?{...sU}:!1===i?{...oU}:i,sy(r))return KO(this.currentUrlTree,r,a);const l=this.parseUrl(r);return KO(this.currentUrlTree,l,a)}removeEmptyProps(r){return Object.keys(r).reduce((i,a)=>{const l=r[a];return null!=l&&(i[a]=l),i},{})}scheduleNavigation(r,i,a,l,f){if(this.disposed)return Promise.resolve(!1);let y,w,T;f?(y=f.resolve,w=f.reject,T=f.promise):T=new Promise((F,V)=>{y=F,w=V});const M=this.pendingTasks.add();return FP(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(M))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:r,extras:l,resolve:y,reject:w,promise:T,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),T.catch(F=>Promise.reject(F))}setBrowserUrl(r,i){const a=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(a)||i.extras.replaceUrl){const f={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(a,"",f)}else{const l={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(a,"",l)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-this.browserPageId;0!==l?this.location.historyGo(l):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===l&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();function LP(n){return!(n instanceof Gx||n instanceof qx)}let BS=(()=>{var n;class e{constructor(r,i,a,l,f,y){this.router=r,this.route=i,this.tabIndexAttribute=a,this.renderer=l,this.el=f,this.locationStrategy=y,this.href=null,this.commands=null,this.onChanges=new Cs.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const w=f.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===w||"area"===w,this.isAnchorElement?this.subscription=r.events.subscribe(T=>{T instanceof Ap&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){null!=r?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,a,l,f){return!!(null===this.urlTree||this.isAnchorElement&&(0!==r||i||a||l||f||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const r=null===this.href?null:(0,h.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,i){const a=this.renderer,l=this.el.nativeElement;null!==i?a.setAttribute(l,r,i):a.removeAttribute(l,r)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(n=e).\u0275fac=function(r){return new(r||n)(h.Y36(su),h.Y36(oy),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(ke))},n.\u0275dir=h.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&h.NdJ("click",function(l){return i.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&r&&h.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",h.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",h.VuI],replaceUrl:["replaceUrl","replaceUrl",h.VuI],routerLink:"routerLink"},standalone:!0,features:[h.Xq5,h.TTD]}),e})();class VP{}let cU=(()=>{var n;class e{constructor(r,i,a,l,f){this.router=r,this.injector=a,this.preloadingStrategy=l,this.loader=f}setUpPreloading(){this.subscription=this.router.events.pipe(ws(r=>r instanceof Ap),gb(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){const a=[];for(const l of i){l.providers&&!l._injector&&(l._injector=(0,h.MMx)(l.providers,r,`Route: ${l.path}`));const f=l._injector??r,y=l._loadedInjector??f;(l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent)&&a.push(this.preloadConfig(f,l)),(l.children||l._loadedRoutes)&&a.push(this.processRoutes(y,l.children??l._loadedRoutes))}return(0,pn.D)(a).pipe((0,Gl.J)())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let a;a=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(r,i):(0,It.of)(null);const l=a.pipe((0,Gs.z)(f=>null===f?(0,It.of)(void 0):(i._loadedRoutes=f.routes,i._loadedInjector=f.injector,this.processRoutes(f.injector??r,f.routes))));if(i.loadComponent&&!i._loadedComponent){const f=this.loader.loadComponent(i);return(0,pn.D)([l,f]).pipe((0,Gl.J)())}return l})}}return(n=e).\u0275fac=function(r){return new(r||n)(h.LFG(su),h.LFG(h.Sil),h.LFG(h.lqb),h.LFG(VP),h.LFG(iN))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();const sN=new h.OlP("");let UP=(()=>{var n;class e{constructor(r,i,a,l,f={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=a,this.zone=l,this.options=f,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},f.scrollPositionRestoration=f.scrollPositionRestoration||"disabled",f.anchorScrolling=f.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof xS?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Ap?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof y0&&0===r.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof dP&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new dP(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(n=e).\u0275fac=function(r){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),e})();function Th(n,e){return{\u0275kind:n,\u0275providers:e}}function jP(){const n=(0,h.f3M)(h.zs3);return e=>{const t=n.get(h.z2F);if(e!==t.components[0])return;const r=n.get(su),i=n.get($P);1===n.get(oN)&&r.initialNavigation(),n.get(HP,null,h.XFs.Optional)?.setUpPreloading(),n.get(sN,null,h.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const $P=new h.OlP("",{factory:()=>new Cs.x}),oN=new h.OlP("",{providedIn:"root",factory:()=>1}),HP=new h.OlP("");function pU(n){return Th(0,[{provide:HP,useExisting:cU},{provide:VP,useExisting:n}])}const zP=new h.OlP("ROUTER_FORROOT_GUARD"),mU=[$e,{provide:vb,useClass:Bx},su,Cb,{provide:oy,useFactory:function BP(n){return n.routerState.root},deps:[su]},iN,[]];function yU(){return new h.PXZ("Router",su)}let GP=(()=>{var n;class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[mU,[],{provide:I0,multi:!0,useValue:r},{provide:zP,useFactory:EU,deps:[[su,new h.FiY,new h.tp0]]},{provide:US,useValue:i||{}},i?.useHash?{provide:ke,useClass:xe}:{provide:ke,useClass:Ke},{provide:sN,useFactory:()=>{const n=(0,h.f3M)(cr),e=(0,h.f3M)(h.R0b),t=(0,h.f3M)(US),r=(0,h.f3M)(VS),i=(0,h.f3M)(vb);return t.scrollOffset&&n.setOffset(t.scrollOffset),new UP(i,r,n,e,t)}},i?.preloadingStrategy?pU(i.preloadingStrategy).\u0275providers:[],{provide:h.PXZ,multi:!0,useFactory:yU},i?.initialNavigation?IU(i):[],i?.bindToComponentInputs?Th(8,[vP,{provide:OS,useExisting:vP}]).\u0275providers:[],[{provide:qP,useFactory:jP},{provide:h.tb,multi:!0,useExisting:qP}]]}}static forChild(r){return{ngModule:e,providers:[{provide:I0,multi:!0,useValue:r}]}}}return(n=e).\u0275fac=function(r){return new(r||n)(h.LFG(zP,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),e})();function EU(n){return"guarded"}function IU(n){return["disabled"===n.initialNavigation?Th(3,[{provide:h.ip1,multi:!0,useFactory:()=>{const e=(0,h.f3M)(su);return()=>{e.setUpLocationChangeListener()}}},{provide:oN,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Th(2,[{provide:oN,useValue:0},{provide:h.ip1,multi:!0,deps:[h.zs3],useFactory:e=>{const t=e.get(Me,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(su),a=e.get($P);FP(i,()=>{r(!0)}),e.get(VS).afterPreactivation=()=>(r(!0),a.closed?(0,It.of)(void 0):a),i.initialNavigation()}))}}]).\u0275providers:[]]}const qP=new h.OlP("");function Nb(n){return(Nb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Ve(n,e,t){return(e=function DU(n){var e=function CU(n,e){if("object"!==Nb(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!==Nb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===Nb(e)?e:String(e)}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}class WP{}class TU{}const Sh="*";function SU(n,e){return{type:7,name:n,definitions:e,options:{}}}function KP(n,e=null){return{type:4,styles:e,timings:n}}function ZP(n,e=null){return{type:2,steps:n,options:e}}function Rb(n){return{type:6,styles:n,offset:null}}function aN(n,e,t){return{type:0,name:n,styles:e,options:t}}function YP(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}class Ob{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class QP{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?queueMicrotask(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==a&&this._onFinish()}),l.onDestroy(()=>{++r==a&&this._onDestroy()}),l.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((l,f)=>Math.max(l,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const JP=["toast-component",""];function AU(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",5),h.NdJ("click",function(){h.CHM(t);const i=h.oxw();return h.KtG(i.remove())}),h.TgZ(1,"span",6),h._uU(2,"\xd7"),h.qZA()()}}function MU(n,e){if(1&n&&(h.ynx(0),h._uU(1),h.BQk()),2&n){const t=h.oxw(2);h.xp6(1),h.hij("[",t.duplicatesCount+1,"]")}}function xU(n,e){if(1&n&&(h.TgZ(0,"div"),h._uU(1),h.YNc(2,MU,2,1,"ng-container",4),h.qZA()),2&n){const t=h.oxw();h.Tol(t.options.titleClass),h.uIk("aria-label",t.title),h.xp6(1),h.hij(" ",t.title," "),h.xp6(1),h.Q6J("ngIf",t.duplicatesCount)}}function NU(n,e){if(1&n&&h._UZ(0,"div",7),2&n){const t=h.oxw();h.Tol(t.options.messageClass),h.Q6J("innerHTML",t.message,h.oJD)}}function RU(n,e){if(1&n&&(h.TgZ(0,"div",8),h._uU(1),h.qZA()),2&n){const t=h.oxw();h.Tol(t.options.messageClass),h.uIk("aria-label",t.message),h.xp6(1),h.hij(" ",t.message," ")}}function OU(n,e){if(1&n&&(h.TgZ(0,"div"),h._UZ(1,"div",9),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.Udp("width",t.width+"%")}}class BU{constructor(e,t){Ve(this,"_attachedHost",void 0),Ve(this,"component",void 0),Ve(this,"viewContainerRef",void 0),Ve(this,"injector",void 0),this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class jU{constructor(){Ve(this,"_attachedPortal",void 0),Ve(this,"_disposeFn",void 0)}attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}class $U{constructor(e){Ve(this,"_overlayRef",void 0),Ve(this,"componentInstance",void 0),Ve(this,"duplicatesCount",0),Ve(this,"_afterClosed",new Cs.x),Ve(this,"_activate",new Cs.x),Ve(this,"_manualClose",new Cs.x),Ve(this,"_resetTimeout",new Cs.x),Ve(this,"_countDuplicate",new Cs.x),this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class jS{constructor(e,t,r,i,a,l){Ve(this,"toastId",void 0),Ve(this,"config",void 0),Ve(this,"message",void 0),Ve(this,"title",void 0),Ve(this,"toastType",void 0),Ve(this,"toastRef",void 0),Ve(this,"_onTap",new Cs.x),Ve(this,"_onAction",new Cs.x),this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=a,this.toastRef=l,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const ek=new h.OlP("ToastConfig");class HU extends jU{constructor(e,t,r){super(),Ve(this,"_hostDomElement",void 0),Ve(this,"_componentFactoryResolver",void 0),Ve(this,"_appRef",void 0),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let zU=(()=>{var n;class e{constructor(){Ve(this,"_document",(0,h.f3M)(de)),Ve(this,"_containerElement",void 0)}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const r=this._document.createElement("div");r.classList.add("overlay-container"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),this._containerElement=r}}return n=e,Ve(e,"\u0275fac",function(r){return new(r||n)}),Ve(e,"\u0275prov",h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})),e})();class GU{constructor(e){Ve(this,"_portalHost",void 0),this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let qU=(()=>{var n;class e{constructor(){Ve(this,"_overlayContainer",(0,h.f3M)(zU)),Ve(this,"_componentFactoryResolver",(0,h.f3M)(h._Vd)),Ve(this,"_appRef",(0,h.f3M)(h.z2F)),Ve(this,"_document",(0,h.f3M)(de)),Ve(this,"_paneElements",new Map)}create(r,i){return this._createOverlayRef(this.getPaneElement(r,i))}getPaneElement(r="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[r]||(this._paneElements.get(i)[r]=this._createPaneElement(r,i)),this._paneElements.get(i)[r]}_createPaneElement(r,i){const a=this._document.createElement("div");return a.id="toast-container",a.classList.add(r),a.classList.add("toast-container"),i?i.getContainerElement().appendChild(a):this._overlayContainer.getContainerElement().appendChild(a),a}_createPortalHost(r){return new HU(r,this._componentFactoryResolver,this._appRef)}_createOverlayRef(r){return new GU(this._createPortalHost(r))}}return n=e,Ve(e,"\u0275fac",function(r){return new(r||n)}),Ve(e,"\u0275prov",h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})),e})(),$S=(()=>{var n;class e{constructor(r,i,a,l,f){Ve(this,"overlay",void 0),Ve(this,"_injector",void 0),Ve(this,"sanitizer",void 0),Ve(this,"ngZone",void 0),Ve(this,"toastrConfig",void 0),Ve(this,"currentlyActive",0),Ve(this,"toasts",[]),Ve(this,"overlayContainer",void 0),Ve(this,"previousToastMessage",void 0),Ve(this,"index",0),this.overlay=i,this._injector=a,this.sanitizer=l,this.ngZone=f,this.toastrConfig={...r.default,...r.config},r.config.iconClasses&&(this.toastrConfig.iconClasses={...r.default.iconClasses,...r.config.iconClasses})}show(r,i,a={},l=""){return this._preBuildNotification(l,r,i,this.applyConfig(a))}success(r,i,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",r,i,this.applyConfig(a))}error(r,i,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",r,i,this.applyConfig(a))}info(r,i,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",r,i,this.applyConfig(a))}warning(r,i,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",r,i,this.applyConfig(a))}clear(r){for(const i of this.toasts)if(void 0!==r){if(i.toastId===r)return void i.toastRef.manualClose()}else i.toastRef.manualClose()}remove(r){const i=this._findToast(r);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const a=this.toasts[this.currentlyActive].toastRef;a.isInactive()||(this.currentlyActive=this.currentlyActive+1,a.activate())}return!0}findDuplicate(r="",i="",a,l){const{includeTitleDuplicates:f}=this.toastrConfig;for(const y of this.toasts)if((!f||f&&y.title===r)&&y.message===i)return y.toastRef.onDuplicate(a,l),y;return null}applyConfig(r={}){return{...this.toastrConfig,...r}}_findToast(r){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===r)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(r,i,a,l){return l.onActivateTick?this.ngZone.run(()=>this._buildNotification(r,i,a,l)):this._buildNotification(r,i,a,l)}_buildNotification(r,i,a,l){if(!l.toastComponent)throw new Error("toastComponent required");const f=this.findDuplicate(a,i,this.toastrConfig.resetTimeoutOnDuplicate&&l.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&a||i)&&this.toastrConfig.preventDuplicates&&null!==f)return f;this.previousToastMessage=i;let y=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(y=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const w=this.overlay.create(l.positionClass,this.overlayContainer);this.index=this.index+1;let T=i;i&&l.enableHtml&&(T=this.sanitizer.sanitize(h.q3G.HTML,i));const M=new $U(w),F=new jS(this.index,l,T,a,r,M),W=h.zs3.create({providers:[{provide:jS,useValue:F}],parent:this._injector}),ae=new BU(l.toastComponent,W),me=w.attach(ae,l.newestOnTop);M.componentInstance=me.instance;const Fe={toastId:this.index,title:a||"",message:i||"",toastRef:M,onShown:M.afterActivate(),onHidden:M.afterClosed(),onTap:F.onTap(),onAction:F.onAction(),portal:me};return y||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Fe.toastRef.activate()})),this.toasts.push(Fe),Fe}}return n=e,Ve(e,"\u0275fac",function(r){return new(r||n)(h.LFG(ek),h.LFG(qU),h.LFG(h.zs3),h.LFG(sd),h.LFG(h.R0b))}),Ve(e,"\u0275prov",h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})),e})();const WU={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{var n;class e{get displayStyle(){if("inactive"===this.state.value)return"none"}constructor(r,i,a){Ve(this,"toastrService",void 0),Ve(this,"toastPackage",void 0),Ve(this,"ngZone",void 0),Ve(this,"message",void 0),Ve(this,"title",void 0),Ve(this,"options",void 0),Ve(this,"duplicatesCount",void 0),Ve(this,"originalTimeout",void 0),Ve(this,"width",-1),Ve(this,"toastClasses",""),Ve(this,"state",void 0),Ve(this,"timeout",void 0),Ve(this,"intervalId",void 0),Ve(this,"hideTime",void 0),Ve(this,"sub",void 0),Ve(this,"sub1",void 0),Ve(this,"sub2",void 0),Ve(this,"sub3",void 0),this.toastrService=r,this.toastPackage=i,this.ngZone=a,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(l=>{this.duplicatesCount=l}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const r=(new Date).getTime();this.width=(this.hideTime-r)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(r,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(r),i)):this.timeout=setTimeout(()=>r(),i)}outsideInterval(r,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(r),i)):this.intervalId=setInterval(()=>r(),i)}runInsideAngular(r){this.ngZone?this.ngZone.run(()=>r()):r()}}return n=e,Ve(e,"\u0275fac",function(r){return new(r||n)(h.Y36($S),h.Y36(jS),h.Y36(h.R0b))}),Ve(e,"\u0275cmp",h.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(r,i){1&r&&h.NdJ("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&r&&(h.d8E("@flyInOut",i.state),h.Tol(i.toastClasses),h.Udp("display",i.displayStyle))},standalone:!0,features:[h.jDz],attrs:JP,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){1&r&&(h.YNc(0,AU,3,0,"button",0),h.YNc(1,xU,3,5,"div",1),h.YNc(2,NU,1,3,"div",2),h.YNc(3,RU,2,4,"div",3),h.YNc(4,OU,2,2,"div",4)),2&r&&(h.Q6J("ngIf",i.options.closeButton),h.xp6(1),h.Q6J("ngIf",i.title),h.xp6(1),h.Q6J("ngIf",i.message&&i.options.enableHtml),h.xp6(1),h.Q6J("ngIf",i.message&&!i.options.enableHtml),h.xp6(1),h.Q6J("ngIf",i.options.progressBar))},dependencies:[Ms],encapsulation:2,data:{animation:[SU("flyInOut",[aN("inactive",Rb({opacity:0})),aN("active",Rb({opacity:1})),aN("removed",Rb({opacity:0})),YP("inactive => active",KP("{{ easeTime }}ms {{ easing }}")),YP("active => removed",KP("{{ easeTime }}ms {{ easing }}"))])]}})),e})()},KU=(n={})=>(0,h.MR2)([{provide:ek,useValue:{default:WU,config:n}}]);let ZU=(()=>{var n;class e{static forRoot(r={}){return{ngModule:e,providers:[KU(r)]}}}return n=e,Ve(e,"\u0275fac",function(r){return new(r||n)}),Ve(e,"\u0275mod",h.oAB({type:n})),Ve(e,"\u0275inj",h.cJS({})),e})(),YU=(()=>{var n;class e{constructor(r,i){this.afs=r,this.toastrService=i}saveCategory(r){this.afs.collection("categories").add(r).then(i=>{this.toastrService.success("New Category Added Successfully")})}loadCategories(){return this.afs.collection("categories").snapshotChanges().pipe((0,xt.U)(r=>r.map(i=>{const a=i.payload.doc.data();return{id:i.payload.doc.id,data:a}})))}updateCategory(r,i){this.afs.doc("categories/"+r).update({category:i}).then(()=>{this.toastrService.success("Category Updated Successfully")})}deleteCategory(r){this.afs.doc("categories/"+r).delete().then(()=>{this.toastrService.error("Category Deleted Successfully")})}}return(n=e).\u0275fac=function(r){return new(r||n)(h.LFG(Px),h.LFG($S))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();function QU(n,e){1&n&&(h.TgZ(0,"div",14),h._uU(1," Category is Required.. "),h.qZA())}const JU=function(n){return["/todo",n]};function XU(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div",15)(1,"div",16)(2,"div",17)(3,"div",18)(4,"div",19)(5,"div",20),h._uU(6," CATEGORY "),h.qZA()(),h.TgZ(7,"div",21)(8,"small")(9,"i",22),h.NdJ("click",function(){const a=h.CHM(t).$implicit,l=h.oxw();return h.KtG(l.onEdit(a.data.category,a.id))}),h.qZA()(),h.TgZ(10,"small")(11,"i",23),h.NdJ("click",function(){const a=h.CHM(t).$implicit,l=h.oxw();return h.KtG(l.onDelete(a.id))}),h.qZA()()()(),h.TgZ(12,"div",24)(13,"h3"),h._uU(14),h.qZA(),h.TgZ(15,"small",25),h._uU(16,"Todo Category"),h.qZA()(),h.TgZ(17,"span",26),h._uU(18),h.qZA()()()()}if(2&n){const t=e.$implicit;h.xp6(1),h.Udp("border-left-color",t.data.colorCode),h.xp6(11),h.Q6J("routerLink",h.VKq(7,JU,t.id)),h.xp6(1),h.Udp("color",t.data.colorCode),h.xp6(1),h.Oqu(t.data.category),h.xp6(4),h.hij("",t.data.todoCount," - Todos")}}const eB=function(n){return{"border-danger":n}};let tB=(()=>{var n;class e{constructor(r){this.categoryService=r,this.dataStatus="Add",this.color=["#e7845e","#fc0184","#f6b93f","#9224a7","#20c898","#f03734","#aad450","#026467","#fefefe","#928779","#D4D2A5","#FCDEBE","#90A583","#B26E63","#C6CAED"],this.categories=[],this.categoryName="",this.catId=""}ngOnInit(){this.categoryService.loadCategories().subscribe(r=>{this.categories=r,console.log(r)})}onSubmit(r){if("Add"==this.dataStatus){let i=Math.floor(Math.random()*this.color.length);this.categoryService.saveCategory({category:r.value.categoryName,colorCode:this.color[i],todoCount:0}),r.resetForm()}else"Edit"==this.dataStatus&&(this.categoryService.updateCategory(this.catId,r.value.categoryName),r.resetForm(),this.dataStatus="Add")}onEdit(r,i){this.categoryName=r,this.catId=i,this.dataStatus="Edit"}onDelete(r){this.categoryService.deleteCategory(r)}}return(n=e).\u0275fac=function(r){return new(r||n)(h.Y36(YU))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-category"]],decls:18,vars:7,consts:[[1,"row","justify-content-center","md-3"],[1,"col-md-4","text-center"],[1,"text-info"],[1,"row"],[1,"col-md-12"],["action","",1,"form-inline",3,"ngSubmit"],["f","ngForm"],[1,"col-md-10","mb-3","form-group"],["type","text","placeholder","Add New Categories here","name","categoryName","required","",1,"form-control-plaintext","drop-shadow",3,"ngModel","ngClass","ngModelChange"],["category","ngModel"],["type","submit",1,"btn","btn-primary","col-md-2","btn-todo","btn-block","drop-shadow"],["class","text-danger ml-3",4,"ngIf"],[1,"row","categories-list"],["class","col-md-3",4,"ngFor","ngForOf"],[1,"text-danger","ml-3"],[1,"col-md-3"],[1,"card","drop-shadow"],[1,"card-body"],[1,"clearfix"],[1,"float-left"],[1,"badge","badge-primary"],[1,"float-right","cat-tools"],[1,"fa","fa-pencil-alt","text-success",3,"click"],[1,"fas","fa-trash","text-danger",3,"click"],[1,"todo-content",3,"routerLink"],[1,"text-secondary"],[1,"badge","badge-danger"]],template:function(r,i){if(1&r){const a=h.EpF();h.TgZ(0,"div",0)(1,"div",1)(2,"h1"),h._uU(3,"TODO CATEGORIES"),h.qZA(),h.TgZ(4,"p",2),h._uU(5," Make your todo categories. "),h.qZA()()(),h.TgZ(6,"div",3)(7,"div",4)(8,"form",5,6),h.NdJ("ngSubmit",function(){h.CHM(a);const f=h.MAs(9);return h.KtG(f.form.valid&&i.onSubmit(f))}),h.TgZ(10,"div",7)(11,"input",8,9),h.NdJ("ngModelChange",function(f){return i.categoryName=f}),h.qZA()(),h.TgZ(13,"button",10),h._uU(14),h.qZA(),h.YNc(15,QU,2,0,"div",11),h.qZA()()(),h.TgZ(16,"div",12),h.YNc(17,XU,19,9,"div",13),h.qZA()}if(2&r){const a=h.MAs(9),l=h.MAs(12);h.xp6(11),h.Q6J("ngModel",i.categoryName)("ngClass",h.VKq(5,eB,a.submitted&&l.invalid)),h.xp6(3),h.Oqu(i.dataStatus),h.xp6(1),h.Q6J("ngIf",a.submitted&&(null==l?null:l.invalid)&&(null==l||null==l.errors?null:l.errors.required)),h.xp6(2),h.Q6J("ngForOf",i.categories)}},dependencies:[Mo,ba,Ms,BS,yf,ts,yi,md,zl,Ru,Ul],styles:[".card[_ngcontent-%COMP%]{border:none;border-left:5px solid #0000;margin-top:50px;border-top-left-radius:30px}.badge-primary[_ngcontent-%COMP%]{background-color:#e9eeff;color:#4772fe}.badge-danger[_ngcontent-%COMP%]{background-color:#fef0f0;color:#f04104;margin-top:50px}.cat-tools[_ngcontent-%COMP%]{display:none}.cat-tools[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0 5px;cursor:pointer}.categories-list[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f8f8f8}.categories-list[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover   .cat-tools[_ngcontent-%COMP%]{display:inline}.float-right[_ngcontent-%COMP%]{float:right}.float-left[_ngcontent-%COMP%]{float:left}"]}),e})();const nk=(0,Qn.u3)(C,!0);let oB=(()=>{var n;class e{constructor(r,i){this.afs=r,this.toastrService=i}saveTodo(r,i){this.afs.collection("categories").doc(r).collection("todos").add(i).then(a=>{this.afs.doc("categories/"+r).update({todoCount:nk(1)}),this.toastrService.success("New Todo Added Successfully")})}loadTodo(r){return this.afs.collection("categories").doc(r).collection("todos").snapshotChanges().pipe((0,xt.U)(i=>i.map(a=>{const l=a.payload.doc.data();return{id:a.payload.doc.id,data:l}})))}updateTodo(r,i,a){this.afs.collection("categories").doc(r).collection("todos").doc(i).update({todo:a}).then(()=>{this.toastrService.success("Todo Updated Successfully")})}deleteTodo(r,i){this.afs.collection("categories").doc(r).collection("todos").doc(i).delete().then(()=>{this.afs.doc("categories/"+r).update({todoCount:nk(-1)}),this.toastrService.error("Todo Deleted Successfully")})}markComplete(r,i){this.afs.collection("categories").doc(r).collection("todos").doc(i).update({isCompleted:!0}).then(()=>{this.toastrService.info("Todo Marked Completed")})}markUnComplete(r,i){this.afs.collection("categories").doc(r).collection("todos").doc(i).update({isCompleted:!1}).then(()=>{this.toastrService.warning("Todo Marked Uncompleted")})}}return(n=e).\u0275fac=function(r){return new(r||n)(h.LFG(Px),h.LFG($S))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();function aB(n,e){1&n&&(h.TgZ(0,"div",15),h._uU(1," Category is Required.. "),h.qZA())}function uB(n,e){1&n&&h._UZ(0,"i",29)}function lB(n,e){1&n&&h._UZ(0,"i",30)}function cB(n,e){1&n&&h._UZ(0,"hr")}function dB(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"i",31),h.NdJ("click",function(){h.CHM(t);const i=h.oxw().$implicit,a=h.oxw();return h.KtG(a.completeTodo(i.id))}),h.qZA()}}function hB(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"i",32),h.NdJ("click",function(){h.CHM(t);const i=h.oxw().$implicit,a=h.oxw();return h.KtG(a.IncompleteTodo(i.id))}),h.qZA()}}function fB(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div",16)(1,"div",17)(2,"div",18)(3,"div",19),h.YNc(4,uB,1,0,"i",20),h.YNc(5,lB,1,0,"i",21),h._uU(6),h.YNc(7,cB,1,0,"hr",22),h.qZA(),h.TgZ(8,"div",23),h.YNc(9,dB,1,0,"i",24),h.YNc(10,hB,1,0,"i",25),h.TgZ(11,"div",26)(12,"small")(13,"i",27),h.NdJ("click",function(){const a=h.CHM(t).$implicit,l=h.oxw();return h.KtG(l.onEdit(a.data.todo,a.id))}),h.qZA(),h.TgZ(14,"i",28),h.NdJ("click",function(){const a=h.CHM(t).$implicit,l=h.oxw();return h.KtG(l.deleteTodo(a.id))}),h.qZA()()()()()()()}if(2&n){const t=e.$implicit;h.xp6(4),h.Q6J("ngIf",!t.data.isCompleted),h.xp6(1),h.Q6J("ngIf",t.data.isCompleted),h.xp6(1),h.hij(" ",t.data.todo," "),h.xp6(1),h.Q6J("ngIf",t.data.isCompleted),h.xp6(2),h.Q6J("ngIf",!t.data.isCompleted),h.xp6(1),h.Q6J("ngIf",t.data.isCompleted)}}const pB=function(n){return{"border-danger":n}},gB=[{path:"",component:tB},{path:"todo/:id",component:(()=>{var n;class e{constructor(r,i){this.todoService=r,this.activatedRoute=i,this.dataStatus="Add",this.todoId="",this.catId="",this.todos=[],this.todoValue=""}ngOnInit(){this.catId=this.activatedRoute.snapshot.paramMap.get("id")??"",this.todoService.loadTodo(this.catId).subscribe(r=>{this.todos=r,console.log(this.todos)})}onSubmit(r){"Add"==this.dataStatus?(this.todoService.saveTodo(this.catId,{todo:r.value.todoText,isCompleted:!1}),r.resetForm()):"Edit"==this.dataStatus&&(this.todoService.updateTodo(this.catId,this.todoId,r.value.todoText),r.resetForm(),this.dataStatus="Add")}onEdit(r,i){this.todoValue=r,this.todoId=i,this.dataStatus="Edit"}deleteTodo(r){this.todoService.deleteTodo(this.catId,r)}completeTodo(r){this.todoService.markComplete(this.catId,r)}IncompleteTodo(r){this.todoService.markUnComplete(this.catId,r)}}return(n=e).\u0275fac=function(r){return new(r||n)(h.Y36(oB),h.Y36(oy))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-todo"]],decls:19,vars:7,consts:[[1,"row","justify-content-center","md-3"],[1,"col-md-4","text-center"],[1,"text-info"],[1,"row"],[1,"col-md-12"],[1,"form-inline",3,"ngSubmit"],["f","ngForm"],[1,"col-md-10","mb-3","form-group"],["type","text","placeholder","Add New Todos here","name","todoText","required","",1,"form-control-plaintext","drop-shadow",3,"ngModel","ngClass","ngModelChange"],["todo","ngModel"],["type","submit",1,"btn","btn-primary","col-md-2","btn-todo","btn-block","drop-shadow"],["class","text-danger ml-3",4,"ngIf"],[1,"row","justify-content-center","todo-list"],[1,"col-md-6"],["class","card",4,"ngFor","ngForOf"],[1,"text-danger","ml-3"],[1,"card"],[1,"card-body"],[1,"clearfix"],[1,"float-left","text-secondary"],["class","fa-regular fa-circle text-danger",4,"ngIf"],["class","fa-solid fa-check text-success",4,"ngIf"],[4,"ngIf"],[1,"float-right","todo-actions"],["class","fa-regular fa-circle-check text-success",3,"click",4,"ngIf"],["class","fa-regular fa-circle-xmark text-danger",3,"click",4,"ngIf"],[1,"todo-tools"],[1,"fa-solid","fa-pencil","text-warning",3,"click"],[1,"fa-solid","fa-trash","text-danger",3,"click"],[1,"fa-regular","fa-circle","text-danger"],[1,"fa-solid","fa-check","text-success"],[1,"fa-regular","fa-circle-check","text-success",3,"click"],[1,"fa-regular","fa-circle-xmark","text-danger",3,"click"]],template:function(r,i){if(1&r){const a=h.EpF();h.TgZ(0,"div",0)(1,"div",1)(2,"h1"),h._uU(3,"TODOS"),h.qZA(),h.TgZ(4,"p",2),h._uU(5," Add your daily checklist here. "),h.qZA()()(),h.TgZ(6,"div",3)(7,"div",4)(8,"form",5,6),h.NdJ("ngSubmit",function(){h.CHM(a);const f=h.MAs(9);return h.KtG(f.form.valid&&i.onSubmit(f))}),h.TgZ(10,"div",7)(11,"input",8,9),h.NdJ("ngModelChange",function(f){return i.todoValue=f}),h.qZA()(),h.TgZ(13,"button",10),h._uU(14),h.qZA(),h.YNc(15,aB,2,0,"div",11),h.qZA()()(),h.TgZ(16,"div",12)(17,"div",13),h.YNc(18,fB,15,6,"div",14),h.qZA()()}if(2&r){const a=h.MAs(9),l=h.MAs(12);h.xp6(11),h.Q6J("ngModel",i.todoValue)("ngClass",h.VKq(5,pB,a.submitted&&l.invalid)),h.xp6(3),h.Oqu(i.dataStatus),h.xp6(1),h.Q6J("ngIf",a.submitted&&(null==l?null:l.invalid)&&(null==l||null==l.errors?null:l.errors.required)),h.xp6(3),h.Q6J("ngForOf",i.todos)}},dependencies:[Mo,ba,Ms,yf,ts,yi,md,zl,Ru,Ul],styles:[".todo-list[_ngcontent-%COMP%]{margin-top:50px}.todo-list[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:none;margin-top:5px;background-color:#f8f8f8}.todo-tools[_ngcontent-%COMP%]{display:none}.todo-tools[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0 5px;cursor:pointer}.float-right[_ngcontent-%COMP%]{float:right}.float-left[_ngcontent-%COMP%]{float:left}.todo-list[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover{cursor:pointer;width:600px;height:80px;margin-left:-30px;border-top-left-radius:30px;border-bottom-right-radius:30px}.todo-list[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover   .todo-tools[_ngcontent-%COMP%]{display:inline}i[_ngcontent-%COMP%]{margin-right:20px}hr[_ngcontent-%COMP%]{display:block;margin-top:-12px;margin-left:30px;margin-right:auto;border-style:inset;border-width:5px;background-color:#000}"]}),e})()}];let mB=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[GP.forRoot(gB),GP]}),e})(),yB=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-footer"]],decls:8,vars:0,consts:[[1,"drop-shadow"],[1,"container"],[1,"row","justify-content-md-center"],[1,"col-md-auto","text-center"],[1,"text-primary","brand"]],template:function(r,i){1&r&&(h.TgZ(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),h._uU(5,"Todo App"),h.qZA(),h.TgZ(6,"p"),h._uU(7,"Copyright \xa9 Todo App"),h.qZA()()()()())},styles:["footer[_ngcontent-%COMP%]{height:100px;padding-top:30px;padding-bottom:20px}"]}),e})(),vB=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-navbar"]],decls:6,vars:0,consts:[[1,"drop-shadow"],[1,"container"],[1,"row","justify-content-md-center"],[1,"col-md-auto"],[1,"text-primary","brand"]],template:function(r,i){1&r&&(h.TgZ(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),h._uU(5,"Todo App"),h.qZA()()()()())},styles:["header[_ngcontent-%COMP%]{height:100px;padding-top:30px;padding-bottom:20px;margin-bottom:50px;box-shadow:0 0 30px 10px #0000004d}.brand[_ngcontent-%COMP%]{background-color:#f3f6ff;padding:10px 50px;border-radius:50px;cursor:pointer}"]}),e})(),_B=(()=>{var n;class e{constructor(){this.title="todo-list"}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"app"],[1,"container"]],template:function(r,i){1&r&&(h._UZ(0,"app-navbar"),h.TgZ(1,"div",0)(2,"div",1),h._UZ(3,"router-outlet"),h.qZA()(),h._UZ(4,"app-footer"))},dependencies:[Jx,yB,vB],styles:[".app[_ngcontent-%COMP%]{min-height:100vh}"]}),e})();function rk(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ut(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?rk(Object(t),!0).forEach(function(r){Si(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):rk(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function HS(n){return(HS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function ik(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Si(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function dN(n,e){return function CB(n){if(Array.isArray(n))return n}(n)||function TB(n,e){var t=null==n?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var l,f,r=[],i=!0,a=!1;try{for(t=t.call(n);!(i=(l=t.next()).done)&&(r.push(l.value),!e||r.length!==e);i=!0);}catch(y){a=!0,f=y}finally{try{!i&&null!=t.return&&t.return()}finally{if(a)throw f}}return r}}(n,e)||sk(n,e)||function AB(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kb(n){return function bB(n){if(Array.isArray(n))return hN(n)}(n)||function DB(n){if(typeof Symbol<"u"&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||sk(n)||function SB(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sk(n,e){if(n){if("string"==typeof n)return hN(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return hN(n,e)}}function hN(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var ok=function(){},fN={},ak={},uk=null,lk={mark:ok,measure:ok};try{typeof window<"u"&&(fN=window),typeof document<"u"&&(ak=document),typeof MutationObserver<"u"&&(uk=MutationObserver),typeof performance<"u"&&(lk=performance)}catch{}var qS,WS,KS,ZS,YS,ck=(fN.navigator||{}).userAgent,dk=void 0===ck?"":ck,Mp=fN,ir=ak,hk=uk,GS=lk,Ah=!!ir.documentElement&&!!ir.head&&"function"==typeof ir.addEventListener&&"function"==typeof ir.createElement,fk=~dk.indexOf("MSIE")||~dk.indexOf("Trident/"),Mh="___FONT_AWESOME___",pk="fa",gk="svg-inline--fa",ay="data-fa-i2svg",gN="data-fa-pseudo-element",xB="data-fa-pseudo-element-pending",mN="data-prefix",yN="data-icon",mk="fontawesome-i2svg",NB="async",RB=["HTML","HEAD","STYLE","SCRIPT"],yk=function(){try{return!0}catch{return!1}}(),sr="classic",Lr="sharp",vN=[sr,Lr];function Fb(n){return new Proxy(n,{get:function(t,r){return r in t?t[r]:t[sr]}})}var Lb=Fb((Si(qS={},sr,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),Si(qS,Lr,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),qS)),Vb=Fb((Si(WS={},sr,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Si(WS,Lr,{solid:"fass",regular:"fasr",light:"fasl"}),WS)),Ub=Fb((Si(KS={},sr,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Si(KS,Lr,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),KS)),OB=Fb((Si(ZS={},sr,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Si(ZS,Lr,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),ZS)),PB=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,vk="fa-layers-text",kB=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,FB=Fb((Si(YS={},sr,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Si(YS,Lr,{900:"fass",400:"fasr",300:"fasl"}),YS)),_k=[1,2,3,4,5,6,7,8,9,10],LB=_k.concat([11,12,13,14,15,16,17,18,19,20]),VB=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],uy={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Bb=new Set;Object.keys(Vb[sr]).map(Bb.add.bind(Bb)),Object.keys(Vb[Lr]).map(Bb.add.bind(Bb));var UB=[].concat(vN,kb(Bb),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",uy.GROUP,uy.SWAP_OPACITY,uy.PRIMARY,uy.SECONDARY]).concat(_k.map(function(n){return"".concat(n,"x")})).concat(LB.map(function(n){return"w-".concat(n)})),jb=Mp.FontAwesomeConfig||{};ir&&"function"==typeof ir.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var e=dN(n,2),r=e[1],i=function jB(n){return""===n||"false"!==n&&("true"===n||n)}(function BB(n){var e=ir.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}(e[0]));null!=i&&(jb[r]=i)});var wk={styleDefault:"solid",familyDefault:"classic",cssPrefix:pk,replacementClass:gk,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};jb.familyPrefix&&(jb.cssPrefix=jb.familyPrefix);var b0=ut(ut({},wk),jb);b0.autoReplaceSvg||(b0.observeMutations=!1);var _t={};Object.keys(wk).forEach(function(n){Object.defineProperty(_t,n,{enumerable:!0,set:function(t){b0[n]=t,$b.forEach(function(r){return r(_t)})},get:function(){return b0[n]}})}),Object.defineProperty(_t,"familyPrefix",{enumerable:!0,set:function(e){b0.cssPrefix=e,$b.forEach(function(t){return t(_t)})},get:function(){return b0.cssPrefix}}),Mp.FontAwesomeConfig=_t;var $b=[],Ac={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},GB="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Hb(){for(var n=12,e="";n-- >0;)e+=GB[62*Math.random()|0];return e}function C0(n){for(var e=[],t=(n||[]).length>>>0;t--;)e[t]=n[t];return e}function _N(n){return n.classList?C0(n.classList):(n.getAttribute("class")||"").split(" ").filter(function(e){return e})}function Ek(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function QS(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,": ").concat(n[t].trim(),";")},"")}function wN(n){return n.size!==Ac.size||n.x!==Ac.x||n.y!==Ac.y||n.rotate!==Ac.rotate||n.flipX||n.flipY}var ZB=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function Ik(){var n=pk,e=gk,t=_t.cssPrefix,r=_t.replacementClass,i=ZB;if(t!==n||r!==e){var a=new RegExp("\\.".concat(n,"\\-"),"g"),l=new RegExp("\\--".concat(n,"\\-"),"g"),f=new RegExp("\\.".concat(e),"g");i=i.replace(a,".".concat(t,"-")).replace(l,"--".concat(t,"-")).replace(f,".".concat(r))}return i}var bk=!1;function EN(){_t.autoAddCss&&!bk&&(function zB(n){if(n&&Ah){var e=ir.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;for(var t=ir.head.childNodes,r=null,i=t.length-1;i>-1;i--){var a=t[i],l=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(l)>-1&&(r=a)}ir.head.insertBefore(e,r)}}(Ik()),bk=!0)}var YB={mixout:function(){return{dom:{css:Ik,insertCss:EN}}},hooks:function(){return{beforeDOMElementCreation:function(){EN()},beforeI2svg:function(){EN()}}}},xh=Mp||{};xh[Mh]||(xh[Mh]={}),xh[Mh].styles||(xh[Mh].styles={}),xh[Mh].hooks||(xh[Mh].hooks={}),xh[Mh].shims||(xh[Mh].shims=[]);var rl=xh[Mh],Ck=[],JS=!1;function zb(n){var e=n.tag,t=n.attributes,r=void 0===t?{}:t,i=n.children,a=void 0===i?[]:i;return"string"==typeof n?Ek(n):"<".concat(e," ").concat(function qB(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,'="').concat(Ek(n[t]),'" ')},"").trim()}(r),">").concat(a.map(zb).join(""),"</").concat(e,">")}function Dk(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}Ah&&((JS=(ir.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(ir.readyState))||ir.addEventListener("DOMContentLoaded",function n(){ir.removeEventListener("DOMContentLoaded",n),JS=1,Ck.map(function(e){return e()})}));var IN=function(e,t,r,i){var y,w,T,a=Object.keys(e),l=a.length,f=void 0!==i?function(e,t){return function(r,i,a,l){return e.call(t,r,i,a,l)}}(t,i):t;for(void 0===r?(y=1,T=e[a[0]]):(y=0,T=r);y<l;y++)T=f(T,e[w=a[y]],w,e);return T};function bN(n){var e=function ej(n){for(var e=[],t=0,r=n.length;t<r;){var i=n.charCodeAt(t++);if(i>=55296&&i<=56319&&t<r){var a=n.charCodeAt(t++);56320==(64512&a)?e.push(((1023&i)<<10)+(1023&a)+65536):(e.push(i),t--)}else e.push(i)}return e}(n);return 1===e.length?e[0].toString(16):null}function Tk(n){return Object.keys(n).reduce(function(e,t){var r=n[t];return r.icon?e[r.iconName]=r.icon:e[t]=r,e},{})}function CN(n,e){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,i=void 0!==r&&r,a=Tk(e);"function"!=typeof rl.hooks.addPack||i?rl.styles[n]=ut(ut({},rl.styles[n]||{}),a):rl.hooks.addPack(n,Tk(e)),"fas"===n&&CN("fa",e)}var XS,eA,tA,D0=rl.styles,nj=rl.shims,rj=(Si(XS={},sr,Object.values(Ub[sr])),Si(XS,Lr,Object.values(Ub[Lr])),XS),DN=null,Sk={},Ak={},Mk={},xk={},Nk={},ij=(Si(eA={},sr,Object.keys(Lb[sr])),Si(eA,Lr,Object.keys(Lb[Lr])),eA);var Rk=function(){var e=function(a){return IN(D0,function(l,f,y){return l[y]=IN(f,a,{}),l},{})};Sk=e(function(i,a,l){return a[3]&&(i[a[3]]=l),a[2]&&a[2].filter(function(y){return"number"==typeof y}).forEach(function(y){i[y.toString(16)]=l}),i}),Ak=e(function(i,a,l){return i[l]=l,a[2]&&a[2].filter(function(y){return"string"==typeof y}).forEach(function(y){i[y]=l}),i}),Nk=e(function(i,a,l){var f=a[2];return i[l]=l,f.forEach(function(y){i[y]=l}),i});var t="far"in D0||_t.autoFetchSvg,r=IN(nj,function(i,a){var l=a[0],f=a[1],y=a[2];return"far"===f&&!t&&(f="fas"),"string"==typeof l&&(i.names[l]={prefix:f,iconName:y}),"number"==typeof l&&(i.unicodes[l.toString(16)]={prefix:f,iconName:y}),i},{names:{},unicodes:{}});Mk=r.names,xk=r.unicodes,DN=nA(_t.styleDefault,{family:_t.familyDefault})};function TN(n,e){return(Sk[n]||{})[e]}function ly(n,e){return(Nk[n]||{})[e]}function Ok(n){return Mk[n]||{prefix:null,iconName:null}}function Np(){return DN}(function HB(n){$b.push(n)})(function(n){DN=nA(n.styleDefault,{family:_t.familyDefault})}),Rk();var SN=function(){return{prefix:null,iconName:null,rest:[]}};function nA(n){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,r=void 0===t?sr:t;return Vb[r][n]||Vb[r][Lb[r][n]]||(n in rl.styles?n:null)||null}var Pk=(Si(tA={},sr,Object.keys(Ub[sr])),Si(tA,Lr,Object.keys(Ub[Lr])),tA);function rA(n){var e,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,i=void 0!==r&&r,a=(Si(e={},sr,"".concat(_t.cssPrefix,"-").concat(sr)),Si(e,Lr,"".concat(_t.cssPrefix,"-").concat(Lr)),e),l=null,f=sr;(n.includes(a[sr])||n.some(function(w){return Pk[sr].includes(w)}))&&(f=sr),(n.includes(a[Lr])||n.some(function(w){return Pk[Lr].includes(w)}))&&(f=Lr);var y=n.reduce(function(w,T){var M=function oj(n,e){var t=e.split("-"),r=t[0],i=t.slice(1).join("-");return r!==n||""===i||function sj(n){return~UB.indexOf(n)}(i)?null:i}(_t.cssPrefix,T);if(D0[T]?(T=rj[f].includes(T)?OB[f][T]:T,l=T,w.prefix=T):ij[f].indexOf(T)>-1?(l=T,w.prefix=nA(T,{family:f})):M?w.iconName=M:T!==_t.replacementClass&&T!==a[sr]&&T!==a[Lr]&&w.rest.push(T),!i&&w.prefix&&w.iconName){var F="fa"===l?Ok(w.iconName):{},V=ly(w.prefix,w.iconName);F.prefix&&(l=null),w.iconName=F.iconName||V||w.iconName,w.prefix=F.prefix||w.prefix,"far"===w.prefix&&!D0.far&&D0.fas&&!_t.autoFetchSvg&&(w.prefix="fas")}return w},SN());return(n.includes("fa-brands")||n.includes("fab"))&&(y.prefix="fab"),(n.includes("fa-duotone")||n.includes("fad"))&&(y.prefix="fad"),!y.prefix&&f===Lr&&(D0.fass||_t.autoFetchSvg)&&(y.prefix="fass",y.iconName=ly(y.prefix,y.iconName)||y.iconName),("fa"===y.prefix||"fa"===l)&&(y.prefix=Np()||"fas"),y}var lj=function(){function n(){(function wB(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function EB(n,e,t){e&&ik(n.prototype,e),t&&ik(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"add",value:function(){for(var t=this,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var l=i.reduce(this._pullDefinitions,{});Object.keys(l).forEach(function(f){t.definitions[f]=ut(ut({},t.definitions[f]||{}),l[f]),CN(f,l[f]);var y=Ub[sr][f];y&&CN(y,l[f]),Rk()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(a){var l=i[a],f=l.prefix,y=l.iconName,w=l.icon,T=w[2];t[f]||(t[f]={}),T.length>0&&T.forEach(function(M){"string"==typeof M&&(t[f][M]=w)}),t[f][y]=w}),t}}]),n}(),kk=[],T0={},S0={},cj=Object.keys(S0);function AN(n,e){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];return(T0[n]||[]).forEach(function(l){e=l.apply(null,[e].concat(r))}),e}function cy(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];(T0[n]||[]).forEach(function(a){a.apply(null,t)})}function Nh(){var n=arguments[0],e=Array.prototype.slice.call(arguments,1);return S0[n]?S0[n].apply(null,e):void 0}function MN(n){"fa"===n.prefix&&(n.prefix="fas");var e=n.iconName,t=n.prefix||Np();if(e)return e=ly(t,e)||e,Dk(Fk.definitions,t,e)||Dk(rl.styles,t,e)}var Fk=new lj,fj={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ah?(cy("beforeI2svg",e),Nh("pseudoElements2svg",e),Nh("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===_t.autoReplaceSvg&&(_t.autoReplaceSvg=!0),_t.observeMutations=!0,function JB(n){Ah&&(JS?setTimeout(n,0):Ck.push(n))}(function(){gj({autoReplaceSvgRoot:t}),cy("watch",e)})}},va={noAuto:function(){_t.autoReplaceSvg=!1,_t.observeMutations=!1,cy("noAuto")},config:_t,dom:fj,parse:{icon:function(e){if(null===e)return null;if("object"===HS(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:ly(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=nA(e[0]);return{prefix:r,iconName:ly(r,t)||t}}if("string"==typeof e&&(e.indexOf("".concat(_t.cssPrefix,"-"))>-1||e.match(PB))){var i=rA(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||Np(),iconName:ly(i.prefix,i.iconName)||i.iconName}}if("string"==typeof e){var a=Np();return{prefix:a,iconName:ly(a,e)||e}}}},library:Fk,findIconDefinition:MN,toHtml:zb},gj=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,r=void 0===t?ir:t;(Object.keys(rl.styles).length>0||_t.autoFetchSvg)&&Ah&&_t.autoReplaceSvg&&va.dom.i2svg({node:r})};function iA(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(r){return zb(r)})}}),Object.defineProperty(n,"node",{get:function(){if(Ah){var r=ir.createElement("div");return r.innerHTML=n.html,r.children}}}),n}function xN(n){var e=n.icons,t=e.main,r=e.mask,i=n.prefix,a=n.iconName,l=n.transform,f=n.symbol,y=n.title,w=n.maskId,T=n.titleId,M=n.extra,F=n.watchable,V=void 0!==F&&F,W=r.found?r:t,ae=W.width,me=W.height,Fe="fak"===i,ze=[_t.replacementClass,a?"".concat(_t.cssPrefix,"-").concat(a):""].filter(function(Yr){return-1===M.classes.indexOf(Yr)}).filter(function(Yr){return""!==Yr||!!Yr}).concat(M.classes).join(" "),je={children:[],attributes:ut(ut({},M.attributes),{},{"data-prefix":i,"data-icon":a,class:ze,role:M.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(ae," ").concat(me)})},et=Fe&&!~M.classes.indexOf("fa-fw")?{width:"".concat(ae/me*16*.0625,"em")}:{};V&&(je.attributes[ay]=""),y&&(je.children.push({tag:"title",attributes:{id:je.attributes["aria-labelledby"]||"title-".concat(T||Hb())},children:[y]}),delete je.attributes.title);var ft=ut(ut({},je),{},{prefix:i,iconName:a,main:t,mask:r,maskId:w,transform:l,symbol:f,styles:ut(ut({},et),M.styles)}),Mt=r.found&&t.found?Nh("generateAbstractMask",ft)||{children:[],attributes:{}}:Nh("generateAbstractIcon",ft)||{children:[],attributes:{}},Zr=Mt.attributes;return ft.children=Mt.children,ft.attributes=Zr,f?function yj(n){var t=n.iconName,r=n.children,i=n.attributes,a=n.symbol,l=!0===a?"".concat(n.prefix,"-").concat(_t.cssPrefix,"-").concat(t):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ut(ut({},i),{},{id:l}),children:r}]}]}(ft):function mj(n){var e=n.children,t=n.main,r=n.mask,i=n.attributes,a=n.styles,l=n.transform;if(wN(l)&&t.found&&!r.found){var w={x:t.width/t.height/2,y:.5};i.style=QS(ut(ut({},a),{},{"transform-origin":"".concat(w.x+l.x/16,"em ").concat(w.y+l.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(ft)}function Lk(n){var e=n.content,t=n.width,r=n.height,i=n.transform,a=n.title,l=n.extra,f=n.watchable,y=void 0!==f&&f,w=ut(ut(ut({},l.attributes),a?{title:a}:{}),{},{class:l.classes.join(" ")});y&&(w[ay]="");var T=ut({},l.styles);wN(i)&&(T.transform=function KB(n){var e=n.transform,t=n.width,i=n.height,a=void 0===i?16:i,l=n.startCentered,f=void 0!==l&&l,y="";return y+=f&&fk?"translate(".concat(e.x/16-(void 0===t?16:t)/2,"em, ").concat(e.y/16-a/2,"em) "):f?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(y+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:i,startCentered:!0,width:t,height:r}),T["-webkit-transform"]=T.transform);var M=QS(T);M.length>0&&(w.style=M);var F=[];return F.push({tag:"span",attributes:w,children:[e]}),a&&F.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),F}var NN=rl.styles;function RN(n){var e=n[0],t=n[1],a=dN(n.slice(4),1)[0];return{found:!0,width:e,height:t,icon:Array.isArray(a)?{tag:"g",attributes:{class:"".concat(_t.cssPrefix,"-").concat(uy.GROUP)},children:[{tag:"path",attributes:{class:"".concat(_t.cssPrefix,"-").concat(uy.SECONDARY),fill:"currentColor",d:a[0]}},{tag:"path",attributes:{class:"".concat(_t.cssPrefix,"-").concat(uy.PRIMARY),fill:"currentColor",d:a[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:a}}}}var _j={found:!1,width:512,height:512};function ON(n,e){var t=e;return"fa"===e&&null!==_t.styleDefault&&(e=Np()),new Promise(function(r,i){if(Nh("missingIconAbstract"),"fa"===t){var l=Ok(n)||{};n=l.iconName||n,e=l.prefix||e}if(n&&e&&NN[e]&&NN[e][n])return r(RN(NN[e][n]));(function wj(n,e){!yk&&!_t.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(e,'" is missing.'))})(n,e),r(ut(ut({},_j),{},{icon:_t.showMissingIcons&&n&&Nh("missingIconAbstract")||{}}))})}var Vk=function(){},PN=_t.measurePerformance&&GS&&GS.mark&&GS.measure?GS:{mark:Vk,measure:Vk},Gb='FA "6.4.2"',Uk=function(e){PN.mark("".concat(Gb," ").concat(e," ends")),PN.measure("".concat(Gb," ").concat(e),"".concat(Gb," ").concat(e," begins"),"".concat(Gb," ").concat(e," ends"))},kN={begin:function(e){return PN.mark("".concat(Gb," ").concat(e," begins")),function(){return Uk(e)}},end:Uk},sA=function(){};function Bk(n){return"string"==typeof(n.getAttribute?n.getAttribute(ay):null)}function Dj(n){return ir.createElementNS("http://www.w3.org/2000/svg",n)}function Tj(n){return ir.createElement(n)}function jk(n){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,r=void 0===t?"svg"===n.tag?Dj:Tj:t;if("string"==typeof n)return ir.createTextNode(n);var i=r(n.tag);return Object.keys(n.attributes||[]).forEach(function(l){i.setAttribute(l,n.attributes[l])}),(n.children||[]).forEach(function(l){i.appendChild(jk(l,{ceFn:r}))}),i}var oA={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach(function(i){t.parentNode.insertBefore(jk(i),t)}),null===t.getAttribute(ay)&&_t.keepOriginalSource){var r=ir.createComment(function Sj(n){var e=" ".concat(n.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(r,t)}else t.remove()},nest:function(e){var t=e[0],r=e[1];if(~_N(t).indexOf(_t.replacementClass))return oA.replace(e);var i=new RegExp("".concat(_t.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var a=r[0].attributes.class.split(" ").reduce(function(f,y){return y===_t.replacementClass||y.match(i)?f.toSvg.push(y):f.toNode.push(y),f},{toNode:[],toSvg:[]});r[0].attributes.class=a.toSvg.join(" "),0===a.toNode.length?t.removeAttribute("class"):t.setAttribute("class",a.toNode.join(" "))}var l=r.map(function(f){return zb(f)}).join("\n");t.setAttribute(ay,""),t.innerHTML=l}};function $k(n){n()}function Hk(n,e){var t="function"==typeof e?e:sA;if(0===n.length)t();else{var r=$k;_t.mutateApproach===NB&&(r=Mp.requestAnimationFrame||$k),r(function(){var i=function Cj(){return!0===_t.autoReplaceSvg?oA.replace:oA[_t.autoReplaceSvg]||oA.replace}(),a=kN.begin("mutate");n.map(i),a(),t()})}}var FN=!1;function zk(){FN=!0}function LN(){FN=!1}var aA=null;function Gk(n){if(hk&&_t.observeMutations){var e=n.treeCallback,t=void 0===e?sA:e,r=n.nodeCallback,i=void 0===r?sA:r,a=n.pseudoElementsCallback,l=void 0===a?sA:a,f=n.observeMutationsRoot,y=void 0===f?ir:f;aA=new hk(function(w){if(!FN){var T=Np();C0(w).forEach(function(M){if("childList"===M.type&&M.addedNodes.length>0&&!Bk(M.addedNodes[0])&&(_t.searchPseudoElements&&l(M.target),t(M.target)),"attributes"===M.type&&M.target.parentNode&&_t.searchPseudoElements&&l(M.target.parentNode),"attributes"===M.type&&Bk(M.target)&&~VB.indexOf(M.attributeName))if("class"===M.attributeName&&function Ij(n){var e=n.getAttribute?n.getAttribute(mN):null,t=n.getAttribute?n.getAttribute(yN):null;return e&&t}(M.target)){var F=rA(_N(M.target)),W=F.iconName;M.target.setAttribute(mN,F.prefix||T),W&&M.target.setAttribute(yN,W)}else(function bj(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(_t.replacementClass)})(M.target)&&i(M.target)})}}),Ah&&aA.observe(y,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function qk(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},t=function xj(n){var e=n.getAttribute("data-prefix"),t=n.getAttribute("data-icon"),r=void 0!==n.innerText?n.innerText.trim():"",i=rA(_N(n));return i.prefix||(i.prefix=Np()),e&&t&&(i.prefix=e,i.iconName=t),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function aj(n,e){return(Ak[n]||{})[e]}(i.prefix,n.innerText)||TN(i.prefix,bN(n.innerText))),!i.iconName&&_t.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=n.firstChild.data)),i}(n),r=t.iconName,i=t.prefix,a=t.rest,l=function Nj(n){var e=C0(n.attributes).reduce(function(i,a){return"class"!==i.name&&"style"!==i.name&&(i[a.name]=a.value),i},{}),t=n.getAttribute("title"),r=n.getAttribute("data-fa-title-id");return _t.autoA11y&&(t?e["aria-labelledby"]="".concat(_t.replacementClass,"-title-").concat(r||Hb()):(e["aria-hidden"]="true",e.focusable="false")),e}(n),f=AN("parseNodeAttributes",{},n),y=e.styleParser?function Mj(n){var e=n.getAttribute("style"),t=[];return e&&(t=e.split(";").reduce(function(r,i){var a=i.split(":"),l=a[0],f=a.slice(1);return l&&f.length>0&&(r[l]=f.join(":").trim()),r},{})),t}(n):[];return ut({iconName:r,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:i,transform:Ac,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:y,attributes:l}},f)}var Oj=rl.styles;function Wk(n){var e="nest"===_t.autoReplaceSvg?qk(n,{styleParser:!1}):qk(n);return~e.extra.classes.indexOf(vk)?Nh("generateLayersText",n,e):Nh("generateSvgReplacementMutation",n,e)}var Rp=new Set;function Kk(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Ah)return Promise.resolve();var t=ir.documentElement.classList,r=function(M){return t.add("".concat(mk,"-").concat(M))},i=function(M){return t.remove("".concat(mk,"-").concat(M))},a=_t.autoFetchSvg?Rp:vN.map(function(T){return"fa-".concat(T)}).concat(Object.keys(Oj));a.includes("fa")||a.push("fa");var l=[".".concat(vk,":not([").concat(ay,"])")].concat(a.map(function(T){return".".concat(T,":not([").concat(ay,"])")})).join(", ");if(0===l.length)return Promise.resolve();var f=[];try{f=C0(n.querySelectorAll(l))}catch{}if(!(f.length>0))return Promise.resolve();r("pending"),i("complete");var y=kN.begin("onTree"),w=f.reduce(function(T,M){try{var F=Wk(M);F&&T.push(F)}catch(V){yk||"MissingIcon"===V.name&&console.error(V)}return T},[]);return new Promise(function(T,M){Promise.all(w).then(function(F){Hk(F,function(){r("active"),r("complete"),i("pending"),"function"==typeof e&&e(),y(),T()})}).catch(function(F){y(),M(F)})})}function Pj(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Wk(n).then(function(t){t&&Hk([t],e)})}function kj(n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:MN(e||{}),i=t.mask;return i&&(i=(i||{}).icon?i:MN(i||{})),n(r,ut(ut({},t),{},{mask:i}))}}vN.map(function(n){Rp.add("fa-".concat(n))}),Object.keys(Lb[sr]).map(Rp.add.bind(Rp)),Object.keys(Lb[Lr]).map(Rp.add.bind(Rp)),Rp=kb(Rp);var Fj=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.transform,i=void 0===r?Ac:r,a=t.symbol,l=void 0!==a&&a,f=t.mask,y=void 0===f?null:f,w=t.maskId,T=void 0===w?null:w,M=t.title,F=void 0===M?null:M,V=t.titleId,W=void 0===V?null:V,ae=t.classes,me=void 0===ae?[]:ae,Fe=t.attributes,ze=void 0===Fe?{}:Fe,je=t.styles,et=void 0===je?{}:je;if(e){var ft=e.prefix,Mt=e.iconName,Qt=e.icon;return iA(ut({type:"icon"},e),function(){return cy("beforeDOMElementCreation",{iconDefinition:e,params:t}),_t.autoA11y&&(F?ze["aria-labelledby"]="".concat(_t.replacementClass,"-title-").concat(W||Hb()):(ze["aria-hidden"]="true",ze.focusable="false")),xN({icons:{main:RN(Qt),mask:y?RN(y.icon):{found:!1,width:null,height:null,icon:{}}},prefix:ft,iconName:Mt,transform:ut(ut({},Ac),i),symbol:l,title:F,maskId:T,titleId:W,extra:{attributes:ze,styles:et,classes:me}})})}},Lj={mixout:function(){return{icon:kj(Fj)}},hooks:function(){return{mutationObserverCallbacks:function(t){return t.treeCallback=Kk,t.nodeCallback=Pj,t}}},provides:function(e){e.i2svg=function(t){var r=t.node,a=t.callback;return Kk(void 0===r?ir:r,void 0===a?function(){}:a)},e.generateSvgReplacementMutation=function(t,r){var i=r.iconName,a=r.title,l=r.titleId,f=r.prefix,y=r.transform,w=r.symbol,T=r.mask,M=r.maskId,F=r.extra;return new Promise(function(V,W){Promise.all([ON(i,f),T.iconName?ON(T.iconName,T.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(ae){var me=dN(ae,2);V([t,xN({icons:{main:me[0],mask:me[1]},prefix:f,iconName:i,transform:y,symbol:w,maskId:M,title:a,titleId:l,extra:F,watchable:!0})])}).catch(W)})},e.generateAbstractIcon=function(t){var w,r=t.children,i=t.attributes,a=t.main,l=t.transform,y=QS(t.styles);return y.length>0&&(i.style=y),wN(l)&&(w=Nh("generateAbstractTransformGrouping",{main:a,transform:l,containerWidth:a.width,iconWidth:a.width})),r.push(w||a.icon),{children:r,attributes:i}}}},Vj={mixout:function(){return{layer:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.classes,a=void 0===i?[]:i;return iA({type:"layer"},function(){cy("beforeDOMElementCreation",{assembler:t,params:r});var l=[];return t(function(f){Array.isArray(f)?f.map(function(y){l=l.concat(y.abstract)}):l=l.concat(f.abstract)}),[{tag:"span",attributes:{class:["".concat(_t.cssPrefix,"-layers")].concat(kb(a)).join(" ")},children:l}]})}}}},Uj={mixout:function(){return{counter:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.title,a=void 0===i?null:i,l=r.classes,f=void 0===l?[]:l,y=r.attributes,w=void 0===y?{}:y,T=r.styles,M=void 0===T?{}:T;return iA({type:"counter",content:t},function(){return cy("beforeDOMElementCreation",{content:t,params:r}),function vj(n){var e=n.content,t=n.title,r=n.extra,i=ut(ut(ut({},r.attributes),t?{title:t}:{}),{},{class:r.classes.join(" ")}),a=QS(r.styles);a.length>0&&(i.style=a);var l=[];return l.push({tag:"span",attributes:i,children:[e]}),t&&l.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),l}({content:t.toString(),title:a,extra:{attributes:w,styles:M,classes:["".concat(_t.cssPrefix,"-layers-counter")].concat(kb(f))}})})}}}},Bj={mixout:function(){return{text:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.transform,a=void 0===i?Ac:i,l=r.title,f=void 0===l?null:l,y=r.classes,w=void 0===y?[]:y,T=r.attributes,M=void 0===T?{}:T,F=r.styles,V=void 0===F?{}:F;return iA({type:"text",content:t},function(){return cy("beforeDOMElementCreation",{content:t,params:r}),Lk({content:t,transform:ut(ut({},Ac),a),title:f,extra:{attributes:M,styles:V,classes:["".concat(_t.cssPrefix,"-layers-text")].concat(kb(w))}})})}}},provides:function(e){e.generateLayersText=function(t,r){var i=r.title,a=r.transform,l=r.extra,f=null,y=null;if(fk){var w=parseInt(getComputedStyle(t).fontSize,10),T=t.getBoundingClientRect();f=T.width/w,y=T.height/w}return _t.autoA11y&&!i&&(l.attributes["aria-hidden"]="true"),Promise.resolve([t,Lk({content:t.innerHTML,width:f,height:y,transform:a,title:i,extra:l,watchable:!0})])}}},jj=new RegExp('"',"ug"),Zk=[1105920,1112319];function Yk(n,e){var t="".concat(xB).concat(e.replace(":","-"));return new Promise(function(r,i){if(null!==n.getAttribute(t))return r();var l=C0(n.children).filter(function(Qt){return Qt.getAttribute(gN)===e})[0],f=Mp.getComputedStyle(n,e),y=f.getPropertyValue("font-family").match(kB),w=f.getPropertyValue("font-weight"),T=f.getPropertyValue("content");if(l&&!y)return n.removeChild(l),r();if(y&&"none"!==T&&""!==T){var M=f.getPropertyValue("content"),F=~["Sharp"].indexOf(y[2])?Lr:sr,V=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(y[2])?Vb[F][y[2].toLowerCase()]:FB[F][w],W=function $j(n){var e=n.replace(jj,""),t=function tj(n,e){var i,t=n.length,r=n.charCodeAt(e);return r>=55296&&r<=56319&&t>e+1&&(i=n.charCodeAt(e+1))>=56320&&i<=57343?1024*(r-55296)+i-56320+65536:r}(e,0),r=t>=Zk[0]&&t<=Zk[1],i=2===e.length&&e[0]===e[1];return{value:bN(i?e[0]:e),isSecondary:r||i}}(M),ae=W.value,me=W.isSecondary,Fe=y[0].startsWith("FontAwesome"),ze=TN(V,ae),je=ze;if(Fe){var et=function uj(n){var e=xk[n],t=TN("fas",n);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}(ae);et.iconName&&et.prefix&&(ze=et.iconName,V=et.prefix)}if(!ze||me||l&&l.getAttribute(mN)===V&&l.getAttribute(yN)===je)r();else{n.setAttribute(t,je),l&&n.removeChild(l);var ft=function Rj(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Ac,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),Mt=ft.extra;Mt.attributes[gN]=e,ON(ze,V).then(function(Qt){var Zr=xN(ut(ut({},ft),{},{icons:{main:Qt,mask:SN()},prefix:V,iconName:je,extra:Mt,watchable:!0})),Yr=ir.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===e?n.insertBefore(Yr,n.firstChild):n.appendChild(Yr),Yr.outerHTML=Zr.map(function(sl){return zb(sl)}).join("\n"),n.removeAttribute(t),r()}).catch(i)}}else r()})}function Hj(n){return Promise.all([Yk(n,"::before"),Yk(n,"::after")])}function zj(n){return!(n.parentNode===document.head||~RB.indexOf(n.tagName.toUpperCase())||n.getAttribute(gN)||n.parentNode&&"svg"===n.parentNode.tagName)}function Qk(n){if(Ah)return new Promise(function(e,t){var r=C0(n.querySelectorAll("*")).filter(zj).map(Hj),i=kN.begin("searchPseudoElements");zk(),Promise.all(r).then(function(){i(),LN(),e()}).catch(function(){i(),LN(),t()})})}var Jk=!1,Xk=function(e){return e.toLowerCase().split(" ").reduce(function(r,i){var a=i.toLowerCase().split("-"),l=a[0],f=a.slice(1).join("-");if(l&&"h"===f)return r.flipX=!0,r;if(l&&"v"===f)return r.flipY=!0,r;if(f=parseFloat(f),isNaN(f))return r;switch(l){case"grow":r.size=r.size+f;break;case"shrink":r.size=r.size-f;break;case"left":r.x=r.x-f;break;case"right":r.x=r.x+f;break;case"up":r.y=r.y-f;break;case"down":r.y=r.y+f;break;case"rotate":r.rotate=r.rotate+f}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},VN={x:0,y:0,width:"100%",height:"100%"};function eF(n){return n.attributes&&(n.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(n.attributes.fill="black"),n}function Kj(n){return"g"===n.tag?n.children:[n]}var Zj={hooks:function(){return{parseNodeAttributes:function(t,r){var i=r.getAttribute("data-fa-mask"),a=i?rA(i.split(" ").map(function(l){return l.trim()})):SN();return a.prefix||(a.prefix=Np()),t.mask=a,t.maskId=r.getAttribute("data-fa-mask-id"),t}}},provides:function(e){e.generateAbstractMask=function(t){var r=t.children,i=t.attributes,a=t.main,l=t.mask,f=t.maskId,T=a.icon,F=l.icon,V=function WB(n){var e=n.transform,r=n.iconWidth,i={transform:"translate(".concat(n.containerWidth/2," 256)")},a="translate(".concat(32*e.x,", ").concat(32*e.y,") "),l="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),f="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(a," ").concat(l," ").concat(f)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:t.transform,containerWidth:l.width,iconWidth:a.width}),W={tag:"rect",attributes:ut(ut({},VN),{},{fill:"white"})},ae=T.children?{children:T.children.map(eF)}:{},me={tag:"g",attributes:ut({},V.inner),children:[eF(ut({tag:T.tag,attributes:ut(ut({},T.attributes),V.path)},ae))]},Fe={tag:"g",attributes:ut({},V.outer),children:[me]},ze="mask-".concat(f||Hb()),je="clip-".concat(f||Hb()),et={tag:"mask",attributes:ut(ut({},VN),{},{id:ze,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[W,Fe]},ft={tag:"defs",children:[{tag:"clipPath",attributes:{id:je},children:Kj(F)},et]};return r.push(ft,{tag:"rect",attributes:ut({fill:"currentColor","clip-path":"url(#".concat(je,")"),mask:"url(#".concat(ze,")")},VN)}),{children:r,attributes:i}}}};!function dj(n,e){var t=e.mixoutsTo;kk=n,T0={},Object.keys(S0).forEach(function(r){-1===cj.indexOf(r)&&delete S0[r]}),kk.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(l){"function"==typeof i[l]&&(t[l]=i[l]),"object"===HS(i[l])&&Object.keys(i[l]).forEach(function(f){t[l]||(t[l]={}),t[l][f]=i[l][f]})}),r.hooks){var a=r.hooks();Object.keys(a).forEach(function(l){T0[l]||(T0[l]=[]),T0[l].push(a[l])})}r.provides&&r.provides(S0)})}([YB,Lj,Vj,Uj,Bj,{hooks:function(){return{mutationObserverCallbacks:function(t){return t.pseudoElementsCallback=Qk,t}}},provides:function(e){e.pseudoElements2svg=function(t){var r=t.node;_t.searchPseudoElements&&Qk(void 0===r?ir:r)}}},{mixout:function(){return{dom:{unwatch:function(){zk(),Jk=!0}}}},hooks:function(){return{bootstrap:function(){Gk(AN("mutationObserverCallbacks",{}))},noAuto:function(){!function Aj(){aA&&aA.disconnect()}()},watch:function(t){var r=t.observeMutationsRoot;Jk?LN():Gk(AN("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(t){return Xk(t)}}}},hooks:function(){return{parseNodeAttributes:function(t,r){var i=r.getAttribute("data-fa-transform");return i&&(t.transform=Xk(i)),t}}},provides:function(e){e.generateAbstractTransformGrouping=function(t){var r=t.main,i=t.transform,l=t.iconWidth,f={transform:"translate(".concat(t.containerWidth/2," 256)")},y="translate(".concat(32*i.x,", ").concat(32*i.y,") "),w="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),T="rotate(".concat(i.rotate," 0 0)"),V={outer:f,inner:{transform:"".concat(y," ").concat(w," ").concat(T)},path:{transform:"translate(".concat(l/2*-1," -256)")}};return{tag:"g",attributes:ut({},V.outer),children:[{tag:"g",attributes:ut({},V.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:ut(ut({},r.icon.attributes),V.path)}]}]}}}},Zj,{provides:function(e){var t=!1;Mp.matchMedia&&(t=Mp.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},a={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:ut(ut({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var l=ut(ut({},a),{},{attributeName:"opacity"}),f={tag:"circle",attributes:ut(ut({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||f.children.push({tag:"animate",attributes:ut(ut({},a),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ut(ut({},l),{},{values:"1;0;1;1;0;1;"})}),r.push(f),r.push({tag:"path",attributes:ut(ut({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:ut(ut({},l),{},{values:"1;0;0;0;0;1;"})}]}),t||r.push({tag:"path",attributes:ut(ut({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ut(ut({},l),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(t,r){var i=r.getAttribute("data-fa-symbol");return t.symbol=null!==i&&(""===i||i),t}}}}],{mixoutsTo:va});let e$=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),e})();function tF(n){return new h.vHH(3e3,!1)}function Op(n){switch(n.length){case 0:return new Ob;case 1:return n[0];default:return new QP(n)}}function nF(n,e,t=new Map,r=new Map){const i=[],a=[];let l=-1,f=null;if(e.forEach(y=>{const w=y.get("offset"),T=w==l,M=T&&f||new Map;y.forEach((F,V)=>{let W=V,ae=F;if("offset"!==V)switch(W=n.normalizePropertyName(W,i),ae){case"!":ae=t.get(V);break;case Sh:ae=r.get(V);break;default:ae=n.normalizeStyleValue(V,W,ae,i)}M.set(W,ae)}),T||a.push(M),f=M,l=w}),i.length)throw function b$(n){return new h.vHH(3502,!1)}();return a}function UN(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&BN(t,"start",n)));break;case"done":n.onDone(()=>r(t&&BN(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&BN(t,"destroy",n)))}}function BN(n,e,t){const a=jN(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(a._data=l),a}function jN(n,e,t,r,i="",a=0,l){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!l}}function _a(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function rF(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const k$=(()=>typeof document>"u"?null:document.documentElement)();function $N(n){const e=n.parentNode||n.host||null;return e===k$?null:e}let dy=null,iF=!1;function sF(n,e){for(;e;){if(e===n)return!0;e=$N(e)}return!1}function oF(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]}let aF=(()=>{var n;class e{validateStyleProperty(r){return function L$(n){dy||(dy=function V$(){return typeof document<"u"?document.body:null}()||{},iF=!!dy.style&&"WebkitAppearance"in dy.style);let e=!0;return dy.style&&!function F$(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in dy.style,!e&&iF&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in dy.style)),e}(r)}matchesElement(r,i){return!1}containsElement(r,i){return sF(r,i)}getParentElement(r){return $N(r)}query(r,i,a){return oF(r,i,a)}computeStyle(r,i,a){return a||""}animate(r,i,a,l,f,y=[],w){return new Ob(a,l)}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),e})(),HN=(()=>{class e{}return e.NOOP=new aF,e})();const U$=1e3,zN="ng-enter",uA="ng-leave",lA="ng-trigger",cA=".ng-trigger",lF="ng-animating",GN=".ng-animating";function Rh(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:qN(parseFloat(e[1]),e[2])}function qN(n,e){return"s"===e?n*U$:n}function dA(n,e,t){return n.hasOwnProperty("duration")?n:function j$(n,e,t){let i,a=0,l="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(tF()),{duration:0,delay:0,easing:""};i=qN(parseFloat(f[1]),f[2]);const y=f[3];null!=y&&(a=qN(parseFloat(y),f[4]));const w=f[5];w&&(l=w)}else i=n;if(!t){let f=!1,y=e.length;i<0&&(e.push(function t$(){return new h.vHH(3100,!1)}()),f=!0),a<0&&(e.push(function n$(){return new h.vHH(3101,!1)}()),f=!0),f&&e.splice(y,0,tF())}return{duration:i,delay:a,easing:l}}(n,e,t)}function qb(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function cF(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Pp(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function Mc(n,e,t){e.forEach((r,i)=>{const a=KN(i);t&&!t.has(i)&&t.set(i,n.style[a]),n.style[a]=r})}function hy(n,e){e.forEach((t,r)=>{const i=KN(r);n.style[i]=""})}function Wb(n){return Array.isArray(n)?1==n.length?n[0]:ZP(n):n}const WN=new RegExp("{{\\s*(.+?)\\s*}}","g");function hF(n){let e=[];if("string"==typeof n){let t;for(;t=WN.exec(n);)e.push(t[1]);WN.lastIndex=0}return e}function Kb(n,e,t){const r=n.toString(),i=r.replace(WN,(a,l)=>{let f=e[l];return null==f&&(t.push(function i$(n){return new h.vHH(3003,!1)}()),f=""),f.toString()});return i==r?n:i}function hA(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const z$=/-+([a-z0-9])/g;function KN(n){return n.replace(z$,(...e)=>e[1].toUpperCase())}function wa(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function s$(n){return new h.vHH(3004,!1)}()}}function fF(n,e){return window.getComputedStyle(n)[e]}const fA="*";function W$(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function K$(n,e,t){if(":"==n[0]){const y=function Z$(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function _$(n){return new h.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof y)return void e.push(y);n=y}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function v$(n){return new h.vHH(3015,!1)}()),e;const i=r[1],a=r[2],l=r[3];e.push(pF(i,l));"<"==a[0]&&!(i==fA&&l==fA)&&e.push(pF(l,i))}(r,t,e)):t.push(n),t}const pA=new Set(["true","1"]),gA=new Set(["false","0"]);function pF(n,e){const t=pA.has(n)||gA.has(n),r=pA.has(e)||gA.has(e);return(i,a)=>{let l=n==fA||n==i,f=e==fA||e==a;return!l&&t&&"boolean"==typeof i&&(l=i?pA.has(n):gA.has(n)),!f&&r&&"boolean"==typeof a&&(f=a?pA.has(e):gA.has(e)),l&&f}}const Y$=new RegExp("s*:selfs*,?","g");function ZN(n,e,t,r){return new Q$(n).build(e,t,r)}class Q${constructor(e){this._driver=e}build(e,t,r){const i=new e3(t);return this._resetContextStyleTimingState(i),wa(this,Wb(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function a$(){return new h.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const y=f,w=y.name;w.toString().split(/\s*,\s*/).forEach(T=>{y.name=T,a.push(this.visitState(y,t))}),y.name=w}else if(1==f.type){const y=this.visitTransition(f,t);r+=y.queryCount,i+=y.depCount,l.push(y)}else t.errors.push(function u$(){return new h.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:l,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,l=i||{};r.styles.forEach(f=>{f instanceof Map&&f.forEach(y=>{hF(y).forEach(w=>{l.hasOwnProperty(w)||a.add(w)})})}),a.size&&(hA(a.values()),t.errors.push(function l$(n,e){return new h.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=wa(this,Wb(e.animation),t);return{type:1,matchers:W$(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:fy(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>wa(this,r,t)),options:fy(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(l=>{t.currentTime=r;const f=wa(this,l,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:a,options:fy(e.options)}}visitAnimate(e,t){const r=function n3(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return YN(dA(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=YN(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=dA(t,e);return YN(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:Rb({});if(5==a.type)i=this.visitKeyframes(a,t);else{let l=e.styles,f=!1;if(!l){f=!0;const w={};r.easing&&(w.easing=r.easing),l=Rb(w)}t.currentTime+=r.duration+r.delay;const y=this.visitStyle(l,t);y.isEmptyStep=f,i=y}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of i)"string"==typeof f?f===Sh?r.push(f):t.errors.push(new h.vHH(3002,!1)):r.push(cF(f));let a=!1,l=null;return r.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(l=f.get("easing"),f.delete("easing")),!a))for(let y of f.values())if(y.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((f,y)=>{const w=t.collectedStyles.get(t.currentQuerySelector),T=w.get(y);let M=!0;T&&(a!=i&&a>=T.startTime&&i<=T.endTime&&(t.errors.push(function d$(n,e,t,r,i){return new h.vHH(3010,!1)}()),M=!1),a=T.startTime),M&&w.set(y,{startTime:a,endTime:i}),t.options&&function H$(n,e,t){const r=e.params||{},i=hF(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function r$(n){return new h.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function h$(){return new h.vHH(3011,!1)}()),r;let a=0;const l=[];let f=!1,y=!1,w=0;const T=e.steps.map(Fe=>{const ze=this._makeStyleAst(Fe,t);let je=null!=ze.offset?ze.offset:function t3(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(ze.styles),et=0;return null!=je&&(a++,et=ze.offset=je),y=y||et<0||et>1,f=f||et<w,w=et,l.push(et),ze});y&&t.errors.push(function f$(){return new h.vHH(3012,!1)}()),f&&t.errors.push(function p$(){return new h.vHH(3200,!1)}());const M=e.steps.length;let F=0;a>0&&a<M?t.errors.push(function g$(){return new h.vHH(3202,!1)}()):0==a&&(F=1/(M-1));const V=M-1,W=t.currentTime,ae=t.currentAnimateTimings,me=ae.duration;return T.forEach((Fe,ze)=>{const je=F>0?ze==V?1:F*ze:l[ze],et=je*me;t.currentTime=W+ae.delay+et,ae.duration=et,this._validateStyleAst(Fe,t),Fe.offset=je,r.styles.push(Fe)}),r}visitReference(e,t){return{type:8,animation:wa(this,Wb(e.animation),t),options:fy(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:fy(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:fy(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,l]=function J$(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Y$,"")),n=n.replace(/@\*/g,cA).replace(/@\w+/g,t=>cA+"-"+t.slice(1)).replace(/:animating/g,GN),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,_a(t.collectedStyles,t.currentQuerySelector,new Map);const f=wa(this,Wb(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:f,originalSelector:e.selector,options:fy(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function m$(){return new h.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:dA(e.timings,t.errors,!0);return{type:12,animation:wa(this,Wb(e.animation),t),timings:r,options:null}}}class e3{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function fy(n){return n?(n=qb(n)).params&&(n.params=function X$(n){return n?qb(n):null}(n.params)):n={},n}function YN(n,e,t){return{duration:n,delay:e,easing:t}}function QN(n,e,t,r,i,a,l=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:l,subTimeline:f}}class mA{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const s3=new RegExp(":enter","g"),a3=new RegExp(":leave","g");function JN(n,e,t,r,i,a=new Map,l=new Map,f,y,w=[]){return(new u3).buildKeyframes(n,e,t,r,i,a,l,f,y,w)}class u3{buildKeyframes(e,t,r,i,a,l,f,y,w,T=[]){w=w||new mA;const M=new XN(e,t,w,i,a,T,[]);M.options=y;const F=y.delay?Rh(y.delay):0;M.currentTimeline.delayNextStep(F),M.currentTimeline.setStyles([l],null,M.errors,y),wa(this,r,M);const V=M.timelines.filter(W=>W.containsAnimation());if(V.length&&f.size){let W;for(let ae=V.length-1;ae>=0;ae--){const me=V[ae];if(me.element===t){W=me;break}}W&&!W.allowOnlyTimelineStyles()&&W.setStyles([f],null,M.errors,y)}return V.length?V.map(W=>W.buildKeyframes()):[QN(t,[],[],[],0,F,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,l=this._visitSubInstructions(r,i,i.options);a!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const a=i?.delay;if(a){const l="number"==typeof a?a:Rh(Kb(a,i?.params??{},t.errors));r.delayNextStep(l)}}}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const l=null!=r.duration?Rh(r.duration):null,f=null!=r.delay?Rh(r.delay):null;return 0!==l&&e.forEach(y=>{const w=t.appendInstructionToTimeline(y,l,f);a=Math.max(a,w.duration+w.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),wa(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=yA);const l=Rh(a.delay);i.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>wa(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Rh(e.options.delay):0;e.steps.forEach(l=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),wa(this,l,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return dA(t.params?Kb(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(y=>{f.forwardTime((y.offset||0)*a),f.setStyles(y.styles,y.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?Rh(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=yA);let l=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let y=null;f.forEach((w,T)=>{t.currentQueryIndex=T;const M=t.createSubContext(e.options,w);a&&M.delayNextStep(a),w===t.element&&(y=M.currentTimeline),wa(this,e.animation,M),M.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,M.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,l=Math.abs(a.duration),f=l*(t.currentQueryTotal-1);let y=l*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":y=f-y;break;case"full":y=r.currentStaggerTime}const T=t.currentTimeline;y&&T.delayNextStep(y);const M=T.currentTime;wa(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-M+(i.startTime-r.currentTimeline.startTime)}}const yA={};class XN{constructor(e,t,r,i,a,l,f,y){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=l,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=yA,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new vA(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Rh(r.duration)),null!=r.delay&&(i.delay=Rh(r.delay));const a=r.params;if(a){let l=i.params;l||(l=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!l.hasOwnProperty(f))&&(l[f]=Kb(a[f],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new XN(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=yA,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},a=new l3(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,l){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(s3,"."+this._enterClassName)).replace(a3,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=r);0!==r&&(w=r<0?w.slice(w.length+r,w.length):w.slice(0,r)),f.push(...w)}return!a&&0==f.length&&l.push(function y$(n){return new h.vHH(3014,!1)}()),f}}class vA{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new vA(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Sh),this._currentKeyframe.set(t,Sh);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const a=i&&i.params||{},l=function c3(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let a of r)t.set(a,Sh)}else Pp(i,t)}),t}(e,this._globalTimelineStyles);for(let[f,y]of l){const w=Kb(y,a,r);this._pendingStyles.set(f,w),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??Sh),this._updateStyle(f,w)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,y)=>{const w=Pp(f,new Map,this._backFill);w.forEach((T,M)=>{"!"===T?e.add(M):T===Sh&&t.add(M)}),r||w.set("offset",y/this.duration),i.push(w)});const a=e.size?hA(e.values()):[],l=t.size?hA(t.values()):[];if(r){const f=i[0],y=new Map(f);f.set("offset",0),y.set("offset",1),i=[f,y]}return QN(this.element,i,a,l,this.duration,this.startTime,this.easing,!1)}}class l3 extends vA{constructor(e,t,r,i,a,l,f=!1){super(e,t,l.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],l=r+t,f=t/l,y=Pp(e[0]);y.set("offset",0),a.push(y);const w=Pp(e[0]);w.set("offset",yF(f)),a.push(w);const T=e.length-1;for(let M=1;M<=T;M++){let F=Pp(e[M]);const V=F.get("offset");F.set("offset",yF((t+V*r)/l)),a.push(F)}r=l,t=0,i="",e=a}return QN(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function yF(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class eR{}const d3=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class h3 extends eR{normalizePropertyName(e,t){return KN(e)}normalizeStyleValue(e,t,r,i){let a="";const l=r.toString().trim();if(d3.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function o$(n,e){return new h.vHH(3005,!1)}())}return l+a}}function vF(n,e,t,r,i,a,l,f,y,w,T,M,F){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:l,timelines:f,queriedElements:y,preStyleProps:w,postStyleProps:T,totalTime:M,errors:F}}const tR={};class _F{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function f3(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,a,l,f,y,w,T){const M=[],F=this.ast.options&&this.ast.options.params||tR,W=this.buildStyles(r,f&&f.params||tR,M),ae=y&&y.params||tR,me=this.buildStyles(i,ae,M),Fe=new Set,ze=new Map,je=new Map,et="void"===i,ft={params:p3(ae,F),delay:this.ast.options?.delay},Mt=T?[]:JN(e,t,this.ast.animation,a,l,W,me,ft,w,M);let Qt=0;if(Mt.forEach(Yr=>{Qt=Math.max(Yr.duration+Yr.delay,Qt)}),M.length)return vF(t,this._triggerName,r,i,et,W,me,[],[],ze,je,Qt,M);Mt.forEach(Yr=>{const sl=Yr.element,PF=_a(ze,sl,new Set);Yr.preStyleProps.forEach(py=>PF.add(py));const Yb=_a(je,sl,new Set);Yr.postStyleProps.forEach(py=>Yb.add(py)),sl!==t&&Fe.add(sl)});const Zr=hA(Fe.values());return vF(t,this._triggerName,r,i,et,W,me,Mt,Zr,ze,je,Qt)}}function p3(n,e){const t=qb(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class g3{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=qb(this.defaultParams);return Object.keys(e).forEach(a=>{const l=e[a];null!==l&&(i[a]=l)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((l,f)=>{l&&(l=Kb(l,i,t));const y=this.normalizer.normalizePropertyName(f,t);l=this.normalizer.normalizeStyleValue(f,y,l,t),r.set(f,l)})}),r}}class y3{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new g3(i.style,i.options&&i.options.params||{},r))}),wF(this.states,"true","1"),wF(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new _F(e,i,this.states))}),this.fallbackTransition=function v3(n,e,t){return new _F(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(l=>l.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function wF(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const _3=new mA;class w3{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],a=ZN(this._driver,t,r,[]);if(r.length)throw function C$(n){return new h.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,r){const i=e.element,a=nF(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations.get(e);let l;const f=new Map;if(a?(l=JN(this._driver,t,a,zN,uA,new Map,new Map,r,_3,i),l.forEach(T=>{const M=_a(f,T.element,new Map);T.postStyleProps.forEach(F=>M.set(F,null))})):(i.push(function D$(){return new h.vHH(3300,!1)}()),l=[]),i.length)throw function T$(n){return new h.vHH(3504,!1)}();f.forEach((T,M)=>{T.forEach((F,V)=>{T.set(V,this._driver.computeStyle(M,V,Sh))})});const w=Op(l.map(T=>{const M=f.get(T.element);return this._buildPlayer(T,new Map,M)}));return this._playersById.set(e,w),w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function S$(n){return new h.vHH(3301,!1)}();return t}listen(e,t,r,i){const a=jN(t,"","","");return UN(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const EF="ng-animate-queued",nR="ng-animate-disabled",D3=[],IF={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},T3={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},il="__ng_removed";class rR{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function x3(n){return n??null}(r?e.value:e),r){const a=qb(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Zb="void",iR=new rR(Zb);class S3{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ou(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function A$(n,e){return new h.vHH(3302,!1)}();if(null==r||0==r.length)throw function M$(n){return new h.vHH(3303,!1)}();if(!function N3(n){return"start"==n||"done"==n}(r))throw function x$(n,e){return new h.vHH(3400,!1)}();const a=_a(this._elementListeners,e,[]),l={name:t,phase:r,callback:i};a.push(l);const f=_a(this._engine.statesByElement,e,new Map);return f.has(t)||(ou(e,lA),ou(e,lA+"-"+t),f.set(t,iR)),()=>{this._engine.afterFlush(()=>{const y=a.indexOf(l);y>=0&&a.splice(y,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function N$(n){return new h.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),l=new sR(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(ou(e,lA),ou(e,lA+"-"+t),this._engine.statesByElement.set(e,f=new Map));let y=f.get(t);const w=new rR(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&y&&w.absorbOptions(y.options),f.set(t,w),y||(y=iR),w.value!==Zb&&y.value===w.value){if(!function P3(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(y.params,w.params)){const ae=[],me=a.matchStyles(y.value,y.params,ae),Fe=a.matchStyles(w.value,w.params,ae);ae.length?this._engine.reportError(ae):this._engine.afterFlush(()=>{hy(e,me),Mc(e,Fe)})}return}const F=_a(this._engine.playersByElement,e,[]);F.forEach(ae=>{ae.namespaceId==this.id&&ae.triggerName==t&&ae.queued&&ae.destroy()});let V=a.matchTransition(y.value,w.value,e,w.params),W=!1;if(!V){if(!i)return;V=a.fallbackTransition,W=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:V,fromState:y,toState:w,player:l,isFallbackTransition:W}),W||(ou(e,EF),l.onStart(()=>{A0(e,EF)})),l.onDone(()=>{let ae=this.players.indexOf(l);ae>=0&&this.players.splice(ae,1);const me=this._engine.playersByElement.get(e);if(me){let Fe=me.indexOf(l);Fe>=0&&me.splice(Fe,1)}}),this.players.push(l),F.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,cA,!0);r.forEach(i=>{if(i[il])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(l=>l.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),l=new Map;if(a){const f=[];if(a.forEach((y,w)=>{if(l.set(w,y.value),this._triggers.has(w)){const T=this.trigger(e,w,Zb,i);T&&f.push(T)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),r&&Op(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const l=a.name;if(i.has(l))return;i.add(l);const y=this._triggers.get(l).fallbackTransition,w=r.get(l)||iR,T=new rR(Zb),M=new sR(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:y,fromState:w,toState:T,player:M,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let l=e;for(;l=l.parentNode;)if(r.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[il];(!a||a===IF)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){ou(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,l=this._elementListeners.get(a);l&&l.forEach(f=>{if(f.name==r.triggerName){const y=jN(a,r.triggerName,r.fromState.value,r.toState.value);y._data=e,UN(r.player,f.phase,y,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,l=i.transition.ast.depCount;return 0==a||0==l?a-l:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class A3{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new S3(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let l=!1,f=this.driver.getParentElement(t);for(;f;){const y=i.get(f);if(y){const w=r.indexOf(y);r.splice(w+1,0,e),l=!0;break}f=this.driver.getParentElement(f)}l||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const a=this._fetchNamespace(i.namespaceId);a&&t.add(a)}return t}trigger(e,t,r,i){if(_A(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!_A(t))return;const a=t[il];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ou(e,nR)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),A0(e,nR))}removeNode(e,t,r){if(_A(t)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);const a=this.namespacesByHostElement.get(t);a&&a.id!==e&&a.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[il]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return _A(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,cA,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,GN,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Op(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[il];if(t&&t.setForRemoval){if(e[il]=IF,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(nR)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)ou(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Op(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function R$(n){return new h.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new mA,i=[],a=new Map,l=[],f=new Map,y=new Map,w=new Map,T=new Set;this.disabledNodes.forEach(mt=>{T.add(mt);const Nt=this.driver.query(mt,".ng-animate-queued",!0);for(let Bt=0;Bt<Nt.length;Bt++)T.add(Nt[Bt])});const M=this.bodyNode,F=Array.from(this.statesByElement.keys()),V=DF(F,this.collectedEnterElements),W=new Map;let ae=0;V.forEach((mt,Nt)=>{const Bt=zN+ae++;W.set(Nt,Bt),mt.forEach(yn=>ou(yn,Bt))});const me=[],Fe=new Set,ze=new Set;for(let mt=0;mt<this.collectedLeaveElements.length;mt++){const Nt=this.collectedLeaveElements[mt],Bt=Nt[il];Bt&&Bt.setForRemoval&&(me.push(Nt),Fe.add(Nt),Bt.hasAnimation?this.driver.query(Nt,".ng-star-inserted",!0).forEach(yn=>Fe.add(yn)):ze.add(Nt))}const je=new Map,et=DF(F,Array.from(Fe));et.forEach((mt,Nt)=>{const Bt=uA+ae++;je.set(Nt,Bt),mt.forEach(yn=>ou(yn,Bt))}),e.push(()=>{V.forEach((mt,Nt)=>{const Bt=W.get(Nt);mt.forEach(yn=>A0(yn,Bt))}),et.forEach((mt,Nt)=>{const Bt=je.get(Nt);mt.forEach(yn=>A0(yn,Bt))}),me.forEach(mt=>{this.processLeaveNode(mt)})});const ft=[],Mt=[];for(let mt=this._namespaceList.length-1;mt>=0;mt--)this._namespaceList[mt].drainQueuedTransitions(t).forEach(Bt=>{const yn=Bt.player,Yi=Bt.element;if(ft.push(yn),this.collectedEnterElements.length){const Ts=Yi[il];if(Ts&&Ts.setForMove){if(Ts.previousTriggersValues&&Ts.previousTriggersValues.has(Bt.triggerName)){const gy=Ts.previousTriggersValues.get(Bt.triggerName),au=this.statesByElement.get(Bt.element);if(au&&au.has(Bt.triggerName)){const IA=au.get(Bt.triggerName);IA.value=gy,au.set(Bt.triggerName,IA)}}return void yn.destroy()}}const xc=!M||!this.driver.containsElement(M,Yi),Ea=je.get(Yi),kp=W.get(Yi),xr=this._buildInstruction(Bt,r,kp,Ea,xc);if(xr.errors&&xr.errors.length)return void Mt.push(xr);if(xc)return yn.onStart(()=>hy(Yi,xr.fromStyles)),yn.onDestroy(()=>Mc(Yi,xr.toStyles)),void i.push(yn);if(Bt.isFallbackTransition)return yn.onStart(()=>hy(Yi,xr.fromStyles)),yn.onDestroy(()=>Mc(Yi,xr.toStyles)),void i.push(yn);const LF=[];xr.timelines.forEach(Ts=>{Ts.stretchStartingKeyframe=!0,this.disabledNodes.has(Ts.element)||LF.push(Ts)}),xr.timelines=LF,r.append(Yi,xr.timelines),l.push({instruction:xr,player:yn,element:Yi}),xr.queriedElements.forEach(Ts=>_a(f,Ts,[]).push(yn)),xr.preStyleProps.forEach((Ts,gy)=>{if(Ts.size){let au=y.get(gy);au||y.set(gy,au=new Set),Ts.forEach((IA,uR)=>au.add(uR))}}),xr.postStyleProps.forEach((Ts,gy)=>{let au=w.get(gy);au||w.set(gy,au=new Set),Ts.forEach((IA,uR)=>au.add(uR))})});if(Mt.length){const mt=[];Mt.forEach(Nt=>{mt.push(function O$(n,e){return new h.vHH(3505,!1)}())}),ft.forEach(Nt=>Nt.destroy()),this.reportError(mt)}const Qt=new Map,Zr=new Map;l.forEach(mt=>{const Nt=mt.element;r.has(Nt)&&(Zr.set(Nt,Nt),this._beforeAnimationBuild(mt.player.namespaceId,mt.instruction,Qt))}),i.forEach(mt=>{const Nt=mt.element;this._getPreviousPlayers(Nt,!1,mt.namespaceId,mt.triggerName,null).forEach(yn=>{_a(Qt,Nt,[]).push(yn),yn.destroy()})});const Yr=me.filter(mt=>SF(mt,y,w)),sl=new Map;CF(sl,this.driver,ze,w,Sh).forEach(mt=>{SF(mt,y,w)&&Yr.push(mt)});const Yb=new Map;V.forEach((mt,Nt)=>{CF(Yb,this.driver,new Set(mt),y,"!")}),Yr.forEach(mt=>{const Nt=sl.get(mt),Bt=Yb.get(mt);sl.set(mt,new Map([...Nt?.entries()??[],...Bt?.entries()??[]]))});const py=[],kF=[],FF={};l.forEach(mt=>{const{element:Nt,player:Bt,instruction:yn}=mt;if(r.has(Nt)){if(T.has(Nt))return Bt.onDestroy(()=>Mc(Nt,yn.toStyles)),Bt.disabled=!0,Bt.overrideTotalTime(yn.totalTime),void i.push(Bt);let Yi=FF;if(Zr.size>1){let Ea=Nt;const kp=[];for(;Ea=Ea.parentNode;){const xr=Zr.get(Ea);if(xr){Yi=xr;break}kp.push(Ea)}kp.forEach(xr=>Zr.set(xr,Yi))}const xc=this._buildAnimation(Bt.namespaceId,yn,Qt,a,Yb,sl);if(Bt.setRealPlayer(xc),Yi===FF)py.push(Bt);else{const Ea=this.playersByElement.get(Yi);Ea&&Ea.length&&(Bt.parentPlayer=Op(Ea)),i.push(Bt)}}else hy(Nt,yn.fromStyles),Bt.onDestroy(()=>Mc(Nt,yn.toStyles)),kF.push(Bt),T.has(Nt)&&i.push(Bt)}),kF.forEach(mt=>{const Nt=a.get(mt.element);if(Nt&&Nt.length){const Bt=Op(Nt);mt.setRealPlayer(Bt)}}),i.forEach(mt=>{mt.parentPlayer?mt.syncPlayerEvents(mt.parentPlayer):mt.destroy()});for(let mt=0;mt<me.length;mt++){const Nt=me[mt],Bt=Nt[il];if(A0(Nt,uA),Bt&&Bt.hasAnimation)continue;let yn=[];if(f.size){let xc=f.get(Nt);xc&&xc.length&&yn.push(...xc);let Ea=this.driver.query(Nt,GN,!0);for(let kp=0;kp<Ea.length;kp++){let xr=f.get(Ea[kp]);xr&&xr.length&&yn.push(...xr)}}const Yi=yn.filter(xc=>!xc.destroyed);Yi.length?R3(this,Nt,Yi):this.processLeaveNode(Nt)}return me.length=0,py.forEach(mt=>{this.players.push(mt),mt.onDone(()=>{mt.destroy();const Nt=this.players.indexOf(mt);this.players.splice(Nt,1)}),mt.play()}),py}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let l=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(l=f)}else{const f=this.playersByElement.get(e);if(f){const y=!a||a==Zb;f.forEach(w=>{w.queued||!y&&w.triggerName!=i||l.push(w)})}}return(r||i)&&(l=l.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),l}_beforeAnimationBuild(e,t,r){const a=t.element,l=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const w=y.element,T=w!==a,M=_a(r,w,[]);this._getPreviousPlayers(w,T,l,f,t.toState).forEach(V=>{const W=V.getRealPlayer();W.beforeDestroy&&W.beforeDestroy(),V.destroy(),M.push(V)})}hy(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,l){const f=t.triggerName,y=t.element,w=[],T=new Set,M=new Set,F=t.timelines.map(W=>{const ae=W.element;T.add(ae);const me=ae[il];if(me&&me.removedBeforeQueried)return new Ob(W.duration,W.delay);const Fe=ae!==y,ze=function O3(n){const e=[];return TF(n,e),e}((r.get(ae)||D3).map(Qt=>Qt.getRealPlayer())).filter(Qt=>!!Qt.element&&Qt.element===ae),je=a.get(ae),et=l.get(ae),ft=nF(this._normalizer,W.keyframes,je,et),Mt=this._buildPlayer(W,ft,ze);if(W.subTimeline&&i&&M.add(ae),Fe){const Qt=new sR(e,f,ae);Qt.setRealPlayer(Mt),w.push(Qt)}return Mt});w.forEach(W=>{_a(this.playersByQueriedElement,W.element,[]).push(W),W.onDone(()=>function M3(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,W.element,W))}),T.forEach(W=>ou(W,lF));const V=Op(F);return V.onDestroy(()=>{T.forEach(W=>A0(W,lF)),Mc(y,t.toStyles)}),M.forEach(W=>{_a(i,W,[]).push(V)}),V}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Ob(e.duration,e.delay)}}class sR{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Ob,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>UN(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){_a(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function _A(n){return n&&1===n.nodeType}function bF(n,e){const t=n.style.display;return n.style.display=e??"none",t}function CF(n,e,t,r,i){const a=[];t.forEach(y=>a.push(bF(y)));const l=[];r.forEach((y,w)=>{const T=new Map;y.forEach(M=>{const F=e.computeStyle(w,M,i);T.set(M,F),(!F||0==F.length)&&(w[il]=T3,l.push(w))}),n.set(w,T)});let f=0;return t.forEach(y=>bF(y,a[f++])),l}function DF(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),a=new Map;function l(f){if(!f)return 1;let y=a.get(f);if(y)return y;const w=f.parentNode;return y=t.has(w)?w:i.has(w)?1:l(w),a.set(f,y),y}return e.forEach(f=>{const y=l(f);1!==y&&t.get(y).push(f)}),t}function ou(n,e){n.classList?.add(e)}function A0(n,e){n.classList?.remove(e)}function R3(n,e,t){Op(t).onDone(()=>n.processLeaveNode(e))}function TF(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof QP?TF(r.players,e):e.push(r)}}function SF(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class wA{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new A3(e,t,r),this._timelineEngine=new w3(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const l=e+"-"+i;let f=this._triggerCache[l];if(!f){const y=[],T=ZN(this._driver,a,y,[]);if(y.length)throw function I$(n,e){return new h.vHH(3404,!1)}();f=function m3(n,e,t){return new y3(n,e,t)}(i,T,this._normalizer),this._triggerCache[l]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,l]=rF(r);this._timelineEngine.command(a,t,l,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[l,f]=rF(r);return this._timelineEngine.listen(l,t,f,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let F3=(()=>{class e{constructor(r,i,a){this._element=r,this._startStyles=i,this._endStyles=a,this._state=0;let l=e.initialStylesByElement.get(r);l||e.initialStylesByElement.set(r,l=new Map),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&Mc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Mc(this._element,this._initialStyles),this._endStyles&&(Mc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(hy(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(hy(this._element,this._endStyles),this._endStyles=null),Mc(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function oR(n){let e=null;return n.forEach((t,r)=>{(function L3(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class AF{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:fF(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class V3{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return sF(e,t)}getParentElement(e){return $N(e)}query(e,t,r){return oF(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,l=[]){const y={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(y.easing=a);const w=new Map,T=l.filter(V=>V instanceof AF);(function G$(n,e){return 0===n||0===e})(r,i)&&T.forEach(V=>{V.currentSnapshot.forEach((W,ae)=>w.set(ae,W))});let M=function $$(n){return n.length?n[0]instanceof Map?n:n.map(e=>cF(e)):[]}(t).map(V=>Pp(V));M=function q$(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((a,l)=>{r.has(l)||i.push(l),r.set(l,a)}),i.length)for(let a=1;a<e.length;a++){let l=e[a];i.forEach(f=>l.set(f,fF(n,f)))}}return e}(e,M,w);const F=function k3(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=oR(e[0]),e.length>1&&(r=oR(e[e.length-1]))):e instanceof Map&&(t=oR(e)),t||r?new F3(n,t,r):null}(e,M);return new AF(e,M,y,F)}}let U3=(()=>{var n;class e extends WP{constructor(r,i){super(),this._nextAnimationId=0,this._renderer=r.createRenderer(i.body,{id:"0",encapsulation:h.ifc.None,styles:[],data:{animation:[]}})}build(r){const i=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(r)?ZP(r):r;return MF(this._renderer,null,i,"register",[a]),new B3(i,this._renderer)}}return(n=e).\u0275fac=function(r){return new(r||n)(h.LFG(h.FYo),h.LFG(de))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),e})();class B3 extends TU{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new j3(this._id,e,t||{},this._renderer)}}class j3{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return MF(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function MF(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const xF="@.disabled";let $3=(()=>{var n;class e{constructor(r,i,a){this.delegate=r,this.engine=i,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(l,f)=>{const y=f?.parentNode(l);y&&f.removeChild(y,l)}}createRenderer(r,i){const l=this.delegate.createRenderer(r,i);if(!(r&&i&&i.data&&i.data.animation)){let M=this._rendererCache.get(l);return M||(M=new NF("",l,this.engine,()=>this._rendererCache.delete(l)),this._rendererCache.set(l,M)),M}const f=i.id,y=i.id+"-"+this._currentId;this._currentId++,this.engine.register(y,r);const w=M=>{Array.isArray(M)?M.forEach(w):this.engine.registerTrigger(f,y,r,M.name,M)};return i.data.animation.forEach(w),new H3(this,y,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(r,i,a){r>=0&&r<this._microtaskId?this._zone.run(()=>i(a)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[f,y]=l;f(y)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return(n=e).\u0275fac=function(r){return new(r||n)(h.LFG(h.FYo),h.LFG(wA),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),e})();class NF{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==xF?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class H3 extends NF{constructor(e,t,r,i,a){super(t,r,i,a),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==xF?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function z3(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),l="";return"@"!=a.charAt(0)&&([a,l]=function G3(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,l,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let q3=(()=>{var n;class e extends wA{constructor(r,i,a,l){super(r.body,i,a)}ngOnDestroy(){this.flush()}}return(n=e).\u0275fac=function(r){return new(r||n)(h.LFG(de),h.LFG(HN),h.LFG(eR),h.LFG(h.z2F))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),e})();const RF=[{provide:WP,useClass:U3},{provide:eR,useFactory:function W3(){return new h3}},{provide:wA,useClass:q3},{provide:h.FYo,useFactory:function K3(n,e,t){return new $3(n,e,t)},deps:[$o,wA,h.R0b]}],aR=[{provide:HN,useFactory:()=>new V3},{provide:h.QbO,useValue:"BrowserAnimations"},...RF],OF=[{provide:HN,useClass:aF},{provide:h.QbO,useValue:"NoopAnimations"},...RF];let Z3=(()=>{var n;class e{static withConfig(r){return{ngModule:e,providers:r.disableAnimations?OF:aR}}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:aR,imports:[Ml]}),e})(),Y3=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=h.oAB({type:n,bootstrap:[_B]}),n.\u0275inj=h.cJS({imports:[Ml,mB,e$,ra,ZU.forRoot(),e2,Z3,ns.hO.initializeApp(hg_firebaseConfig)]}),e})();Pn().bootstrapModule(Y3).catch(n=>console.error(n))},5619:(lt,Ie,O)=>{O.d(Ie,{X:()=>J});var h=O(8645);class J extends h.x{constructor(ee){super(),this._value=ee}get value(){return this.getValue()}_subscribe(ee){const re=super._subscribe(ee);return!re.closed&&ee.next(this._value),re}getValue(){const{hasError:ee,thrownError:re,_value:de}=this;if(ee)throw re;return this._throwIfClosed(),de}next(ee){super.next(this._value=ee)}}},5592:(lt,Ie,O)=>{O.d(Ie,{y:()=>Me});var h=O(305),J=O(7394),k=O(4850),ee=O(8407),re=O(2653),de=O(4674),ge=O(1441);let Me=(()=>{class Q{constructor(Te){Te&&(this._subscribe=Te)}lift(Te){const Ke=new Q;return Ke.source=this,Ke.operator=Te,Ke}subscribe(Te,Ke,xe){const $e=function z(Q){return Q&&Q instanceof h.Lv||function U(Q){return Q&&(0,de.m)(Q.next)&&(0,de.m)(Q.error)&&(0,de.m)(Q.complete)}(Q)&&(0,J.Nn)(Q)}(Te)?Te:new h.Hp(Te,Ke,xe);return(0,ge.x)(()=>{const{operator:Re,source:vt}=this;$e.add(Re?Re.call($e,vt):vt?this._subscribe($e):this._trySubscribe($e))}),$e}_trySubscribe(Te){try{return this._subscribe(Te)}catch(Ke){Te.error(Ke)}}forEach(Te,Ke){return new(Ke=fe(Ke))((xe,$e)=>{const Re=new h.Hp({next:vt=>{try{Te(vt)}catch(ht){$e(ht),Re.unsubscribe()}},error:$e,complete:xe});this.subscribe(Re)})}_subscribe(Te){var Ke;return null===(Ke=this.source)||void 0===Ke?void 0:Ke.subscribe(Te)}[k.L](){return this}pipe(...Te){return(0,ee.U)(Te)(this)}toPromise(Te){return new(Te=fe(Te))((Ke,xe)=>{let $e;this.subscribe(Re=>$e=Re,Re=>xe(Re),()=>Ke($e))})}}return Q.create=ke=>new Q(ke),Q})();function fe(Q){var ke;return null!==(ke=Q??re.config.Promise)&&void 0!==ke?ke:Promise}},8645:(lt,Ie,O)=>{O.d(Ie,{x:()=>ge});var h=O(5592),J=O(7394);const ee=(0,O(2306).d)(fe=>function(){fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=O(9039),de=O(1441);let ge=(()=>{class fe extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const Q=new Me(this,this);return Q.operator=z,Q}_throwIfClosed(){if(this.closed)throw new ee}next(z){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(z)}})}error(z){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:Q}=this;for(;Q.length;)Q.shift().error(z)}})}complete(){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:Q,isStopped:ke,observers:Te}=this;return Q||ke?J.Lc:(this.currentObservers=null,Te.push(z),new J.w0(()=>{this.currentObservers=null,(0,re.P)(Te,z)}))}_checkFinalizedStatuses(z){const{hasError:Q,thrownError:ke,isStopped:Te}=this;Q?z.error(ke):Te&&z.complete()}asObservable(){const z=new h.y;return z.source=this,z}}return fe.create=(U,z)=>new Me(U,z),fe})();class Me extends ge{constructor(U,z){super(),this.destination=U,this.source=z}next(U){var z,Q;null===(Q=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===Q||Q.call(z,U)}error(U){var z,Q;null===(Q=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===Q||Q.call(z,U)}complete(){var U,z;null===(z=null===(U=this.destination)||void 0===U?void 0:U.complete)||void 0===z||z.call(U)}_subscribe(U){var z,Q;return null!==(Q=null===(z=this.source)||void 0===z?void 0:z.subscribe(U))&&void 0!==Q?Q:J.Lc}}},305:(lt,Ie,O)=>{O.d(Ie,{Hp:()=>xe,Lv:()=>Q});var h=O(4674),J=O(7394),k=O(2653),ee=O(3894),re=O(2420);const de=fe("C",void 0,void 0);function fe(ie,we,te){return{kind:ie,value:we,error:te}}var U=O(7599),z=O(1441);class Q extends J.w0{constructor(we){super(),this.isStopped=!1,we?(this.destination=we,(0,J.Nn)(we)&&we.add(this)):this.destination=ht}static create(we,te,be){return new xe(we,te,be)}next(we){this.isStopped?vt(function Me(ie){return fe("N",ie,void 0)}(we),this):this._next(we)}error(we){this.isStopped?vt(function ge(ie){return fe("E",void 0,ie)}(we),this):(this.isStopped=!0,this._error(we))}complete(){this.isStopped?vt(de,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(we){this.destination.next(we)}_error(we){try{this.destination.error(we)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ke=Function.prototype.bind;function Te(ie,we){return ke.call(ie,we)}class Ke{constructor(we){this.partialObserver=we}next(we){const{partialObserver:te}=this;if(te.next)try{te.next(we)}catch(be){$e(be)}}error(we){const{partialObserver:te}=this;if(te.error)try{te.error(we)}catch(be){$e(be)}else $e(we)}complete(){const{partialObserver:we}=this;if(we.complete)try{we.complete()}catch(te){$e(te)}}}class xe extends Q{constructor(we,te,be){let Ne;if(super(),(0,h.m)(we)||!we)Ne={next:we??void 0,error:te??void 0,complete:be??void 0};else{let We;this&&k.config.useDeprecatedNextContext?(We=Object.create(we),We.unsubscribe=()=>this.unsubscribe(),Ne={next:we.next&&Te(we.next,We),error:we.error&&Te(we.error,We),complete:we.complete&&Te(we.complete,We)}):Ne=we}this.destination=new Ke(Ne)}}function $e(ie){k.config.useDeprecatedSynchronousErrorHandling?(0,z.O)(ie):(0,ee.h)(ie)}function vt(ie,we){const{onStoppedNotification:te}=k.config;te&&U.z.setTimeout(()=>te(ie,we))}const ht={closed:!0,next:re.Z,error:function Re(ie){throw ie},complete:re.Z}},7394:(lt,Ie,O)=>{O.d(Ie,{Lc:()=>de,w0:()=>re,Nn:()=>ge});var h=O(4674);const k=(0,O(2306).d)(fe=>function(z){fe(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((Q,ke)=>`${ke+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var ee=O(9039);class re{constructor(U){this.initialTeardown=U,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let U;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const Te of z)Te.remove(this);else z.remove(this);const{initialTeardown:Q}=this;if((0,h.m)(Q))try{Q()}catch(Te){U=Te instanceof k?Te.errors:[Te]}const{_finalizers:ke}=this;if(ke){this._finalizers=null;for(const Te of ke)try{Me(Te)}catch(Ke){U=U??[],Ke instanceof k?U=[...U,...Ke.errors]:U.push(Ke)}}if(U)throw new k(U)}}add(U){var z;if(U&&U!==this)if(this.closed)Me(U);else{if(U instanceof re){if(U.closed||U._hasParent(this))return;U._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push(U)}}_hasParent(U){const{_parentage:z}=this;return z===U||Array.isArray(z)&&z.includes(U)}_addParent(U){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push(U),z):z?[z,U]:U}_removeParent(U){const{_parentage:z}=this;z===U?this._parentage=null:Array.isArray(z)&&(0,ee.P)(z,U)}remove(U){const{_finalizers:z}=this;z&&(0,ee.P)(z,U),U instanceof re&&U._removeParent(this)}}re.EMPTY=(()=>{const fe=new re;return fe.closed=!0,fe})();const de=re.EMPTY;function ge(fe){return fe instanceof re||fe&&"closed"in fe&&(0,h.m)(fe.remove)&&(0,h.m)(fe.add)&&(0,h.m)(fe.unsubscribe)}function Me(fe){(0,h.m)(fe)?fe():fe.unsubscribe()}},2653:(lt,Ie,O)=>{O.d(Ie,{config:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(lt,Ie,O)=>{O.d(Ie,{E:()=>J});const J=new(O(5592).y)(re=>re.complete())},2459:(lt,Ie,O)=>{O.d(Ie,{D:()=>we});var h=O(4829),J=O(3093),k=O(5137),de=O(5592),Me=O(4971),fe=O(4674),U=O(7103);function Q(te,be){if(!te)throw new Error("Iterable cannot be null");return new de.y(Ne=>{(0,U.f)(Ne,be,()=>{const We=te[Symbol.asyncIterator]();(0,U.f)(Ne,be,()=>{We.next().then(B=>{B.done?Ne.complete():Ne.next(B.value)})},0,!0)})})}var ke=O(8382),Te=O(4026),Ke=O(4266),xe=O(3664),$e=O(5726),Re=O(9853),vt=O(541);function we(te,be){return be?function ie(te,be){if(null!=te){if((0,ke.c)(te))return function ee(te,be){return(0,h.Xf)(te).pipe((0,k.R)(be),(0,J.Q)(be))}(te,be);if((0,Ke.z)(te))return function ge(te,be){return new de.y(Ne=>{let We=0;return be.schedule(function(){We===te.length?Ne.complete():(Ne.next(te[We++]),Ne.closed||this.schedule())})})}(te,be);if((0,Te.t)(te))return function re(te,be){return(0,h.Xf)(te).pipe((0,k.R)(be),(0,J.Q)(be))}(te,be);if((0,$e.D)(te))return Q(te,be);if((0,xe.T)(te))return function z(te,be){return new de.y(Ne=>{let We;return(0,U.f)(Ne,be,()=>{We=te[Me.h](),(0,U.f)(Ne,be,()=>{let B,he;try{({value:B,done:he}=We.next())}catch(_e){return void Ne.error(_e)}he?Ne.complete():Ne.next(B)},0,!0)}),()=>(0,fe.m)(We?.return)&&We.return()})}(te,be);if((0,vt.L)(te))return function ht(te,be){return Q((0,vt.Q)(te),be)}(te,be)}throw(0,Re.z)(te)}(te,be):(0,h.Xf)(te)}},4829:(lt,Ie,O)=>{O.d(Ie,{Xf:()=>ke});var h=O(655),J=O(4266),k=O(4026),ee=O(5592),re=O(8382),de=O(5726),ge=O(9853),Me=O(3664),fe=O(541),U=O(4674),z=O(3894),Q=O(4850);function ke(ie){if(ie instanceof ee.y)return ie;if(null!=ie){if((0,re.c)(ie))return function Te(ie){return new ee.y(we=>{const te=ie[Q.L]();if((0,U.m)(te.subscribe))return te.subscribe(we);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ie);if((0,J.z)(ie))return function Ke(ie){return new ee.y(we=>{for(let te=0;te<ie.length&&!we.closed;te++)we.next(ie[te]);we.complete()})}(ie);if((0,k.t)(ie))return function xe(ie){return new ee.y(we=>{ie.then(te=>{we.closed||(we.next(te),we.complete())},te=>we.error(te)).then(null,z.h)})}(ie);if((0,de.D)(ie))return Re(ie);if((0,Me.T)(ie))return function $e(ie){return new ee.y(we=>{for(const te of ie)if(we.next(te),we.closed)return;we.complete()})}(ie);if((0,fe.L)(ie))return function vt(ie){return Re((0,fe.Q)(ie))}(ie)}throw(0,ge.z)(ie)}function Re(ie){return new ee.y(we=>{(function ht(ie,we){var te,be,Ne,We;return(0,h.mG)(this,void 0,void 0,function*(){try{for(te=(0,h.KL)(ie);!(be=yield te.next()).done;)if(we.next(be.value),we.closed)return}catch(B){Ne={error:B}}finally{try{be&&!be.done&&(We=te.return)&&(yield We.call(te))}finally{if(Ne)throw Ne.error}}we.complete()})})(ie,we).catch(te=>we.error(te))})}},3019:(lt,Ie,O)=>{O.d(Ie,{T:()=>de});var h=O(7537),J=O(4829),k=O(6232),ee=O(4564),re=O(2459);function de(...ge){const Me=(0,ee.yG)(ge),fe=(0,ee._6)(ge,1/0),U=ge;return U.length?1===U.length?(0,J.Xf)(U[0]):(0,h.J)(fe)((0,re.D)(U,Me)):k.E}},2096:(lt,Ie,O)=>{O.d(Ie,{of:()=>k});var h=O(4564),J=O(2459);function k(...ee){const re=(0,h.yG)(ee);return(0,J.D)(ee,re)}},8251:(lt,Ie,O)=>{O.d(Ie,{x:()=>J});var h=O(305);function J(ee,re,de,ge,Me){return new k(ee,re,de,ge,Me)}class k extends h.Lv{constructor(re,de,ge,Me,fe,U){super(re),this.onFinalize=fe,this.shouldUnsubscribe=U,this._next=de?function(z){try{de(z)}catch(Q){re.error(Q)}}:super._next,this._error=Me?function(z){try{Me(z)}catch(Q){re.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=ge?function(){try{ge()}catch(z){re.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:de}=this;super.unsubscribe(),!de&&(null===(re=this.onFinalize)||void 0===re||re.call(this))}}}},3997:(lt,Ie,O)=>{O.d(Ie,{x:()=>ee});var h=O(2737),J=O(9360),k=O(8251);function ee(de,ge=h.y){return de=de??re,(0,J.e)((Me,fe)=>{let U,z=!0;Me.subscribe((0,k.x)(fe,Q=>{const ke=ge(Q);(z||!de(U,ke))&&(z=!1,U=ke,fe.next(Q))}))})}function re(de,ge){return de===ge}},7398:(lt,Ie,O)=>{O.d(Ie,{U:()=>k});var h=O(9360),J=O(8251);function k(ee,re){return(0,h.e)((de,ge)=>{let Me=0;de.subscribe((0,J.x)(ge,fe=>{ge.next(ee.call(re,fe,Me++))}))})}},7537:(lt,Ie,O)=>{O.d(Ie,{J:()=>k});var h=O(1631),J=O(2737);function k(ee=1/0){return(0,h.z)(J.y,ee)}},1631:(lt,Ie,O)=>{O.d(Ie,{z:()=>Me});var h=O(7398),J=O(4829),k=O(9360),ee=O(7103),re=O(8251),ge=O(4674);function Me(fe,U,z=1/0){return(0,ge.m)(U)?Me((Q,ke)=>(0,h.U)((Te,Ke)=>U(Q,Te,ke,Ke))((0,J.Xf)(fe(Q,ke))),z):("number"==typeof U&&(z=U),(0,k.e)((Q,ke)=>function de(fe,U,z,Q,ke,Te,Ke,xe){const $e=[];let Re=0,vt=0,ht=!1;const ie=()=>{ht&&!$e.length&&!Re&&U.complete()},we=be=>Re<Q?te(be):$e.push(be),te=be=>{Te&&U.next(be),Re++;let Ne=!1;(0,J.Xf)(z(be,vt++)).subscribe((0,re.x)(U,We=>{ke?.(We),Te?we(We):U.next(We)},()=>{Ne=!0},void 0,()=>{if(Ne)try{for(Re--;$e.length&&Re<Q;){const We=$e.shift();Ke?(0,ee.f)(U,Ke,()=>te(We)):te(We)}ie()}catch(We){U.error(We)}}))};return fe.subscribe((0,re.x)(U,we,()=>{ht=!0,ie()})),()=>{xe?.()}}(Q,ke,fe,z)))}},3093:(lt,Ie,O)=>{O.d(Ie,{Q:()=>ee});var h=O(7103),J=O(9360),k=O(8251);function ee(re,de=0){return(0,J.e)((ge,Me)=>{ge.subscribe((0,k.x)(Me,fe=>(0,h.f)(Me,re,()=>Me.next(fe),de),()=>(0,h.f)(Me,re,()=>Me.complete(),de),fe=>(0,h.f)(Me,re,()=>Me.error(fe),de)))})}},3020:(lt,Ie,O)=>{O.d(Ie,{B:()=>re});var h=O(4829),J=O(8645),k=O(305),ee=O(9360);function re(ge={}){const{connector:Me=(()=>new J.x),resetOnError:fe=!0,resetOnComplete:U=!0,resetOnRefCountZero:z=!0}=ge;return Q=>{let ke,Te,Ke,xe=0,$e=!1,Re=!1;const vt=()=>{Te?.unsubscribe(),Te=void 0},ht=()=>{vt(),ke=Ke=void 0,$e=Re=!1},ie=()=>{const we=ke;ht(),we?.unsubscribe()};return(0,ee.e)((we,te)=>{xe++,!Re&&!$e&&vt();const be=Ke=Ke??Me();te.add(()=>{xe--,0===xe&&!Re&&!$e&&(Te=de(ie,z))}),be.subscribe(te),!ke&&xe>0&&(ke=new k.Hp({next:Ne=>be.next(Ne),error:Ne=>{Re=!0,vt(),Te=de(ht,fe,Ne),be.error(Ne)},complete:()=>{$e=!0,vt(),Te=de(ht,U),be.complete()}}),(0,h.Xf)(we).subscribe(ke))})(Q)}}function de(ge,Me,...fe){if(!0===Me)return void ge();if(!1===Me)return;const U=new k.Hp({next:()=>{U.unsubscribe(),ge()}});return(0,h.Xf)(Me(...fe)).subscribe(U)}},5137:(lt,Ie,O)=>{O.d(Ie,{R:()=>J});var h=O(9360);function J(k,ee=0){return(0,h.e)((re,de)=>{de.add(k.schedule(()=>re.subscribe(de),ee))})}},4664:(lt,Ie,O)=>{O.d(Ie,{w:()=>ee});var h=O(4829),J=O(9360),k=O(8251);function ee(re,de){return(0,J.e)((ge,Me)=>{let fe=null,U=0,z=!1;const Q=()=>z&&!fe&&Me.complete();ge.subscribe((0,k.x)(Me,ke=>{fe?.unsubscribe();let Te=0;const Ke=U++;(0,h.Xf)(re(ke,Ke)).subscribe(fe=(0,k.x)(Me,xe=>Me.next(de?de(ke,xe,Ke,Te++):xe),()=>{fe=null,Q()}))},()=>{z=!0,Q()}))})}},9397:(lt,Ie,O)=>{O.d(Ie,{b:()=>re});var h=O(4674),J=O(9360),k=O(8251),ee=O(2737);function re(de,ge,Me){const fe=(0,h.m)(de)||ge||Me?{next:de,error:ge,complete:Me}:de;return fe?(0,J.e)((U,z)=>{var Q;null===(Q=fe.subscribe)||void 0===Q||Q.call(fe);let ke=!0;U.subscribe((0,k.x)(z,Te=>{var Ke;null===(Ke=fe.next)||void 0===Ke||Ke.call(fe,Te),z.next(Te)},()=>{var Te;ke=!1,null===(Te=fe.complete)||void 0===Te||Te.call(fe),z.complete()},Te=>{var Ke;ke=!1,null===(Ke=fe.error)||void 0===Ke||Ke.call(fe,Te),z.error(Te)},()=>{var Te,Ke;ke&&(null===(Te=fe.unsubscribe)||void 0===Te||Te.call(fe)),null===(Ke=fe.finalize)||void 0===Ke||Ke.call(fe)}))}):ee.y}},1954:(lt,Ie,O)=>{O.d(Ie,{o:()=>re});var h=O(7394);class J extends h.w0{constructor(ge,Me){super()}schedule(ge,Me=0){return this}}const k={setInterval(de,ge,...Me){const{delegate:fe}=k;return fe?.setInterval?fe.setInterval(de,ge,...Me):setInterval(de,ge,...Me)},clearInterval(de){const{delegate:ge}=k;return(ge?.clearInterval||clearInterval)(de)},delegate:void 0};var ee=O(9039);class re extends J{constructor(ge,Me){super(ge,Me),this.scheduler=ge,this.work=Me,this.pending=!1}schedule(ge,Me=0){var fe;if(this.closed)return this;this.state=ge;const U=this.id,z=this.scheduler;return null!=U&&(this.id=this.recycleAsyncId(z,U,Me)),this.pending=!0,this.delay=Me,this.id=null!==(fe=this.id)&&void 0!==fe?fe:this.requestAsyncId(z,this.id,Me),this}requestAsyncId(ge,Me,fe=0){return k.setInterval(ge.flush.bind(ge,this),fe)}recycleAsyncId(ge,Me,fe=0){if(null!=fe&&this.delay===fe&&!1===this.pending)return Me;null!=Me&&k.clearInterval(Me)}execute(ge,Me){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const fe=this._execute(ge,Me);if(fe)return fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ge,Me){let U,fe=!1;try{this.work(ge)}catch(z){fe=!0,U=z||new Error("Scheduled action threw falsy error")}if(fe)return this.unsubscribe(),U}unsubscribe(){if(!this.closed){const{id:ge,scheduler:Me}=this,{actions:fe}=Me;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ee.P)(fe,this),null!=ge&&(this.id=this.recycleAsyncId(Me,ge,null)),this.delay=null,super.unsubscribe()}}}},2631:(lt,Ie,O)=>{O.d(Ie,{v:()=>k});var h=O(4552);class J{constructor(re,de=J.now){this.schedulerActionCtor=re,this.now=de}schedule(re,de=0,ge){return new this.schedulerActionCtor(this,re).schedule(ge,de)}}J.now=h.l.now;class k extends J{constructor(re,de=J.now){super(re,de),this.actions=[],this._active=!1}flush(re){const{actions:de}=this;if(this._active)return void de.push(re);let ge;this._active=!0;do{if(ge=re.execute(re.state,re.delay))break}while(re=de.shift());if(this._active=!1,ge){for(;re=de.shift();)re.unsubscribe();throw ge}}}},6321:(lt,Ie,O)=>{O.d(Ie,{z:()=>k});var h=O(1954);const k=new(O(2631).v)(h.o)},4552:(lt,Ie,O)=>{O.d(Ie,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},7599:(lt,Ie,O)=>{O.d(Ie,{z:()=>h});const h={setTimeout(J,k,...ee){const{delegate:re}=h;return re?.setTimeout?re.setTimeout(J,k,...ee):setTimeout(J,k,...ee)},clearTimeout(J){const{delegate:k}=h;return(k?.clearTimeout||clearTimeout)(J)},delegate:void 0}},4971:(lt,Ie,O)=>{O.d(Ie,{h:()=>J});const J=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(lt,Ie,O)=>{O.d(Ie,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(lt,Ie,O)=>{O.d(Ie,{_6:()=>de,jO:()=>ee,yG:()=>re});var h=O(4674);function k(ge){return ge[ge.length-1]}function ee(ge){return(0,h.m)(k(ge))?ge.pop():void 0}function re(ge){return function J(ge){return ge&&(0,h.m)(ge.schedule)}(k(ge))?ge.pop():void 0}function de(ge,Me){return"number"==typeof k(ge)?ge.pop():Me}},9039:(lt,Ie,O)=>{function h(J,k){if(J){const ee=J.indexOf(k);0<=ee&&J.splice(ee,1)}}O.d(Ie,{P:()=>h})},2306:(lt,Ie,O)=>{function h(J){const ee=J(re=>{Error.call(re),re.stack=(new Error).stack});return ee.prototype=Object.create(Error.prototype),ee.prototype.constructor=ee,ee}O.d(Ie,{d:()=>h})},1441:(lt,Ie,O)=>{O.d(Ie,{O:()=>ee,x:()=>k});var h=O(2653);let J=null;function k(re){if(h.config.useDeprecatedSynchronousErrorHandling){const de=!J;if(de&&(J={errorThrown:!1,error:null}),re(),de){const{errorThrown:ge,error:Me}=J;if(J=null,ge)throw Me}}else re()}function ee(re){h.config.useDeprecatedSynchronousErrorHandling&&J&&(J.errorThrown=!0,J.error=re)}},7103:(lt,Ie,O)=>{function h(J,k,ee,re=0,de=!1){const ge=k.schedule(function(){ee(),de?J.add(this.schedule(null,re)):this.unsubscribe()},re);if(J.add(ge),!de)return ge}O.d(Ie,{f:()=>h})},2737:(lt,Ie,O)=>{function h(J){return J}O.d(Ie,{y:()=>h})},4266:(lt,Ie,O)=>{O.d(Ie,{z:()=>h});const h=J=>J&&"number"==typeof J.length&&"function"!=typeof J},5726:(lt,Ie,O)=>{O.d(Ie,{D:()=>J});var h=O(4674);function J(k){return Symbol.asyncIterator&&(0,h.m)(k?.[Symbol.asyncIterator])}},4674:(lt,Ie,O)=>{function h(J){return"function"==typeof J}O.d(Ie,{m:()=>h})},8382:(lt,Ie,O)=>{O.d(Ie,{c:()=>k});var h=O(4850),J=O(4674);function k(ee){return(0,J.m)(ee[h.L])}},3664:(lt,Ie,O)=>{O.d(Ie,{T:()=>k});var h=O(4971),J=O(4674);function k(ee){return(0,J.m)(ee?.[h.h])}},4026:(lt,Ie,O)=>{O.d(Ie,{t:()=>J});var h=O(4674);function J(k){return(0,h.m)(k?.then)}},541:(lt,Ie,O)=>{O.d(Ie,{L:()=>ee,Q:()=>k});var h=O(655),J=O(4674);function k(re){return(0,h.FC)(this,arguments,function*(){const ge=re.getReader();try{for(;;){const{value:Me,done:fe}=yield(0,h.qq)(ge.read());if(fe)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(Me)}}finally{ge.releaseLock()}})}function ee(re){return(0,J.m)(re?.getReader)}},9360:(lt,Ie,O)=>{O.d(Ie,{A:()=>J,e:()=>k});var h=O(4674);function J(ee){return(0,h.m)(ee?.lift)}function k(ee){return re=>{if(J(re))return re.lift(function(de){try{return ee(de,this)}catch(ge){this.error(ge)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(lt,Ie,O)=>{function h(){}O.d(Ie,{Z:()=>h})},8407:(lt,Ie,O)=>{O.d(Ie,{U:()=>k,z:()=>J});var h=O(2737);function J(...ee){return k(ee)}function k(ee){return 0===ee.length?h.y:1===ee.length?ee[0]:function(de){return ee.reduce((ge,Me)=>Me(ge),de)}}},3894:(lt,Ie,O)=>{O.d(Ie,{h:()=>k});var h=O(2653),J=O(7599);function k(ee){J.z.setTimeout(()=>{const{onUnhandledError:re}=h.config;if(!re)throw ee;re(ee)})}},9853:(lt,Ie,O)=>{function h(J){return new TypeError(`You provided ${null!==J&&"object"==typeof J?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(Ie,{z:()=>h})},655:(lt,Ie,O)=>{function ee(B,he){var _e={};for(var He in B)Object.prototype.hasOwnProperty.call(B,He)&&he.indexOf(He)<0&&(_e[He]=B[He]);if(null!=B&&"function"==typeof Object.getOwnPropertySymbols){var nt=0;for(He=Object.getOwnPropertySymbols(B);nt<He.length;nt++)he.indexOf(He[nt])<0&&Object.prototype.propertyIsEnumerable.call(B,He[nt])&&(_e[He[nt]]=B[He[nt]])}return _e}function Me(B,he,_e,He){return new(_e||(_e=Promise))(function(Ge,yt){function cn(Rn){try{Ft(He.next(Rn))}catch(Vr){yt(Vr)}}function or(Rn){try{Ft(He.throw(Rn))}catch(Vr){yt(Vr)}}function Ft(Rn){Rn.done?Ge(Rn.value):function nt(Ge){return Ge instanceof _e?Ge:new _e(function(yt){yt(Ge)})}(Rn.value).then(cn,or)}Ft((He=He.apply(B,he||[])).next())})}function $e(B){return this instanceof $e?(this.v=B,this):new $e(B)}function Re(B,he,_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var nt,He=_e.apply(B,he||[]),Ge=[];return nt={},yt("next"),yt("throw"),yt("return"),nt[Symbol.asyncIterator]=function(){return this},nt;function yt(wn){He[wn]&&(nt[wn]=function(Tt){return new Promise(function(en,dn){Ge.push([wn,Tt,en,dn])>1||cn(wn,Tt)})})}function cn(wn,Tt){try{!function or(wn){wn.value instanceof $e?Promise.resolve(wn.value.v).then(Ft,Rn):Vr(Ge[0][2],wn)}(He[wn](Tt))}catch(en){Vr(Ge[0][3],en)}}function Ft(wn){cn("next",wn)}function Rn(wn){cn("throw",wn)}function Vr(wn,Tt){wn(Tt),Ge.shift(),Ge.length&&cn(Ge[0][0],Ge[0][1])}}function ht(B){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _e,he=B[Symbol.asyncIterator];return he?he.call(B):(B=function Q(B){var he="function"==typeof Symbol&&Symbol.iterator,_e=he&&B[he],He=0;if(_e)return _e.call(B);if(B&&"number"==typeof B.length)return{next:function(){return B&&He>=B.length&&(B=void 0),{value:B&&B[He++],done:!B}}};throw new TypeError(he?"Object is not iterable.":"Symbol.iterator is not defined.")}(B),_e={},He("next"),He("throw"),He("return"),_e[Symbol.asyncIterator]=function(){return this},_e);function He(Ge){_e[Ge]=B[Ge]&&function(yt){return new Promise(function(cn,or){!function nt(Ge,yt,cn,or){Promise.resolve(or).then(function(Ft){Ge({value:Ft,done:cn})},yt)}(cn,or,(yt=B[Ge](yt)).done,yt.value)})}}}O.d(Ie,{FC:()=>Re,KL:()=>ht,_T:()=>ee,mG:()=>Me,qq:()=>$e})},5879:(lt,Ie,O)=>{O.d(Ie,{$8M:()=>Xo,$WT:()=>Ys,$Z:()=>Gd,AFp:()=>Of,AaK:()=>Q,BQk:()=>im,CHM:()=>Al,CRH:()=>_T,EJc:()=>T1,EiD:()=>X0,EpF:()=>rE,F4k:()=>sE,FYo:()=>PC,FiY:()=>na,GfV:()=>ww,Gpc:()=>Ke,HDt:()=>$m,JOm:()=>_f,JVY:()=>OA,JZr:()=>ht,KtG:()=>Jh,L6k:()=>Df,LAX:()=>q0,LFG:()=>bt,Lbi:()=>Ag,Lck:()=>Tm,MAs:()=>Jw,MMx:()=>WE,MR2:()=>lw,NdJ:()=>oE,Ojb:()=>Mg,OlP:()=>gn,Oqu:()=>yE,P3R:()=>ui,PXZ:()=>j1,Q6J:()=>sc,QGY:()=>iE,QbO:()=>bC,Qsj:()=>UA,R0b:()=>Ci,RDi:()=>xA,Rgc:()=>hh,SBq:()=>Vf,Sil:()=>UI,Suo:()=>vT,TTD:()=>Oa,TgZ:()=>Yt,Tol:()=>oh,Udp:()=>zu,VKq:()=>w_,VuI:()=>sx,X6Q:()=>z1,XFs:()=>pt,Xpm:()=>al,Xq5:()=>Hw,Xts:()=>Eg,Y36:()=>zd,YKP:()=>y_,YNc:()=>Yw,Yjl:()=>Fc,Yz7:()=>hn,Z0I:()=>Gn,ZZ4:()=>a0,_Bn:()=>GE,_UZ:()=>oc,_Vd:()=>ho,_c5:()=>LR,_uU:()=>t_,aQg:()=>u0,c2e:()=>ph,cJS:()=>Mi,cg1:()=>pm,d8E:()=>a_,dDg:()=>L1,dqk:()=>rn,eBb:()=>lC,eFA:()=>YI,eJc:()=>k_,ekj:()=>Qv,eoX:()=>WT,f3M:()=>Ot,g9A:()=>pw,h0i:()=>Yu,hGG:()=>J1,hij:()=>rr,iGM:()=>bI,ifc:()=>Se,ip1:()=>H_,jDz:()=>v_,kL8:()=>SE,lG2:()=>Da,lqb:()=>is,lri:()=>qT,mCW:()=>Tf,n5z:()=>Jo,oAB:()=>hu,oJD:()=>ew,oxw:()=>sm,pB0:()=>cC,q3G:()=>Kl,q4F:()=>Ew,qFp:()=>QR,qLn:()=>Hd,qOj:()=>Ka,qZA:()=>ln,qzn:()=>Wl,rWj:()=>Y_,rg0:()=>Il,sBO:()=>nS,s_b:()=>Qu,soG:()=>gh,tb:()=>ZI,tp0:()=>Mu,uIk:()=>qw,vHH:()=>ie,vpe:()=>tu,wAp:()=>lp,xp6:()=>Es,ynx:()=>rm,z2F:()=>_h,z3N:()=>oi,zSh:()=>uv,zs3:()=>os});var h=O(8645),J=O(7394),k=O(5619),ee=O(5592),re=O(3019),de=O(2096),ge=O(3020),Me=O(4664),fe=O(3997);function U(s){for(let o in s)if(s[o]===U)return o;throw Error("Could not find renamed property on target object.")}function z(s,o){for(const u in o)o.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=o[u])}function Q(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Q).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function ke(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const Te=U({__forward_ref__:U});function Ke(s){return s.__forward_ref__=Ke,s.toString=function(){return Q(this())},s}function xe(s){return $e(s)?s():s}function $e(s){return"function"==typeof s&&s.hasOwnProperty(Te)&&s.__forward_ref__===Ke}function Re(s){return s&&!!s.\u0275providers}const ht="https://g.co/ng/security#xss";class ie extends Error{constructor(o,u){super(function we(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,u)),this.code=o}}function te(s){return"string"==typeof s?s:null==s?"":String(s)}function he(s,o){throw new ie(-201,!1)}function dn(s,o){null==s&&function wt(s,o,u,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${u} ${c} ${o} <=Actual]`))}(o,s,null,"!=")}function hn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Mi(s){return{providers:s.providers||[],imports:s.imports||[]}}function Ws(s){return Co(s,pi)||Co(s,Ks)}function Gn(s){return null!==Ws(s)}function Co(s,o){return s.hasOwnProperty(o)?s[o]:null}function To(s){return s&&(s.hasOwnProperty(gi)||s.hasOwnProperty(uu))?s[gi]:null}const pi=U({\u0275prov:U}),gi=U({\u0275inj:U}),Ks=U({ngInjectableDef:U}),uu=U({ngInjectorDef:U});var pt=function(s){return s[s.Default=0]="Default",s[s.Host=1]="Host",s[s.Self=2]="Self",s[s.SkipSelf=4]="SkipSelf",s[s.Optional=8]="Optional",s}(pt||{});let Ht;function fn(s){const o=Ht;return Ht=s,o}function Cn(s,o,u){const c=Ws(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:u&pt.Optional?null:void 0!==o?o:void he(Q(s))}const rn=globalThis,Xr={},qn="__NG_DI_FLAG__",Ni="ngTempTokenPath",$=/\n/gm,K="__source";let Ee;function Ye(s){const o=Ee;return Ee=s,o}function St(s,o=pt.Default){if(void 0===Ee)throw new ie(-203,!1);return null===Ee?Cn(s,void 0,o):Ee.get(s,o&pt.Optional?null:void 0,o)}function bt(s,o=pt.Default){return(function Rt(){return Ht}()||St)(xe(s),o)}function Ot(s,o=pt.Default){return bt(s,On(o))}function On(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function qt(s){const o=[];for(let u=0;u<s.length;u++){const c=xe(s[u]);if(Array.isArray(c)){if(0===c.length)throw new ie(900,!1);let d,g=pt.Default;for(let v=0;v<c.length;v++){const I=c[v],C=hs(I);"number"==typeof C?-1===C?d=I.token:g|=C:d=I}o.push(bt(d,g))}else o.push(bt(c))}return o}function Xn(s,o){return s[qn]=o,s.prototype[qn]=o,s}function hs(s){return s[qn]}function ce(s){return{toString:s}.toString()}var ne=function(s){return s[s.OnPush=0]="OnPush",s[s.Default=1]="Default",s}(ne||{}),Se=function(s){return s[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",s}(Se||{});const it={},qe=[],Pt=U({\u0275cmp:U}),Jt=U({\u0275dir:U}),Wn=U({\u0275pipe:U}),Kn=U({\u0275mod:U}),br=U({\u0275fac:U}),fs=U({__NG_ELEMENT_ID__:U}),Ia=U({__NG_ENV_ID__:U});function Nc(s,o,u){let c=s.length;for(;;){const d=s.indexOf(o,u);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const g=o.length;if(d+g===c||s.charCodeAt(d+g)<=32)return d}u=d+1}}function Mo(s,o,u){let c=0;for(;c<u.length;){const d=u[c];if("number"==typeof d){if(0!==d)break;c++;const g=u[c++],v=u[c++],I=u[c++];s.setAttribute(o,v,I,g)}else{const g=d,v=u[++c];Oi(g)?s.setProperty(o,g,v):s.setAttribute(o,g,v),c++}}return c}function Rc(s){return 3===s||4===s||6===s}function Oi(s){return 64===s.charCodeAt(0)}function xo(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let u=-1;for(let c=0;c<o.length;c++){const d=o[c];"number"==typeof d?u=d:0===u||ba(s,u,d,null,-1===u||2===u?o[++c]:null)}}return s}function ba(s,o,u,c,d){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const I=s[g++];if("number"==typeof I){if(I===o){v=-1;break}if(I>o){v=g-1;break}}}for(;g<s.length;){const I=s[g];if("number"==typeof I)break;if(I===u){if(null===c)return void(null!==d&&(s[g+1]=d));if(c===s[g+1])return void(s[g+2]=d)}g++,null!==c&&g++,null!==d&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,u),null!==c&&s.splice(g++,0,c),null!==d&&s.splice(g++,0,d)}const Oc="ng-template";function Zn(s,o,u){let c=0,d=!0;for(;c<s.length;){let g=s[c++];if("string"==typeof g&&d){const v=s[c++];if(u&&"class"===g&&-1!==Nc(v.toLowerCase(),o,0))return!0}else{if(1===g){for(;c<s.length&&"string"==typeof(g=s[c++]);)if(g.toLowerCase()===o)return!0;return!1}"number"==typeof g&&(d=!1)}}return!1}function Ms(s){return 4===s.type&&s.value!==Oc}function my(s,o,u){return o===(4!==s.type||u?s.value:Oc)}function Fp(s,o,u){let c=4;const d=s.attrs||[],g=function yy(s){for(let o=0;o<s.length;o++)if(Rc(s[o]))return o;return s.length}(d);let v=!1;for(let I=0;I<o.length;I++){const C=o[I];if("number"!=typeof C){if(!v)if(4&c){if(c=2|1&c,""!==C&&!my(s,C,u)||""===C&&1===o.length){if(ei(c))return!1;v=!0}}else{const A=8&c?C:o[++I];if(8&c&&null!==s.attrs){if(!Zn(s.attrs,A,u)){if(ei(c))return!1;v=!0}continue}const L=Ca(8&c?"class":C,d,Ms(s),u);if(-1===L){if(ei(c))return!1;v=!0;continue}if(""!==A){let q;q=L>g?"":d[L+1].toLowerCase();const Y=8&c?q:null;if(Y&&-1!==Nc(Y,A,0)||2&c&&A!==q){if(ei(c))return!1;v=!0}}}}else{if(!v&&!ei(c)&&!ei(C))return!1;if(v&&ei(C))continue;v=!1,c=C|1&c}}return ei(c)||v}function ei(s){return 0==(1&s)}function Ca(s,o,u,c){if(null===o)return-1;let d=0;if(c||!u){let g=!1;for(;d<o.length;){const v=o[d];if(v===s)return d;if(3===v||6===v)g=!0;else{if(1===v||2===v){let I=o[++d];for(;"string"==typeof I;)I=o[++d];continue}if(4===v)break;if(0===v){d+=4;continue}}d+=g?1:2}return-1}return function No(s,o){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const c=s[u];if("number"==typeof c)return-1;if(c===o)return u;u++}return-1}(o,s)}function Pc(s,o,u=!1){for(let c=0;c<o.length;c++)if(Fp(s,o[c],u))return!0;return!1}function du(s,o){return s?":not("+o.trim()+")":o}function Ph(s){let o=s[0],u=1,c=2,d="",g=!1;for(;u<s.length;){let v=s[u];if("string"==typeof v)if(2&c){const I=s[++u];d+="["+v+(I.length>0?'="'+I+'"':"")+"]"}else 8&c?d+="."+v:4&c&&(d+=" "+v);else""!==d&&!ei(v)&&(o+=du(g,d),d=""),c=v,g=g||!ei(c);u++}return""!==d&&(o+=du(g,d)),o}function al(s){return ce(()=>{const o=Lc(s),u={...o,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===ne.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&s.dependencies||null,getStandaloneInjector:null,signals:s.signals??!1,data:s.data||{},encapsulation:s.encapsulation||Se.Emulated,styles:s.styles||qe,_:null,schemas:s.schemas||null,tView:null,id:""};Vp(u);const c=s.dependencies;return u.directiveDefs=fu(c,!1),u.pipeDefs=fu(c,!0),u.id=function ki(s){let o=0;const u=[s.selectors,s.ngContentSelectors,s.hostVars,s.hostAttrs,s.consts,s.vars,s.decls,s.encapsulation,s.standalone,s.signals,s.exportAs,JSON.stringify(s.inputs),JSON.stringify(s.outputs),Object.getOwnPropertyNames(s.type.prototype),!!s.contentQueries,!!s.viewQuery].join("|");for(const d of u)o=Math.imul(31,o)+d.charCodeAt(0)<<0;return o+=2147483648,"c"+o}(u),u})}function kc(s){return Wt(s)||Ln(s)}function ul(s){return null!==s}function hu(s){return ce(()=>({type:s.type,bootstrap:s.bootstrap||qe,declarations:s.declarations||qe,imports:s.imports||qe,exports:s.exports||qe,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function ll(s,o){if(null==s)return it;const u={};for(const c in s)if(s.hasOwnProperty(c)){let d=s[c],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),u[d]=c,o&&(o[d]=g)}return u}function Da(s){return ce(()=>{const o=Lc(s);return Vp(o),o})}function Fc(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Wt(s){return s[Pt]||null}function Ln(s){return s[Jt]||null}function Ur(s){return s[Wn]||null}function Ys(s){const o=Wt(s)||Ln(s)||Ur(s);return null!==o&&o.standalone}function Br(s,o){const u=s[Kn]||null;if(!u&&!0===o)throw new Error(`Type ${Q(s)} does not have '\u0275mod' property.`);return u}function Lc(s){const o={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:o,inputTransforms:null,inputConfig:s.inputs||it,exportAs:s.exportAs||null,standalone:!0===s.standalone,signals:!0===s.signals,selectors:s.selectors||qe,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ll(s.inputs,o),outputs:ll(s.outputs)}}function Vp(s){s.features?.forEach(o=>o(s))}function fu(s,o){if(!s)return null;const u=o?Ur:kc;return()=>("function"==typeof s?s():s).map(c=>u(c)).filter(ul)}const Dn=0,Je=1,Et=2,En=3,jr=4,Ro=5,Cr=6,pu=7,Tn=8,xs=9,Ta=10,Dt=11,Dr=12,Up=13,Ns=14,In=15,Vc=16,Oo=17,cr=18,Rs=19,Os=20,Qs=21,Fi=22,dl=23,Po=24,jt=25,Sa=1,hl=2,dr=7,hr=9,Tr=11;function fr(s){return Array.isArray(s)&&"object"==typeof s[Sa]}function $r(s){return Array.isArray(s)&&!0===s[Sa]}function fl(s){return 0!=(4&s.flags)}function Fo(s){return s.componentOffset>-1}function mi(s){return 1==(1&s.flags)}function ti(s){return!!s.template}function Aa(s){return 0!=(512&s[Et])}function Lo(s,o){return s.hasOwnProperty(br)?s[br]:null}let zc=rn.WeakRef??class yl{constructor(o){this.ref=o}deref(){return this.ref}},vl=0,ps=null,Vo=!1;function Vn(s){const o=ps;return ps=s,o}class zp{constructor(){this.id=vl++,this.ref=function Na(s){return new zc(s)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[o,u]of this.producers){const c=u.producerNode.deref();if(null!=c&&u.atTrackingVersion===this.trackingVersion){if(c.producerPollStatus(u.seenValueVersion))return!0}else this.producers.delete(o),c?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const o=Vo;Vo=!0;try{for(const[u,c]of this.consumers){const d=c.consumerNode.deref();null!=d&&d.trackingVersion===c.atTrackingVersion?d.onConsumerDependencyMayHaveChanged():(this.consumers.delete(u),d?.producers.delete(this.id))}}finally{Vo=o}}producerAccessed(){if(Vo)throw new Error("");if(null===ps)return;let o=ps.producers.get(this.id);void 0===o?(o={consumerNode:ps.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:ps.trackingVersion},ps.producers.set(this.id,o),this.consumers.set(ps.id,o)):(o.seenValueVersion=this.valueVersion,o.atTrackingVersion=ps.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==ps?.consumerAllowSignalWrites}producerPollStatus(o){return this.valueVersion!==o||(this.onProducerUpdateValueVersion(),this.valueVersion!==o)}}let El=null;function Il(s){const o=Vn(null);try{return s()}finally{Vn(o)}}const Hh=()=>{};class zh extends zp{constructor(o,u,c){super(),this.watch=o,this.schedule=u,this.dirty=!1,this.cleanupFn=Hh,this.registerOnCleanup=d=>{this.cleanupFn=d},this.consumerAllowSignalWrites=c}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const o=Vn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Hh,this.watch(this.registerOnCleanup)}finally{Vn(o)}}cleanup(){this.cleanupFn()}}class Wp{constructor(o,u,c){this.previousValue=o,this.currentValue=u,this.firstChange=c}isFirstChange(){return this.firstChange}}function Oa(){return Gh}function Gh(s){return s.type.prototype.ngOnChanges&&(s.setInput=vu),Uo}function Uo(){const s=qh(this),o=s?.current;if(o){const u=s.previous;if(u===it)s.previous=o;else for(let c in o)u[c]=o[c];s.current=null,this.ngOnChanges(o)}}function vu(s,o,u,c){const d=this.declaredInputs[u],g=qh(s)||function bl(s,o){return s[qc]=o}(s,{previous:it,current:null}),v=g.current||(g.current={}),I=g.previous,C=I[d];v[d]=new Wp(C&&C.currentValue,o,I===it),s[c]=o}Oa.ngInherit=!0;const qc="__ngSimpleChanges__";function qh(s){return s[qc]||null}const Li=function(s,o,u){};function vn(s){for(;Array.isArray(s);)s=s[Dn];return s}function Dl(s,o){return vn(o[s])}function Gr(s,o){return vn(o[s.index])}function Wh(s,o){return s.data[o]}function Un(s,o){const u=o[s];return fr(u)?u:u[Dn]}function eo(s,o){return null==o?null:s[o]}function Zc(s){s[Oo]=0}function Yp(s){1024&s[Et]||(s[Et]|=1024,jo(s,1))}function Zh(s){1024&s[Et]&&(s[Et]&=-1025,jo(s,-1))}function jo(s,o){let u=s[En];if(null===u)return;u[Ro]+=o;let c=u;for(u=u[En];null!==u&&(1===o&&1===c[Ro]||-1===o&&0===c[Ro]);)u[Ro]+=o,c=u,u=u[En]}const Ct={lFrame:nf(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ho(){return Ct.bindingsEnabled}function pe(){return Ct.lFrame.lView}function Xt(){return Ct.lFrame.tView}function Al(s){return Ct.lFrame.contextLView=s,s[Tn]}function Jh(s){return Ct.lFrame.contextLView=null,s}function er(){let s=wu();for(;null!==s&&64===s.type;)s=s.parent;return s}function wu(){return Ct.lFrame.currentTNode}function Xi(s,o){const u=Ct.lFrame;u.currentTNode=s,u.isParent=o}function pr(){return Ct.lFrame.isParent}function Go(){Ct.lFrame.isParent=!1}function ks(){return Ct.lFrame.bindingIndex++}function gr(s){const o=Ct.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,u}function td(s,o){const u=Ct.lFrame;u.bindingIndex=u.bindingRootIndex=s,Xp(o)}function Xp(s){Ct.lFrame.currentDirectiveIndex=s}function qo(s){const o=Ct.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function ef(){return Ct.lFrame.currentQueryIndex}function nd(s){Ct.lFrame.currentQueryIndex=s}function by(s){const o=s[Je];return 2===o.type?o.declTNode:1===o.type?s[Cr]:null}function rd(s,o,u){if(u&pt.SkipSelf){let d=o,g=s;for(;!(d=d.parent,null!==d||u&pt.Host||(d=by(g),null===d||(g=g[Ns],10&d.type))););if(null===d)return!1;o=d,s=g}const c=Ct.lFrame=La();return c.currentTNode=o,c.lView=s,!0}function tf(s){const o=La(),u=s[Je];Ct.lFrame=o,o.currentTNode=u.firstChild,o.lView=s,o.tView=u,o.contextLView=s,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function La(){const s=Ct.lFrame,o=null===s?null:s.child;return null===o?nf(s):o}function nf(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function id(){const s=Ct.lFrame;return Ct.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const sd=id;function Iu(){const s=id();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function ri(){return Ct.lFrame.selectedIndex}function to(s){Ct.lFrame.selectedIndex=s}function kn(){const s=Ct.lFrame;return Wh(s.tView,s.selectedIndex)}let gs=!0;function no(){return gs}function ro(s){gs=s}function Va(s,o){for(let u=o.directiveStart,c=o.directiveEnd;u<c;u++){const g=s.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:I,ngAfterViewInit:C,ngAfterViewChecked:A,ngOnDestroy:R}=g;v&&(s.contentHooks??=[]).push(-u,v),I&&((s.contentHooks??=[]).push(u,I),(s.contentCheckHooks??=[]).push(u,I)),C&&(s.viewHooks??=[]).push(-u,C),A&&((s.viewHooks??=[]).push(u,A),(s.viewCheckHooks??=[]).push(u,A)),null!=R&&(s.destroyHooks??=[]).push(u,R)}}function io(s,o,u){ao(s,o,3,u)}function so(s,o,u,c){(3&s[Et])===u&&ao(s,o,u,c)}function oo(s,o){let u=s[Et];(3&u)===o&&(u&=8191,u+=1,s[Et]=u)}function ao(s,o,u,c){const g=c??-1,v=o.length-1;let I=0;for(let C=void 0!==c?65535&s[Oo]:0;C<v;C++)if("number"==typeof o[C+1]){if(I=o[C],null!=c&&I>=c)break}else o[C]<0&&(s[Oo]+=65536),(I<g||-1==g)&&(xt(s,u,o,C),s[Oo]=(4294901760&s[Oo])+C+2),C++}function Rr(s,o){Li(4,s,o);const u=Vn(null);try{o.call(s)}finally{Vn(u),Li(5,s,o)}}function xt(s,o,u,c){const d=u[c]<0,g=u[c+1],I=s[d?-u[c]:u[c]];d?s[Et]>>13<s[Oo]>>16&&(3&s[Et])===o&&(s[Et]+=8192,Rr(I,g)):Rr(I,g)}const Ui=-1;class Or{constructor(o,u,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=c}}function ud(s){return s!==Ui}function Wo(s){return 32767&s}function ts(s,o){let u=function Ty(s){return s>>16}(s),c=o;for(;u>0;)c=c[Ns],u--;return c}let Bi=!0;function Ko(s){const o=Bi;return Bi=s,o}const uo=255,Rl=5;let eg=0;const ji={};function Ol(s,o){const u=cd(s,o);if(-1!==u)return u;const c=o[Je];c.firstCreatePass&&(s.injectorIndex=o.length,Ba(c.data,s),Ba(o,null),Ba(c.blueprint,null));const d=Zo(s,o),g=s.injectorIndex;if(ud(d)){const v=Wo(d),I=ts(d,o),C=I[Je].data;for(let A=0;A<8;A++)o[g+A]=I[v+A]|C[v+A]}return o[g+8]=d,g}function Ba(s,o){s.push(0,0,0,0,0,0,0,0,o)}function cd(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Zo(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,c=null,d=o;for(;null!==d;){if(c=Su(d),null===c)return Ui;if(u++,d=d[Ns],-1!==c.injectorIndex)return c.injectorIndex|u<<16}return Ui}function Cu(s,o,u){!function ld(s,o,u){let c;"string"==typeof u?c=u.charCodeAt(0)||0:u.hasOwnProperty(fs)&&(c=u[fs]),null==c&&(c=u[fs]=eg++);const d=c&uo;o.data[s+(d>>Rl)]|=1<<d}(s,o,u)}function Yo(s,o,u){if(u&pt.Optional||void 0!==s)return s;he()}function dd(s,o,u,c){if(u&pt.Optional&&void 0===c&&(c=null),!(u&(pt.Self|pt.Host))){const d=s[xs],g=fn(void 0);try{return d?d.get(o,c,u&pt.Optional):Cn(o,c,u&pt.Optional)}finally{fn(g)}}return Yo(c,0,u)}function hd(s,o,u,c=pt.Default,d){if(null!==s){if(2048&o[Et]&&!(c&pt.Self)){const v=function Tu(s,o,u,c,d){let g=s,v=o;for(;null!==g&&null!==v&&2048&v[Et]&&!(512&v[Et]);){const I=Du(g,v,u,c|pt.Self,ji);if(I!==ji)return I;let C=g.parent;if(!C){const A=v[Os];if(A){const R=A.get(u,ji,c);if(R!==ji)return R}C=Su(v),v=v[Ns]}g=C}return d}(s,o,u,c,ji);if(v!==ji)return v}const g=Du(s,o,u,c,ji);if(g!==ji)return g}return dd(o,u,c,d)}function Du(s,o,u,c,d){const g=function pd(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(fs)?s[fs]:void 0;return"number"==typeof o?o>=0?o&uo:Pl:o}(u);if("function"==typeof g){if(!rd(o,s,c))return c&pt.Host?Yo(d,0,c):dd(o,u,c,d);try{let v;if(v=g(c),null!=v||c&pt.Optional)return v;he()}finally{sd()}}else if("number"==typeof g){let v=null,I=cd(s,o),C=Ui,A=c&pt.Host?o[In][Cr]:null;for((-1===I||c&pt.SkipSelf)&&(C=-1===I?Zo(s,o):o[I+8],C!==Ui&&Qo(c,!1)?(v=o[Je],I=Wo(C),o=ts(C,o)):I=-1);-1!==I;){const R=o[Je];if(ja(g,I,R.data)){const L=df(I,o,u,v,c,A);if(L!==ji)return L}C=o[I+8],C!==Ui&&Qo(c,o[Je].data[I+8]===A)&&ja(g,I,o)?(v=R,I=Wo(C),o=ts(C,o)):I=-1}}return d}function df(s,o,u,c,d,g){const v=o[Je],I=v.data[s+8],R=fd(I,v,u,null==c?Fo(I)&&Bi:c!=v&&0!=(3&I.type),d&pt.Host&&g===I);return null!==R?ms(o,v,R,I):ji}function fd(s,o,u,c,d){const g=s.providerIndexes,v=o.data,I=1048575&g,C=s.directiveStart,R=g>>20,q=d?I+R:s.directiveEnd;for(let Y=c?I:I+R;Y<q;Y++){const ye=v[Y];if(Y<C&&u===ye||Y>=C&&ye.type===u)return Y}if(d){const Y=v[C];if(Y&&ti(Y)&&Y.type===u)return C}return null}function ms(s,o,u,c){let d=s[u];const g=o.data;if(function ad(s){return s instanceof Or}(d)){const v=d;v.resolving&&function Ne(s,o){const u=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new ie(-200,`Circular dependency in DI detected for ${s}${u}`)}(function be(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():te(s)}(g[u]));const I=Ko(v.canSeeViewProviders);v.resolving=!0;const A=v.injectImpl?fn(v.injectImpl):null;rd(s,c,pt.Default);try{d=s[u]=v.factory(void 0,g,s,c),o.firstCreatePass&&u>=c.directiveStart&&function bu(s,o,u){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:g}=o.type.prototype;if(c){const v=Gh(o);(u.preOrderHooks??=[]).push(s,v),(u.preOrderCheckHooks??=[]).push(s,v)}d&&(u.preOrderHooks??=[]).push(0-s,d),g&&((u.preOrderHooks??=[]).push(s,g),(u.preOrderCheckHooks??=[]).push(s,g))}(u,g[u],o)}finally{null!==A&&fn(A),Ko(I),v.resolving=!1,sd()}}return d}function ja(s,o,u){return!!(u[o+(s>>Rl)]&1<<s)}function Qo(s,o){return!(s&pt.Self||s&pt.Host&&o)}class Yn{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,c){return hd(this._tNode,this._lView,o,On(c),u)}}function Pl(){return new Yn(er(),pe())}function Jo(s){return ce(()=>{const o=s.prototype.constructor,u=o[br]||Ls(o),c=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==c;){const g=d[br]||Ls(d);if(g&&g!==u)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function Ls(s){return $e(s)?()=>{const o=Ls(xe(s));return o&&o()}:Lo(s)}function Su(s){const o=s[Je],u=o.type;return 2===u?o.declTNode:1===u?s[Cr]:null}function Xo(s){return function cf(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const u=s.attrs;if(u){const c=u.length;let d=0;for(;d<c;){const g=u[d];if(Rc(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<c&&"string"==typeof u[d];)d++;else{if(g===o)return u[d+1];d+=2}}}return null}(er(),s)}const $i="__parameters__";function yi(s,o,u){return ce(()=>{const c=function kl(s){return function(...u){if(s){const c=s(...u);for(const d in c)this[d]=c[d]}}}(o);function d(...g){if(this instanceof d)return c.apply(this,g),this;const v=new d(...g);return I.annotation=v,I;function I(C,A,R){const L=C.hasOwnProperty($i)?C[$i]:Object.defineProperty(C,$i,{value:[]})[$i];for(;L.length<=R;)L.push(null);return(L[R]=L[R]||[]).push(v),C}}return u&&(d.prototype=Object.create(u.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}function G(s,o){s.forEach(u=>Array.isArray(u)?G(u,o):o(u))}function Z(s,o,u){o>=s.length?s.push(u):s.splice(o,0,u)}function ue(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function an(s,o,u){let c=Hi(s,o);return c>=0?s[1|c]=u:(c=~c,function At(s,o,u,c){let d=s.length;if(d==o)s.push(u,c);else if(1===d)s.push(c,s[0]),s[0]=u;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=u,s[o+1]=c}}(s,c,o,u)),c}function jn(s,o){const u=Hi(s,o);if(u>=0)return s[1|u]}function Hi(s,o){return function ea(s,o,u){let c=0,d=s.length>>u;for(;d!==c;){const g=c+(d-c>>1),v=s[g<<u];if(o===v)return g<<u;v>o?d=g:c=g+1}return~(d<<u)}(s,o,1)}const na=Xn(yi("Optional"),8),Mu=Xn(yi("SkipSelf"),4);function vf(s){return 128==(128&s.flags)}var _f=function(s){return s[s.Important=1]="Important",s[s.DashCase=2]="DashCase",s}(_f||{});const ig=/^>|^->|<!--|-->|--!>|<!-$/g,wf=/(<|>)/,sg="\u200b$1\u200b";const og=new Map;let Dd=0;const Td="__ngContext__";function si(s,o){fr(o)?(s[Td]=o[Rs],function _i(s){og.set(s[Rs],s)}(o)):s[Td]=o}let Pu;function Ad(s,o){return Pu(s,o)}function Hl(s){const o=s[En];return $r(o)?o[En]:o}function zl(s){return Qy(s[Dr])}function cg(s){return Qy(s[jr])}function Qy(s){for(;null!==s&&!$r(s);)s=s[jr];return s}function _(s,o,u,c,d){if(null!=c){let g,v=!1;$r(c)?g=c:fr(c)&&(v=!0,c=c[Dn]);const I=vn(c);0===s&&null!==u?null==d?ev(o,u,I):ra(o,u,I,d||null,!0):1===s&&null!==u?ra(o,u,I,d||null,!0):2===s?function ws(s,o,u){const c=It(s,o);c&&function hg(s,o,u,c){s.removeChild(o,u,c)}(s,c,o,u)}(o,I,v):3===s&&o.destroyNode(I),null!=g&&function ql(s,o,u,c,d){const g=u[dr];g!==vn(u)&&_(o,s,c,g,d);for(let I=Tr;I<u.length;I++){const C=u[I];ve(C[Je],C,s,o,c,g)}}(o,s,g,u,d)}}function E(s,o){return s.createComment(function Ef(s){return s.replace(ig,o=>o.replace(wf,sg))}(o))}function S(s,o,u){return s.createElement(o,u)}function st(s,o){const u=s[hr],c=u.indexOf(o);Zh(o),u.splice(c,1)}function Sn(s,o){if(s.length<=Tr)return;const u=Tr+o,c=s[u];if(c){const d=c[Vc];null!==d&&d!==s&&st(d,c),o>0&&(s[u-1][jr]=c[jr]);const g=ue(s,Tr+o);!function N(s,o){ve(s,o,o[Dt],2,null,null),o[Dn]=null,o[Cr]=null}(c[Je],c);const v=g[cr];null!==v&&v.detachView(g[Je]),c[En]=null,c[jr]=null,c[Et]&=-129}return c}function _s(s,o){if(!(256&o[Et])){const u=o[Dt];o[dl]?.destroy(),o[Po]?.destroy(),u.destroyNode&&ve(s,o,u,3,null,null),function Ae(s){let o=s[Dr];if(!o)return Md(s[Je],s);for(;o;){let u=null;if(fr(o))u=o[Dr];else{const c=o[Tr];c&&(u=c)}if(!u){for(;o&&!o[jr]&&o!==s;)fr(o)&&Md(o[Je],o),o=o[En];null===o&&(o=s),fr(o)&&Md(o[Je],o),u=o&&o[jr]}o=u}}(o)}}function Md(s,o){if(!(256&o[Et])){o[Et]&=-129,o[Et]|=256,function Jy(s,o){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let c=0;c<u.length;c+=2){const d=o[u[c]];if(!(d instanceof Or)){const g=u[c+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const I=d[g[v]],C=g[v+1];Li(4,I,C);try{C.call(I)}finally{Li(5,I,C)}}else{Li(4,d,g);try{g.call(d)}finally{Li(5,d,g)}}}}}(s,o),function B0(s,o){const u=s.cleanup,c=o[pu];if(null!==u)for(let g=0;g<u.length-1;g+=2)if("string"==typeof u[g]){const v=u[g+3];v>=0?c[v]():c[-v].unsubscribe(),g+=2}else u[g].call(c[u[g+1]]);null!==c&&(o[pu]=null);const d=o[Qs];if(null!==d){o[Qs]=null;for(let g=0;g<d.length;g++)(0,d[g])()}}(s,o),1===o[Je].type&&o[Dt].destroy();const u=o[Vc];if(null!==u&&$r(o[En])){u!==o[En]&&st(u,o);const c=o[cr];null!==c&&c.detachView(s)}!function If(s){og.delete(s[Rs])}(o)}}function dg(s,o,u){return function Xy(s,o,u){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return u[Dn];{const{componentOffset:d}=c;if(d>-1){const{encapsulation:g}=s.data[c.directiveStart+d];if(g===Se.None||g===Se.Emulated)return null}return Gr(c,u)}}(s,o.parent,u)}function ra(s,o,u,c,d){s.insertBefore(o,u,c,d)}function ev(s,o,u){s.appendChild(o,u)}function ns(s,o,u,c,d){null!==c?ra(s,o,u,c,d):ev(s,o,u)}function It(s,o){return s.parentNode(o)}let rs,Cf,z0,Nd,tv=function sC(s,o,u){return 40&s.type?Gr(s,u):null};function bf(s,o,u,c){const d=dg(s,c,o),g=o[Dt],I=function Gl(s,o,u){return tv(s,o,u)}(c.parent||o[Cr],c,o);if(null!=d)if(Array.isArray(u))for(let C=0;C<u.length;C++)ns(g,d,u[C],I,!1);else ns(g,d,u,I,!1);void 0!==rs&&rs(g,c,o,u,d)}function pg(s,o){if(null!==o){const u=o.type;if(3&u)return Gr(o,s);if(4&u)return $0(-1,s[o.index]);if(8&u){const c=o.child;if(null!==c)return pg(s,c);{const d=s[o.index];return $r(d)?$0(-1,d):vn(d)}}if(32&u)return Ad(o,s)()||vn(s[o.index]);{const c=gg(s,o);return null!==c?Array.isArray(c)?c[0]:pg(Hl(s[In]),c):pg(s,o.next)}}return null}function gg(s,o){return null!==o?s[In][Cr].projection[o.projection]:null}function $0(s,o){const u=Tr+s+1;if(u<o.length){const c=o[u],d=c[Je].firstChild;if(null!==d)return pg(c,d)}return o[dr]}function H0(s,o,u,c,d,g,v){for(;null!=u;){const I=c[u.index],C=u.type;if(v&&0===o&&(I&&si(vn(I),c),u.flags|=2),32!=(32&u.flags))if(8&C)H0(s,o,u.child,c,d,g,!1),_(o,s,d,I,g);else if(32&C){const A=Ad(u,c);let R;for(;R=A();)_(o,s,d,R,g);_(o,s,d,I,g)}else 16&C?mg(s,o,c,u,d,g):_(o,s,d,I,g);u=v?u.projectionNext:u.next}}function ve(s,o,u,c,d,g){H0(u,c,s.firstChild,o,d,g,!1)}function mg(s,o,u,c,d,g){const v=u[In],C=v[Cr].projection[c.projection];if(Array.isArray(C))for(let A=0;A<C.length;A++)_(o,s,d,C[A],g);else{let A=C;const R=v[En];vf(c)&&(A.flags|=128),H0(s,o,A,R,d,g,!0)}}function co(s,o,u){""===u?s.removeAttribute(o,"class"):s.setAttribute(o,"class",u)}function tt(s,o,u){const{mergedAttrs:c,classes:d,styles:g}=u;null!==c&&Mo(s,o,c),null!==d&&co(s,o,d),null!==g&&function SA(s,o,u){s.setAttribute(o,"style",u)}(s,o,g)}function ku(s){return function Lt(){if(void 0===Cf&&(Cf=null,rn.trustedTypes))try{Cf=rn.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Cf}()?.createHTML(s)||s}function xA(s){z0=s}function Sr(){if(void 0!==z0)return z0;if(typeof document<"u")return document;throw new ie(210,!1)}function Pr(){if(void 0===Nd&&(Nd=null,rn.trustedTypes))try{Nd=rn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Nd}function Fu(s){return Pr()?.createHTML(s)||s}function G0(s){return Pr()?.createScriptURL(s)||s}class Lu{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ht})`}}class uC extends Lu{getTypeName(){return"HTML"}}class Gi extends Lu{getTypeName(){return"Style"}}class NA extends Lu{getTypeName(){return"Script"}}class vg extends Lu{getTypeName(){return"URL"}}class nv extends Lu{getTypeName(){return"ResourceURL"}}function oi(s){return s instanceof Lu?s.changingThisBreaksApplicationSecurity:s}function Wl(s,o){const u=function RA(s){return s instanceof Lu&&s.getTypeName()||null}(s);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see ${ht})`)}return u===o}function OA(s){return new uC(s)}function Df(s){return new Gi(s)}function lC(s){return new NA(s)}function q0(s){return new vg(s)}function cC(s){return new nv(s)}class hC{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const u=(new window.DOMParser).parseFromString(ku(o),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(o):(u.removeChild(u.firstChild),u)}catch{return null}}}class W0{constructor(o){this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(o){const u=this.inertDocument.createElement("template");return u.innerHTML=ku(o),u}}const Z0=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Tf(s){return(s=String(s)).match(Z0)?s:"unsafe:"+s}function ia(s){const o={};for(const u of s.split(","))o[u]=!0;return o}function Sf(...s){const o={};for(const u of s)for(const c in u)u.hasOwnProperty(c)&&(o[c]=!0);return o}const fC=ia("area,br,col,hr,img,wbr"),Af=ia("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),pC=ia("rp,rt"),Mf=Sf(fC,Sf(Af,ia("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Sf(pC,ia("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Sf(pC,Af)),_g=ia("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Y0=Sf(_g,ia("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ia("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),gC=ia("script,style,template");class iv{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let u=o.firstChild,c=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?c=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,c&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let d=this.checkClobberedElement(u,u.nextSibling);if(d){u=d;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(o){const u=o.nodeName.toLowerCase();if(!Mf.hasOwnProperty(u))return this.sanitizedSomething=!0,!gC.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const c=o.attributes;for(let d=0;d<c.length;d++){const g=c.item(d),v=g.name,I=v.toLowerCase();if(!Y0.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let C=g.value;_g[I]&&(C=Tf(C)),this.buf.push(" ",v,'="',sv(C),'"')}return this.buf.push(">"),!0}endElement(o){const u=o.nodeName.toLowerCase();Mf.hasOwnProperty(u)&&!fC.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(o){this.buf.push(sv(o))}checkClobberedElement(o,u){if(u&&(o.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return u}}const Q0=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,J0=/([^\#-~ |!])/g;function sv(s){return s.replace(/&/g,"&amp;").replace(Q0,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(J0,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let xf;function X0(s,o){let u=null;try{xf=xf||function dC(s){const o=new W0(s);return function K0(){try{return!!(new window.DOMParser).parseFromString(ku(""),"text/html")}catch{return!1}}()?new hC(o):o}(s);let c=o?String(o):"";u=xf.getInertBodyElement(c);let d=5,g=c;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,c=g,g=u.innerHTML,u=xf.getInertBodyElement(c)}while(c!==g);return ku((new iv).sanitizeChildren(ov(u)||u))}finally{if(u){const c=ov(u)||u;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function ov(s){return"content"in s&&function kA(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Kl=function(s){return s[s.NONE=0]="NONE",s[s.HTML=1]="HTML",s[s.STYLE=2]="STYLE",s[s.SCRIPT=3]="SCRIPT",s[s.URL=4]="URL",s[s.RESOURCE_URL=5]="RESOURCE_URL",s}(Kl||{});function ew(s){const o=wg();return o?Fu(o.sanitize(Kl.HTML,s)||""):Wl(s,"HTML")?Fu(oi(s)):X0(Sr(),te(s))}function nw(s){const o=wg();return o?o.sanitize(Kl.URL,s)||"":Wl(s,"URL")?oi(s):Tf(te(s))}function mC(s){const o=wg();if(o)return G0(o.sanitize(Kl.RESOURCE_URL,s)||"");if(Wl(s,"ResourceURL"))return G0(oi(s));throw new ie(904,!1)}function ui(s,o,u){return function ai(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?mC:nw}(o,u)(s)}function wg(){const s=pe();return s&&s[Ta].sanitizer}class gn{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=hn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Eg=new gn("ENVIRONMENT_INITIALIZER"),aw=new gn("INJECTOR",-1),vC=new gn("INJECTOR_DEF_TYPES");class uw{get(o,u=Xr){if(u===Xr){const c=new Error(`NullInjectorError: No provider for ${Q(o)}!`);throw c.name="NullInjectorError",c}return u}}function lw(s){return{\u0275providers:s}}function Ig(...s){return{\u0275providers:Nf(0,s),\u0275fromNgModule:!0}}function Nf(s,...o){const u=[],c=new Set;let d;const g=v=>{u.push(v)};return G(o,v=>{const I=v;bg(I,g,[],c)&&(d||=[],d.push(I))}),void 0!==d&&av(d,g),u}function av(s,o){for(let u=0;u<s.length;u++){const{ngModule:c,providers:d}=s[u];Rf(d,g=>{o(g,c)})}}function bg(s,o,u,c){if(!(s=xe(s)))return!1;let d=null,g=To(s);const v=!g&&Wt(s);if(g||v){if(v&&!v.standalone)return!1;d=s}else{const C=s.ngModule;if(g=To(C),!g)return!1;d=C}const I=c.has(d);if(v){if(I)return!1;if(c.add(d),v.dependencies){const C="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const A of C)bg(A,o,u,c)}}else{if(!g)return!1;{if(null!=g.imports&&!I){let A;c.add(d);try{G(g.imports,R=>{bg(R,o,u,c)&&(A||=[],A.push(R))})}finally{}void 0!==A&&av(A,o)}if(!I){const A=Lo(d)||(()=>new d);o({provide:d,useFactory:A,deps:qe},d),o({provide:vC,useValue:d,multi:!0},d),o({provide:Eg,useValue:()=>bt(d),multi:!0},d)}const C=g.providers;if(null!=C&&!I){const A=s;Rf(C,R=>{o(R,A)})}}}return d!==s&&void 0!==s.providers}function Rf(s,o){for(let u of s)Re(u)&&(u=u.\u0275providers),Array.isArray(u)?Rf(u,o):o(u)}const cw=U({provide:String,useValue:U});function Cg(s){return null!==s&&"object"==typeof s&&cw in s}function sa(s){return"function"==typeof s}const uv=new gn("Set Injector scope."),Dg={},lv={};let hw;function cv(){return void 0===hw&&(hw=new uw),hw}class is{}class dv extends is{get destroyed(){return this._destroyed}constructor(o,u,c,d){super(),this.parent=u,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,hv(o,v=>this.processProvider(v)),this.records.set(aw,Od(void 0,this)),d.has("environment")&&this.records.set(is,Od(void 0,this));const g=this.records.get(uv);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(vC.multi,qe,pt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const u of this._ngOnDestroyHooks)u.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const u of o)u()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(o){return this.assertNotDestroyed(),this._onDestroyHooks.push(o),()=>this.removeOnDestroy(o)}runInContext(o){this.assertNotDestroyed();const u=Ye(this),c=fn(void 0);try{return o()}finally{Ye(u),fn(c)}}get(o,u=Xr,c=pt.Default){if(this.assertNotDestroyed(),o.hasOwnProperty(Ia))return o[Ia](this);c=On(c);const g=Ye(this),v=fn(void 0);try{if(!(c&pt.SkipSelf)){let C=this.records.get(o);if(void 0===C){const A=function ss(s){return"function"==typeof s||"object"==typeof s&&s instanceof gn}(o)&&Ws(o);C=A&&this.injectableDefInScope(A)?Od(fw(o),Dg):null,this.records.set(o,C)}if(null!=C)return this.hydrate(o,C)}return(c&pt.Self?cv():this.parent).get(o,u=c&pt.Optional&&u===Xr?null:u)}catch(I){if("NullInjectorError"===I.name){if((I[Ni]=I[Ni]||[]).unshift(Q(o)),g)throw I;return function As(s,o,u,c){const d=s[Ni];throw o[K]&&d.unshift(o[K]),s.message=function cu(s,o,u,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let d=Q(o);if(Array.isArray(o))d=o.map(Q).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let I=o[v];g.push(v+":"+("string"==typeof I?JSON.stringify(I):Q(I)))}d=`{${g.join(", ")}}`}return`${u}${c?"("+c+")":""}[${d}]: ${s.replace($,"\n  ")}`}("\n"+s.message,d,u,c),s.ngTokenPath=d,s[Ni]=null,s}(I,o,"R3InjectorError",this.source)}throw I}finally{fn(v),Ye(g)}}resolveInjectorInitializers(){const o=Ye(this),u=fn(void 0);try{const d=this.get(Eg.multi,qe,pt.Self);for(const g of d)g()}finally{Ye(o),fn(u)}}toString(){const o=[],u=this.records;for(const c of u.keys())o.push(Q(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ie(205,!1)}processProvider(o){let u=sa(o=xe(o))?o:xe(o&&o.provide);const c=function EC(s){return Cg(s)?Od(void 0,s.useValue):Od(Tg(s),Dg)}(o);if(sa(o)||!0!==o.multi)this.records.get(u);else{let d=this.records.get(u);d||(d=Od(void 0,Dg,!0),d.factory=()=>qt(d.multi),this.records.set(u,d)),u=o,d.multi.push(o)}this.records.set(u,c)}hydrate(o,u){return u.value===Dg&&(u.value=lv,u.value=u.factory()),"object"==typeof u.value&&u.value&&function IC(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(o){if(!o.providedIn)return!1;const u=xe(o.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}removeOnDestroy(o){const u=this._onDestroyHooks.indexOf(o);-1!==u&&this._onDestroyHooks.splice(u,1)}}function fw(s){const o=Ws(s),u=null!==o?o.factory:Lo(s);if(null!==u)return u;if(s instanceof gn)throw new ie(204,!1);if(s instanceof Function)return function Rd(s){const o=s.length;if(o>0)throw function Ue(s,o){const u=[];for(let c=0;c<s;c++)u.push(o);return u}(o,"?"),new ie(204,!1);const u=function Do(s){return s&&(s[pi]||s[Ks])||null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new ie(204,!1)}function Tg(s,o,u){let c;if(sa(s)){const d=xe(s);return Lo(d)||fw(d)}if(Cg(s))c=()=>xe(s.useValue);else if(function _C(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...qt(s.deps||[]));else if(function dw(s){return!(!s||!s.useExisting)}(s))c=()=>bt(xe(s.useExisting));else{const d=xe(s&&(s.useClass||s.provide));if(!function Sg(s){return!!s.deps}(s))return Lo(d)||fw(d);c=()=>new d(...qt(s.deps))}return c}function Od(s,o,u=!1){return{factory:s,value:o,multi:u?[]:void 0}}function hv(s,o){for(const u of s)Array.isArray(u)?hv(u,o):u&&Re(u)?hv(u.\u0275providers,o):o(u)}const Of=new gn("AppId",{providedIn:"root",factory:()=>fv}),fv="ng",pw=new gn("Platform Initializer"),Ag=new gn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),bC=new gn("AnimationModuleType"),Mg=new gn("CSP nonce",{providedIn:"root",factory:()=>Sr().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let SC=(s,o,u)=>null;function gv(s,o,u=!1){return SC(s,o,u)}class xC{}class NC{}class kg{resolveComponentFactory(o){throw function VA(s){const o=Error(`No component factory found for ${Q(s)}.`);return o.ngComponent=s,o}(o)}}let ho=(()=>{class o{}return o.NULL=new kg,o})();function OC(){return Ud(er(),pe())}function Ud(s,o){return new Vf(Gr(s,o))}let Vf=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=OC,o})();function Uf(s){return s instanceof Vf?s.nativeElement:s}class PC{}let UA=(()=>{class o{constructor(){this.destroyNode=null}}return o.__NG_ELEMENT_ID__=()=>function kC(){const s=pe(),u=Un(er().index,s);return(fr(u)?u:s)[Dt]}(),o})(),BA=(()=>{var s;class o{}return(s=o).\u0275prov=hn({token:s,providedIn:"root",factory:()=>null}),o})();class ww{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Ew=new ww("16.2.2"),Fg={};function bw(s,o=null,u=null,c){const d=Bf(s,o,u,c);return d.resolveInjectorInitializers(),d}function Bf(s,o=null,u=null,c,d=new Set){const g=[u||qe,Ig(s)];return c=c||("object"==typeof s?void 0:Q(s)),new dv(g,o||cv(),c||null,d)}let os=(()=>{var s;class o{static create(c,d){if(Array.isArray(c))return bw({name:""},d,c,"");{const g=c.name??"";return bw({name:g},c.parent,c.providers,g)}}}return(s=o).THROW_IF_NOT_FOUND=Xr,s.NULL=new uw,s.\u0275prov=hn({token:s,providedIn:"any",factory:()=>bt(aw)}),s.__NG_ELEMENT_ID__=-1,o})();function qa(s){return s instanceof Function?s():s}let Iv=(()=>{var s;class o{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new ie(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const c of this.callbacks)c.invoke()}finally{this.runningCallbacks=!1;for(const c of this.deferredCallbacks)this.callbacks.add(c);this.deferredCallbacks.clear()}}register(c){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(c)}unregister(c){this.callbacks.delete(c),this.deferredCallbacks.delete(c)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(s=o).\u0275prov=hn({token:s,providedIn:"root",factory:()=>new s}),o})();function Ug(s){for(;s;){s[Et]|=64;const o=Hl(s);if(Aa(s)&&!o)return s;s=o}return null}function $d(s){return s.ngOriginalError}class Hd{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o);this._console.error("ERROR",o),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(o){let u=o&&$d(o);for(;u&&$d(u);)u=$d(u);return u||null}}const Tw=new gn("",{providedIn:"root",factory:()=>!1});class Yl extends zp{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(o){this._lView=o}onConsumerDependencyMayHaveChanged(){Ug(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(o,u,c){const d=Vn(this);this.trackingVersion++;try{o(u,c)}finally{Vn(d)}}destroy(){this.trackingVersion++}}let Hg=null;function xw(){return Hg??=new Yl,Hg}function Nw(s,o){return s[o]??xw()}function Rw(s,o){const u=xw();u.hasReadASignal&&(s[o]=Hg,u.lView=s,Hg=new Yl)}const Vt={};function Es(s){Ow(Xt(),pe(),ri()+s,!1)}function Ow(s,o,u,c){if(!c)if(3==(3&o[Et])){const g=s.preOrderCheckHooks;null!==g&&io(o,g,u)}else{const g=s.preOrderHooks;null!==g&&so(o,g,0,u)}to(u)}function zd(s,o=pt.Default){const u=pe();return null===u?bt(s,o):hd(er(),u,xe(s),o)}function Gd(){throw new Error("invalid")}function Is(s,o,u,c,d,g,v,I,C,A,R){const L=o.blueprint.slice();return L[Dn]=d,L[Et]=140|c,(null!==A||s&&2048&s[Et])&&(L[Et]|=2048),Zc(L),L[En]=L[Ns]=s,L[Tn]=u,L[Ta]=v||s&&s[Ta],L[Dt]=I||s&&s[Dt],L[xs]=C||s&&s[xs]||null,L[Cr]=g,L[Rs]=function L0(){return Dd++}(),L[Fi]=R,L[Os]=A,L[In]=2==o.type?s[In]:L,L}function Ql(s,o,u,c,d){let g=s.data[o];if(null===g)g=function mn(s,o,u,c,d){const g=wu(),v=pr(),C=s.data[o]=function Av(s,o,u,c,d,g){let v=o?o.injectorIndex:-1,I=0;return function ka(){return null!==Ct.skipHydrationRootTNode}()&&(I|=128),{type:u,index:c,insertBeforeIndex:null,injectorIndex:v,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:I,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,u,o,c,d);return null===s.firstChild&&(s.firstChild=C),null!==g&&(v?null==g.child&&null!==C.parent&&(g.child=C):null===g.next&&(g.next=C,C.prev=g)),C}(s,o,u,c,d),function Xc(){return Ct.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=u,g.value=c,g.attrs=d;const v=function Pn(){const s=Ct.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return Xi(g,!0),g}function zg(s,o,u,c){if(0===u)return-1;const d=o.length;for(let g=0;g<u;g++)o.push(c),s.blueprint.push(c),s.data.push(null);return d}function Cv(s,o,u,c,d){const g=Nw(o,dl),v=ri(),I=2&c;try{if(to(-1),I&&o.length>jt&&Ow(s,o,jt,!1),Li(I?2:0,d),I)g.runInContext(u,c,d);else{const A=Vn(null);try{u(c,d)}finally{Vn(A)}}}finally{I&&null===o[dl]&&Rw(o,dl),to(v),Li(I?3:1,d)}}function fo(s,o,u){if(fl(o)){const c=Vn(null);try{const g=o.directiveEnd;for(let v=o.directiveStart;v<g;v++){const I=s.data[v];I.contentQueries&&I.contentQueries(1,u[v],v)}}finally{Vn(c)}}}function Dv(s,o,u){Ho()&&(function $f(s,o,u,c){const d=u.directiveStart,g=u.directiveEnd;Fo(u)&&function go(s,o,u){const c=Gr(o,s),d=qd(u);let v=16;u.signals?v=4096:u.onPush&&(v=64);const I=_r(s,Is(s,d,null,v,c,o,null,s[Ta].rendererFactory.createRenderer(c,u),null,null,null));s[o.index]=I}(o,u,s.data[d+u.componentOffset]),s.firstCreatePass||Ol(u,o),si(c,o);const v=u.initialInputs;for(let I=d;I<g;I++){const C=s.data[I],A=ms(o,s,I,u);si(A,o),null!==v&&gt(0,I-d,A,C,0,v),ti(C)&&(Un(u.index,o)[Tn]=ms(o,s,I,u))}}(s,o,u,Gr(u,o)),64==(64&u.flags)&&Fw(s,o,u))}function Gg(s,o,u=Gr){const c=o.localNames;if(null!==c){let d=o.index+1;for(let g=0;g<c.length;g+=2){const v=c[g+1],I=-1===v?u(o,s):s[v];s[d++]=I}}}function qd(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=qg(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts,s.id):o}function qg(s,o,u,c,d,g,v,I,C,A,R){const L=jt+c,q=L+d,Y=function zC(s,o){const u=[];for(let c=0;c<o;c++)u.push(c<s?null:Vt);return u}(L,q),ye="function"==typeof A?A():A;return Y[Je]={type:s,blueprint:Y,template:u,queries:null,viewQuery:I,declTNode:o,data:Y.slice().fill(null,L),bindingStartIndex:L,expandoStartIndex:q,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:C,consts:ye,incompleteFirstPass:!1,ssrId:R}}let li=s=>null;function Pw(s,o,u,c){for(let d in s)if(s.hasOwnProperty(d)){u=null===u?{}:u;const g=s[d];null===c?Wd(u,o,d,g):c.hasOwnProperty(d)&&Wd(u,o,c[d],g)}return u}function Wd(s,o,u,c){s.hasOwnProperty(u)?s[u].push(o,c):s[u]=[o,c]}function as(s,o,u,c,d,g,v,I){const C=Gr(o,u);let R,A=o.inputs;!I&&null!=A&&(R=A[c])?(xv(s,u,R,c,d),Fo(o)&&function eM(s,o){const u=Un(o,s);16&u[Et]||(u[Et]|=64)}(u,o.index)):3&o.type&&(c=function XA(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),d=null!=v?v(d,o.value||"",c):d,g.setProperty(C,c,d))}function kw(s,o,u,c){if(Ho()){const d=null===c?null:{"":-1},g=function Hf(s,o){const u=s.directiveRegistry;let c=null,d=null;if(u)for(let g=0;g<u.length;g++){const v=u[g];if(Pc(o,v.selectors,!1))if(c||(c=[]),ti(v))if(null!==v.findHostDirectiveDefs){const I=[];d=d||new Map,v.findHostDirectiveDefs(v,I,d),c.unshift(...I,v),Wa(s,o,I.length)}else c.unshift(v),Wa(s,o,0);else d=d||new Map,v.findHostDirectiveDefs?.(v,c,d),c.push(v)}return null===c?null:[c,d]}(s,u);let v,I;null===g?v=I=null:[v,I]=g,null!==v&&Kg(s,o,u,v,d,I),d&&function Lw(s,o,u){if(o){const c=s.localNames=[];for(let d=0;d<o.length;d+=2){const g=u[o[d+1]];if(null==g)throw new ie(-301,!1);c.push(o[d],g)}}}(u,c,d)}u.mergedAttrs=xo(u.mergedAttrs,u.attrs)}function Kg(s,o,u,c,d,g){for(let A=0;A<c.length;A++)Cu(Ol(u,o),s,c[A].type);!function Pe(s,o,u){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+u,s.providerIndexes=o}(u,s.data.length,c.length);for(let A=0;A<c.length;A++){const R=c[A];R.providersResolver&&R.providersResolver(R)}let v=!1,I=!1,C=zg(s,o,c.length,null);for(let A=0;A<c.length;A++){const R=c[A];u.mergedAttrs=xo(u.mergedAttrs,R.hostAttrs),Ar(s,u,o,C,R),sM(C,R,d),null!==R.contentQueries&&(u.flags|=4),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(u.flags|=64);const L=R.type.prototype;!v&&(L.ngOnChanges||L.ngOnInit||L.ngDoCheck)&&((s.preOrderHooks??=[]).push(u.index),v=!0),!I&&(L.ngOnChanges||L.ngDoCheck)&&((s.preOrderCheckHooks??=[]).push(u.index),I=!0),C++}!function JA(s,o,u){const d=o.directiveEnd,g=s.data,v=o.attrs,I=[];let C=null,A=null;for(let R=o.directiveStart;R<d;R++){const L=g[R],q=u?u.get(L):null,ye=q?q.outputs:null;C=Pw(L.inputs,R,C,q?q.inputs:null),A=Pw(L.outputs,R,A,ye);const Oe=null===C||null===v||Ms(o)?null:Xe(C,R,v);I.push(Oe)}null!==C&&(C.hasOwnProperty("class")&&(o.flags|=8),C.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=I,o.inputs=C,o.outputs=A}(s,u,g)}function Fw(s,o,u){const c=u.directiveStart,d=u.directiveEnd,g=u.index,v=function Xh(){return Ct.lFrame.currentDirectiveIndex}();try{to(g);for(let I=c;I<d;I++){const C=s.data[I],A=o[I];Xp(I),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&ci(C,A)}}finally{to(-1),Xp(v)}}function ci(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Wa(s,o,u){o.componentOffset=u,(s.components??=[]).push(o.index)}function sM(s,o,u){if(u){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)u[o.exportAs[c]]=s;ti(o)&&(u[""]=s)}}function Ar(s,o,u,c,d){s.data[c]=d;const g=d.factory||(d.factory=Lo(d.type)),v=new Or(g,ti(d),zd);s.blueprint[c]=v,u[c]=v,function rM(s,o,u,c,d){const g=d.hostBindings;if(g){let v=s.hostBindingOpCodes;null===v&&(v=s.hostBindingOpCodes=[]);const I=~o.index;(function iM(s){let o=s.length;for(;o>0;){const u=s[--o];if("number"==typeof u&&u<0)return u}return 0})(v)!=I&&v.push(I),v.push(u,c,g)}}(s,o,c,zg(s,u,d.hostVars,Vt),d)}function mo(s,o,u,c,d,g){const v=Gr(s,o);!function ot(s,o,u,c,d,g,v){if(null==g)s.removeAttribute(o,d,u);else{const I=null==v?te(g):v(g,c||"",d);s.setAttribute(o,d,I,u)}}(o[Dt],v,g,s.value,u,c,d)}function gt(s,o,u,c,d,g){const v=g[o];if(null!==v)for(let I=0;I<v.length;)GC(c,u,v[I++],v[I++],v[I++])}function GC(s,o,u,c,d){const g=Vn(null);try{const v=s.inputTransforms;null!==v&&v.hasOwnProperty(c)&&(d=v[c].call(o,d)),null!==s.setInput?s.setInput(o,d,u,c):o[c]=d}finally{Vn(g)}}function Xe(s,o,u){let c=null,d=0;for(;d<u.length;){const g=u[d];if(0!==g)if(5!==g){if("number"==typeof g)break;if(s.hasOwnProperty(g)){null===c&&(c=[]);const v=s[g];for(let I=0;I<v.length;I+=2)if(v[I]===o){c.push(g,v[I+1],u[d+1]);break}}d+=2}else d+=2;else d+=4}return c}function le(s,o,u,c){return[s,!0,!1,o,null,0,c,u,null,null,null]}function Ce(s,o){const u=s.contentQueries;if(null!==u)for(let c=0;c<u.length;c+=2){const g=u[c+1];if(-1!==g){const v=s.data[g];nd(u[c]),v.contentQueries(2,o[g],g)}}}function _r(s,o){return s[Dr]?s[Up][jr]=o:s[Dr]=o,s[Up]=o,o}function Mv(s,o,u){nd(0);const c=Vn(null);try{o(s,u)}finally{Vn(c)}}function qC(s){return s[pu]||(s[pu]=[])}function WC(s){return s.cleanup||(s.cleanup=[])}function ZC(s,o){const u=s[xs],c=u?u.get(Hd,null):null;c&&c.handleError(o)}function xv(s,o,u,c,d){for(let g=0;g<u.length;){const v=u[g++],I=u[g++];GC(s.data[v],o[v],c,I,d)}}function gR(s,o){const u=Un(o,s),c=u[Je];!function oM(s,o){for(let u=o.length;u<s.blueprint.length;u++)o.push(s.blueprint[u])}(c,u);const d=u[Dn];null!==d&&null===u[Fi]&&(u[Fi]=gv(d,u[xs])),Nv(c,u,u[Tn])}function Nv(s,o,u){tf(o);try{const c=s.viewQuery;null!==c&&Mv(1,c,u);const d=s.template;null!==d&&Cv(s,o,d,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Ce(s,o),s.staticViewQueries&&Mv(2,s.viewQuery,u);const g=s.components;null!==g&&function $t(s,o){for(let u=0;u<o.length;u++)gR(s,o[u])}(o,g)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[Et]&=-5,Iu()}}let Kd=(()=>{var s;class o{constructor(){this.all=new Set,this.queue=new Map}create(c,d,g){const v=typeof Zone>"u"?null:Zone.current,I=new zh(c,R=>{this.all.has(R)&&this.queue.set(R,v)},g);let C;this.all.add(I),I.notify();const A=()=>{I.cleanup(),C?.(),this.all.delete(I),this.queue.delete(I)};return C=d?.onDestroy(A),{destroy:A}}flush(){if(0!==this.queue.size)for(const[c,d]of this.queue)this.queue.delete(c),d?d.run(()=>c.run()):c.run()}get isQueueEmpty(){return 0===this.queue.size}}return(s=o).\u0275prov=hn({token:s,providedIn:"root",factory:()=>new s}),o})();function Mn(s,o,u){let c=u?s.styles:null,d=u?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const I=o[v];"number"==typeof I?g=I:1==g?d=ke(d,I):2==g&&(c=ke(c,I+": "+o[++v]+";"))}u?s.styles=c:s.stylesWithoutHost=c,u?s.classes=d:s.classesWithoutHost=d}function ct(s,o,u,c,d=!1){for(;null!==u;){const g=o[u.index];if(null!==g&&c.push(vn(g)),$r(g)){for(let I=Tr;I<g.length;I++){const C=g[I],A=C[Je].firstChild;null!==A&&ct(C[Je],C,A,c)}g[dr]!==g[Dn]&&c.push(g[dr])}const v=u.type;if(8&v)ct(s,o,u.child,c);else if(32&v){const I=Ad(u,o);let C;for(;C=I();)c.push(C)}else if(16&v){const I=gg(o,u);if(Array.isArray(I))c.push(...I);else{const C=Hl(o[In]);ct(C[Je],C,I,c,!0)}}u=d?u.projectionNext:u.next}return c}function Jl(s,o,u,c=!0){const d=o[Ta],g=d.rendererFactory,v=d.afterRenderEventManager;g.begin?.(),v?.begin();try{nr(s,o,s.template,u)}catch(C){throw c&&ZC(o,C),C}finally{g.end?.(),d.effectManager?.flush(),v?.end()}}function nr(s,o,u,c){const d=o[Et];if(256!=(256&d)){o[Ta].effectManager?.flush(),tf(o);try{Zc(o),function Fa(s){return Ct.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&Cv(s,o,u,2,c);const v=3==(3&d);if(v){const A=s.preOrderCheckHooks;null!==A&&io(o,A,null)}else{const A=s.preOrderHooks;null!==A&&so(o,A,0,null),oo(o,0)}if(function Rv(s){for(let o=zl(s);null!==o;o=cg(o)){if(!o[hl])continue;const u=o[hr];for(let c=0;c<u.length;c++){Yp(u[c])}}}(o),Ze(o,2),null!==s.contentQueries&&Ce(s,o),v){const A=s.contentCheckHooks;null!==A&&io(o,A)}else{const A=s.contentHooks;null!==A&&so(o,A,1),oo(o,1)}!function QA(s,o){const u=s.hostBindingOpCodes;if(null===u)return;const c=Nw(o,Po);try{for(let d=0;d<u.length;d++){const g=u[d];if(g<0)to(~g);else{const v=g,I=u[++d],C=u[++d];td(I,v),c.runInContext(C,2,o[v])}}}finally{null===o[Po]&&Rw(o,Po),to(-1)}}(s,o);const I=s.components;null!==I&&QC(o,I,0);const C=s.viewQuery;if(null!==C&&Mv(2,C,c),v){const A=s.viewCheckHooks;null!==A&&io(o,A)}else{const A=s.viewHooks;null!==A&&so(o,A,2),oo(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[Et]&=-73,Zh(o)}finally{Iu()}}}function Ze(s,o){for(let u=zl(s);null!==u;u=cg(u))for(let c=Tr;c<u.length;c++)Xl(u[c],o)}function Vw(s,o,u){Xl(Un(o,s),u)}function Xl(s,o){if(!function Kh(s){return 128==(128&s[Et])}(s))return;const u=s[Je];if(80&s[Et]&&0===o||1024&s[Et]||2===o)nr(u,s,u.template,s[Tn]);else if(s[Ro]>0){Ze(s,1);const d=s[Je].components;null!==d&&QC(s,d,1)}}function QC(s,o,u){for(let c=0;c<o.length;c++)Vw(s,o[c],u)}class ec{get rootNodes(){const o=this._lView,u=o[Je];return ct(u,o,u.firstChild,[])}constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Tn]}set context(o){this._lView[Tn]=o}get destroyed(){return 256==(256&this._lView[Et])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[En];if($r(o)){const u=o[8],c=u?u.indexOf(this):-1;c>-1&&(Sn(o,c),ue(u,c))}this._attachedToViewContainer=!1}_s(this._lView[Je],this._lView)}onDestroy(o){!function $o(s,o){if(256==(256&s[Et]))throw new ie(911,!1);null===s[Qs]&&(s[Qs]=[]),s[Qs].push(o)}(this._lView,o)}markForCheck(){Ug(this._cdRefInjectingView||this._lView)}detach(){this._lView[Et]&=-129}reattach(){this._lView[Et]|=128}detectChanges(){Jl(this._lView[Je],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function X(s,o){ve(s,o,o[Dt],2,null,null)}(this._lView[Je],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new ie(902,!1);this._appRef=o}}class uM extends ec{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Jl(o[Je],o,o[Tn],!1)}checkNoChanges(){}get context(){return null}}class zf extends ho{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=Wt(o);return new Zd(u,this.ngModule)}}function Uw(s){const o=[];for(let u in s)s.hasOwnProperty(u)&&o.push({propName:s[u],templateName:u});return o}class Us{constructor(o,u){this.injector=o,this.parentInjector=u}get(o,u,c){c=On(c);const d=this.injector.get(o,Fg,c);return d!==Fg||u===Fg?d:this.parentInjector.get(o,u,c)}}class Zd extends NC{get inputs(){const o=this.componentDef,u=o.inputTransforms,c=Uw(o.inputs);if(null!==u)for(const d of c)u.hasOwnProperty(d.propName)&&(d.transform=u[d.propName]);return c}get outputs(){return Uw(this.componentDef.outputs)}constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=function kh(s){return s.map(Ph).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}create(o,u,c,d){let g=(d=d||this.ngModule)instanceof is?d:d?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new Us(o,g):o,I=v.get(PC,null);if(null===I)throw new ie(407,!1);const L={rendererFactory:I,sanitizer:v.get(BA,null),effectManager:v.get(Kd,null),afterRenderEventManager:v.get(Iv,null)},q=I.createRenderer(null,this.componentDef),Y=this.componentDef.selectors[0][0]||"div",ye=c?function Uu(s,o,u,c){const g=c.get(Tw,!1)||u===Se.ShadowDom,v=s.selectRootElement(o,g);return function po(s){li(s)}(v),v}(q,c,this.componentDef.encapsulation,v):S(q,Y,function JC(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(Y)),dt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let De=null;null!==ye&&(De=gv(ye,v,!0));const Ut=qg(0,null,null,1,0,null,null,null,null,null,null),Kt=Is(null,Ut,null,dt,null,null,L,q,v,null,De);let _n,Ti;tf(Kt);try{const el=this.componentDef;let bh,d0=null;el.findHostDirectiveDefs?(bh=[],d0=new Map,el.findHostDirectiveDefs(el,bh,d0),bh.push(el)):bh=[el];const Ch=function eD(s,o){const u=s[Je],c=jt;return s[c]=o,Ql(u,c,2,"#host",null)}(Kt,ye),bo=function tc(s,o,u,c,d,g,v){const I=d[Je];!function Bw(s,o,u,c){for(const d of s)o.mergedAttrs=xo(o.mergedAttrs,d.hostAttrs);null!==o.mergedAttrs&&(Mn(o,o.mergedAttrs,!0),null!==u&&tt(c,u,o))}(c,s,o,v);let C=null;null!==o&&(C=gv(o,d[xs]));const A=g.rendererFactory.createRenderer(o,u);let R=16;u.signals?R=4096:u.onPush&&(R=64);const L=Is(d,qd(u),null,R,d[s.index],s,g,A,null,null,C);return I.firstCreatePass&&Wa(I,s,c.length-1),_r(d,L),d[s.index]=L}(Ch,ye,el,bh,Kt,L,q);Ti=Wh(Ut,jt),ye&&function Ov(s,o,u,c){if(c)Mo(s,u,["ng-version",Ew.full]);else{const{attrs:d,classes:g}=function Pi(s){const o=[],u=[];let c=1,d=2;for(;c<s.length;){let g=s[c];if("string"==typeof g)2===d?""!==g&&o.push(g,s[++c]):8===d&&u.push(g);else{if(!ei(d))break;d=g}c++}return{attrs:o,classes:u}}(o.selectors[0]);d&&Mo(s,u,d),g&&g.length>0&&co(s,u,g.join(" "))}}(q,el,ye,c),void 0!==u&&function ua(s,o,u){const c=s.projection=[];for(let d=0;d<o.length;d++){const g=u[d];c.push(null!=g?Array.from(g):null)}}(Ti,this.ngContentSelectors,u),_n=function se(s,o,u,c,d,g){const v=er(),I=d[Je],C=Gr(v,d);Kg(I,d,v,u,null,c);for(let R=0;R<u.length;R++)si(ms(d,I,v.directiveStart+R,v),d);Fw(I,d,v),C&&si(C,d);const A=ms(d,I,v.directiveStart+v.componentOffset,v);if(s[Tn]=d[Tn]=A,null!==g)for(const R of g)R(A,o);return fo(I,v,s),A}(bo,el,bh,d0,Kt,[lM]),Nv(Ut,Kt,null)}finally{Iu()}return new XC(this.componentType,_n,Ud(Ti,Kt),Kt,Ti)}}class XC extends xC{constructor(o,u,c,d,g){super(),this.location=c,this._rootLView=d,this._tNode=g,this.previousInputValues=null,this.instance=u,this.hostView=this.changeDetectorRef=new uM(d),this.componentType=o}setInput(o,u){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[o])){if(this.previousInputValues??=new Map,this.previousInputValues.has(o)&&Object.is(this.previousInputValues.get(o),u))return;const g=this._rootLView;xv(g[Je],g,d,o,u),this.previousInputValues.set(o,u),Ug(Un(this._tNode.index,g))}}get injector(){return new Yn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function lM(){const s=er();Va(pe()[Je],s)}function Ka(s){let o=function Gf(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const c=[s];for(;o;){let d;if(ti(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new ie(903,!1);d=o.\u0275dir}if(d){if(u){c.push(d);const v=s;v.inputs=Za(s.inputs),v.inputTransforms=Za(s.inputTransforms),v.declaredInputs=Za(s.declaredInputs),v.outputs=Za(s.outputs);const I=d.hostBindings;I&&dM(s,I);const C=d.viewQuery,A=d.contentQueries;if(C&&tD(s,C),A&&jw(s,A),z(s.inputs,d.inputs),z(s.declaredInputs,d.declaredInputs),z(s.outputs,d.outputs),null!==d.inputTransforms&&(null===v.inputTransforms&&(v.inputTransforms={}),z(v.inputTransforms,d.inputTransforms)),ti(d)&&d.data.animation){const R=s.data;R.animation=(R.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let v=0;v<g.length;v++){const I=g[v];I&&I.ngInherit&&I(s),I===Ka&&(u=!1)}}o=Object.getPrototypeOf(o)}!function cM(s){let o=0,u=null;for(let c=s.length-1;c>=0;c--){const d=s[c];d.hostVars=o+=d.hostVars,d.hostAttrs=xo(d.hostAttrs,u=xo(u,d.hostAttrs))}}(c)}function Za(s){return s===it?{}:s===qe?[]:s}function tD(s,o){const u=s.viewQuery;s.viewQuery=u?(c,d)=>{o(c,d),u(c,d)}:o}function jw(s,o){const u=s.contentQueries;s.contentQueries=u?(c,d,g)=>{o(c,d,g),u(c,d,g)}:o}function dM(s,o){const u=s.hostBindings;s.hostBindings=u?(c,d)=>{o(c,d),u(c,d)}:o}function Hw(s){const o=s.inputConfig,u={};for(const c in o)if(o.hasOwnProperty(c)){const d=o[c];Array.isArray(d)&&d[2]&&(u[c]=d[2])}s.inputTransforms=u}function Qg(s){return!!Gw(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function Gw(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function qi(s,o,u){return!Object.is(s[o],u)&&(s[o]=u,!0)}function qw(s,o,u,c){const d=pe();return qi(d,ks(),o)&&(Xt(),mo(kn(),d,s,o,u,c)),qw}function Yw(s,o,u,c,d,g,v,I){const C=pe(),A=Xt(),R=s+jt,L=A.firstCreatePass?function oD(s,o,u,c,d,g,v,I,C){const A=o.consts,R=Ql(o,s,4,v||null,eo(A,I));kw(o,u,R,eo(A,C)),Va(o,R);const L=R.tView=qg(2,R,c,d,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,A,null);return null!==o.queries&&(o.queries.template(o,R),L.queries=o.queries.embeddedTView(R)),R}(R,A,C,o,u,c,d,g,v):A.data[R];Xi(L,!1);const q=hi(A,C,L,s);no()&&bf(A,C,q,L),si(q,C),_r(C,C[R]=le(q,C,q,L)),mi(L)&&Dv(A,C,L),null!=v&&Gg(C,L,I)}let hi=function Qw(s,o,u,c){return ro(!0),o[Dt].createComment("")};function Jw(s){return function Vi(s,o){return s[o]}(function Ml(){return Ct.lFrame.contextLView}(),jt+s)}function sc(s,o,u){const c=pe();return qi(c,ks(),o)&&as(Xt(),kn(),c,s,o,c[Dt],u,!1),sc}function Xw(s,o,u,c,d){const v=d?"class":"style";xv(s,u,o.inputs[v],v,c)}function Yt(s,o,u,c){const d=pe(),g=Xt(),v=jt+s,I=d[Dt],C=g.firstCreatePass?function uD(s,o,u,c,d,g){const v=o.consts,C=Ql(o,s,2,c,eo(v,d));return kw(o,u,C,eo(v,g)),null!==C.attrs&&Mn(C,C.attrs,!1),null!==C.mergedAttrs&&Mn(C,C.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,C),C}(v,g,d,o,u,c):g.data[v],A=jv(g,d,C,I,o,s);d[v]=A;const R=mi(C);return Xi(C,!0),tt(I,A,C),32!=(32&C.flags)&&no()&&bf(g,d,A,C),0===function Qh(){return Ct.lFrame.elementDepthCount}()&&si(A,d),function _u(){Ct.lFrame.elementDepthCount++}(),R&&(Dv(g,d,C),fo(g,C,d)),null!==c&&Gg(d,C),Yt}function ln(){let s=er();pr()?Go():(s=s.parent,Xi(s,!1));const o=s;(function zo(s){return Ct.skipHydrationRootTNode===s})(o)&&function R0(){Ct.skipHydrationRootTNode=null}(),function Jp(){Ct.lFrame.elementDepthCount--}();const u=Xt();return u.firstCreatePass&&(Va(u,s),fl(s)&&u.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Fs(s){return 0!=(8&s.flags)}(o)&&Xw(u,o,pe(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function tr(s){return 0!=(16&s.flags)}(o)&&Xw(u,o,pe(),o.stylesWithoutHost,!1),ln}function oc(s,o,u,c){return Yt(s,o,u,c),ln(),oc}let jv=(s,o,u,c,d,g)=>(ro(!0),S(c,d,function pn(){return Ct.lFrame.currentNamespace}()));function rm(s,o,u){const c=pe(),d=Xt(),g=s+jt,v=d.firstCreatePass?function tE(s,o,u,c,d){const g=o.consts,v=eo(g,c),I=Ql(o,s,8,"ng-container",v);return null!==v&&Mn(I,v,!0),kw(o,u,I,eo(g,d)),null!==o.queries&&o.queries.elementStart(o,I),I}(g,d,c,o,u):d.data[g];Xi(v,!0);const I=cD(d,c,v,s);return c[g]=I,no()&&bf(d,c,I,v),si(I,c),mi(v)&&(Dv(d,c,v),fo(d,v,c)),null!=u&&Gg(c,v),rm}function im(){let s=er();const o=Xt();return pr()?Go():(s=s.parent,Xi(s,!1)),o.firstCreatePass&&(Va(o,s),fl(s)&&o.queries.elementEnd(s)),im}let cD=(s,o,u,c)=>(ro(!0),E(o[Dt],""));function rE(){return pe()}function iE(s){return!!s&&"function"==typeof s.then}function sE(s){return!!s&&"function"==typeof s.subscribe}function oE(s,o,u,c){const d=pe(),g=Xt(),v=er();return function $v(s,o,u,c,d,g,v){const I=mi(c),A=s.firstCreatePass&&WC(s),R=o[Tn],L=qC(o);let q=!0;if(3&c.type||v){const Oe=Gr(c,o),Qe=v?v(Oe):Oe,dt=L.length,De=v?Kt=>v(vn(Kt[c.index])):c.index;let Ut=null;if(!v&&I&&(Ut=function CM(s,o,u,c){const d=s.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const v=d[g];if(v===u&&d[g+1]===c){const I=o[pu],C=d[g+2];return I.length>C?I[C]:null}"string"==typeof v&&(g+=2)}return null}(s,o,d,c.index)),null!==Ut)(Ut.__ngLastListenerFn__||Ut).__ngNextListenerFn__=g,Ut.__ngLastListenerFn__=g,q=!1;else{g=tp(c,o,R,g,!1);const Kt=u.listen(Qe,d,g);L.push(g,Kt),A&&A.push(d,De,dt,dt+1)}}else g=tp(c,o,R,g,!1);const Y=c.outputs;let ye;if(q&&null!==Y&&(ye=Y[d])){const Oe=ye.length;if(Oe)for(let Qe=0;Qe<Oe;Qe+=2){const _n=o[ye[Qe]][ye[Qe+1]].subscribe(g),Ti=L.length;L.push(g,_n),A&&A.push(d,c.index,Ti,-(Ti+1))}}}(g,d,d[Dt],v,s,o,c),oE}function ac(s,o,u,c){try{return Li(6,o,u),!1!==u(c)}catch(d){return ZC(s,d),!1}finally{Li(7,o,u)}}function tp(s,o,u,c,d){return function g(v){if(v===Function)return c;Ug(s.componentOffset>-1?Un(s.index,o):o);let C=ac(o,u,c,v),A=g.__ngNextListenerFn__;for(;A;)C=ac(o,u,A,v)&&C,A=A.__ngNextListenerFn__;return d&&!1===C&&v.preventDefault(),C}}function sm(s=1){return function rf(s){return(Ct.lFrame.contextLView=function xl(s,o){for(;s>0;)o=o[Ns],s--;return o}(s,Ct.lFrame.contextLView))[Tn]}(s)}function rh(s,o){return s<<17|o<<2}function wo(s){return s>>17&32767}function ih(s){return 2|s}function lc(s){return(131068&s)>>2}function Kv(s,o){return-131069&s|o<<2}function ha(s){return 1|s}function lE(s,o,u,c,d){const g=s[u+1],v=null===o;let I=c?wo(g):lc(g),C=!1;for(;0!==I&&(!1===C||v);){const R=s[I+1];Xa(s[I],o)&&(C=!0,s[I+1]=c?ha(R):ih(R)),I=c?wo(R):lc(R)}C&&(s[u+1]=c?ih(g):ha(g))}function Xa(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Hi(s,o)>=0}const kr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function np(s){return s.substring(kr.key,kr.keyEnd)}function Gt(s,o){const u=kr.textEnd;return u===o?-1:(o=kr.keyEnd=function mD(s,o,u){for(;o<u&&s.charCodeAt(o)>32;)o++;return o}(s,kr.key=o,u),sh(s,o,u))}function sh(s,o,u){for(;o<u&&s.charCodeAt(o)<=32;)o++;return o}function zu(s,o,u){return Eo(s,o,u,!1),zu}function Qv(s,o){return Eo(s,o,null,!0),Qv}function oh(s){!function us(s,o,u,c){const d=Xt(),g=gr(2);d.firstUpdatePass&&wD(d,null,g,c);const v=pe();if(u!==Vt&&qi(v,g,u)){const I=d.data[ri()];if(e_(I,c)&&!_D(d,g)){let C=c?I.classesWithoutHost:I.stylesWithoutHost;null!==C&&(u=ke(C,u||"")),Xw(d,I,v,u,c)}else!function qu(s,o,u,c,d,g,v,I){d===Vt&&(d=qe);let C=0,A=0,R=0<d.length?d[0]:null,L=0<g.length?g[0]:null;for(;null!==R||null!==L;){const q=C<d.length?d[C+1]:void 0,Y=A<g.length?g[A+1]:void 0;let Oe,ye=null;R===L?(C+=2,A+=2,q!==Y&&(ye=L,Oe=Y)):null===L||null!==R&&R<L?(C+=2,ye=R):(A+=2,ye=L,Oe=Y),null!==ye&&pE(s,o,u,c,ye,Oe,v,I),R=C<d.length?d[C]:null,L=A<g.length?g[A]:null}}(d,I,v,v[Dt],v[g+1],v[g+1]=function xM(s,o,u){if(null==u||""===u)return qe;const c=[],d=oi(u);if(Array.isArray(d))for(let g=0;g<d.length;g++)s(c,d[g],!0);else if("object"==typeof d)for(const g in d)d.hasOwnProperty(g)&&s(c,g,d[g]);else"string"==typeof d&&o(c,d);return c}(s,o,u),c,g)}}(rp,fa,s,!0)}function fa(s,o){for(let u=function SM(s){return function cE(s){kr.key=0,kr.keyEnd=0,kr.value=0,kr.valueEnd=0,kr.textEnd=s.length}(s),Gt(s,sh(s,0,kr.textEnd))}(o);u>=0;u=Gt(o,u))an(s,np(o),!0)}function Eo(s,o,u,c){const d=pe(),g=Xt(),v=gr(2);g.firstUpdatePass&&wD(g,s,v,c),o!==Vt&&qi(d,v,o)&&pE(g,g.data[ri()],d,d[Dt],s,d[v+1]=function ip(s,o){return null==s||""===s||("string"==typeof o?s+=o:"object"==typeof s&&(s=Q(oi(s)))),s}(o,u),c,v)}function _D(s,o){return o>=s.expandoStartIndex}function wD(s,o,u,c){const d=s.data;if(null===d[u+1]){const g=d[ri()],v=_D(s,u);e_(g,c)&&null===o&&!v&&(o=!1),o=function Jn(s,o,u,c){const d=qo(s);let g=c?o.residualClasses:o.residualStyles;if(null===d)0===(c?o.classBindings:o.styleBindings)&&(u=Gu(u=hE(null,s,o,u,c),o.attrs,c),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==d)if(u=hE(d,s,o,u,c),null===g){let C=function Jv(s,o,u){const c=u?o.classBindings:o.styleBindings;if(0!==lc(c))return s[wo(c)]}(s,o,c);void 0!==C&&Array.isArray(C)&&(C=hE(null,s,o,C[1],c),C=Gu(C,o.attrs,c),function Xv(s,o,u,c){s[wo(u?o.classBindings:o.styleBindings)]=c}(s,o,c,C))}else g=function ED(s,o,u){let c;const d=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<d;g++)c=Gu(c,s[g].hostAttrs,u);return Gu(c,o.attrs,u)}(s,o,c)}return void 0!==g&&(c?o.residualClasses=g:o.residualStyles=g),u}(d,g,o,c),function gD(s,o,u,c,d,g){let v=g?o.classBindings:o.styleBindings,I=wo(v),C=lc(v);s[c]=u;let R,A=!1;if(Array.isArray(u)?(R=u[1],(null===R||Hi(u,R)>0)&&(A=!0)):R=u,d)if(0!==C){const q=wo(s[I+1]);s[c+1]=rh(q,I),0!==q&&(s[q+1]=Kv(s[q+1],c)),s[I+1]=function uE(s,o){return 131071&s|o<<17}(s[I+1],c)}else s[c+1]=rh(I,0),0!==I&&(s[I+1]=Kv(s[I+1],c)),I=c;else s[c+1]=rh(C,0),0===I?I=c:s[C+1]=Kv(s[C+1],c),C=c;A&&(s[c+1]=ih(s[c+1])),lE(s,R,c,!0),lE(s,R,c,!1),function am(s,o,u,c,d){const g=d?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&Hi(g,o)>=0&&(u[c+1]=ha(u[c+1]))}(o,R,s,c,g),v=rh(I,C),g?o.classBindings=v:o.styleBindings=v}(d,g,o,u,v,c)}}function hE(s,o,u,c,d){let g=null;const v=u.directiveEnd;let I=u.directiveStylingLast;for(-1===I?I=u.directiveStart:I++;I<v&&(g=o[I],c=Gu(c,g.hostAttrs,d),g!==s);)I++;return null!==s&&(u.directiveStylingLast=I),c}function Gu(s,o,u){const c=u?1:2;let d=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?d=v:d===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),an(s,v,!!u||o[++g]))}return void 0===s?null:s}function rp(s,o,u){const c=String(o);""!==c&&!c.includes(" ")&&an(s,c,u)}function pE(s,o,u,c,d,g,v,I){if(!(3&o.type))return;const C=s.data,A=C[I+1],R=function DM(s){return 1==(1&s)}(A)?gE(C,o,u,d,lc(A),v):void 0;lm(R)||(lm(g)||function pD(s){return 2==(2&s)}(A)&&(g=gE(C,null,u,d,I,v)),function un(s,o,u,c,d){if(o)d?s.addClass(u,c):s.removeClass(u,c);else{let g=-1===c.indexOf("-")?void 0:_f.DashCase;null==d?s.removeStyle(u,c,g):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),g|=_f.Important),s.setStyle(u,c,d,g))}}(c,v,Dl(ri(),u),d,g))}function gE(s,o,u,c,d,g){const v=null===o;let I;for(;d>0;){const C=s[d],A=Array.isArray(C),R=A?C[1]:C,L=null===R;let q=u[d+1];q===Vt&&(q=L?qe:void 0);let Y=L?jn(q,c):R===c?q:void 0;if(A&&!lm(Y)&&(Y=jn(C,c)),lm(Y)&&(I=Y,v))return I;const ye=s[d+1];d=v?wo(ye):lc(ye)}if(null!==o){let C=g?o.residualClasses:o.residualStyles;null!=C&&(I=jn(C,c))}return I}function lm(s){return void 0!==s}function e_(s,o){return 0!=(s.flags&(o?8:16))}function t_(s,o=""){const u=pe(),c=Xt(),d=s+jt,g=c.firstCreatePass?Ql(c,d,1,o,null):c.data[d],v=n_(c,u,g,o,s);u[d]=v,no()&&bf(c,u,v,g),Xi(g,!1)}let n_=(s,o,u,c,d)=>(ro(!0),function p(s,o){return s.createText(o)}(o[Dt],c));function yE(s){return rr("",s,""),yE}function rr(s,o,u){const c=pe(),d=function Wf(s,o,u,c){return qi(s,ks(),u)?o+te(u)+c:Vt}(c,s,o,u);return d!==Vt&&function Bu(s,o,u){const c=Dl(o,s);!function m(s,o,u){s.setValue(o,u)}(s[Dt],c,u)}(c,ri(),d),rr}function a_(s,o,u){const c=pe();if(qi(c,ks(),o)){const g=Xt(),v=kn();as(g,v,c,s,o,function KC(s,o,u){return(null===s||ti(s))&&(u=function Cl(s){for(;Array.isArray(s);){if("object"==typeof s[Sa])return s;s=s[Dn]}return null}(u[o.index])),u[Dt]}(qo(g.data),v,c),u,!0)}return a_}const cc=void 0;var LM=["en",[["a","p"],["AM","PM"],cc],[["AM","PM"],cc,cc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],cc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],cc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",cc,"{1} 'at' {0}",cc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function xD(s){const u=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===c?1:5}];let up={};function pm(s){const o=function ND(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=l_(o);if(u)return u;const c=o.split("-")[0];if(u=l_(c),u)return u;if("en"===c)return LM;throw new ie(701,!1)}function SE(s){return pm(s)[lp.PluralCase]}function l_(s){return s in up||(up[s]=rn.ng&&rn.ng.common&&rn.ng.common.locales&&rn.ng.common.locales[s]),up[s]}var lp=function(s){return s[s.LocaleId=0]="LocaleId",s[s.DayPeriodsFormat=1]="DayPeriodsFormat",s[s.DayPeriodsStandalone=2]="DayPeriodsStandalone",s[s.DaysFormat=3]="DaysFormat",s[s.DaysStandalone=4]="DaysStandalone",s[s.MonthsFormat=5]="MonthsFormat",s[s.MonthsStandalone=6]="MonthsStandalone",s[s.Eras=7]="Eras",s[s.FirstDayOfWeek=8]="FirstDayOfWeek",s[s.WeekendRange=9]="WeekendRange",s[s.DateFormat=10]="DateFormat",s[s.TimeFormat=11]="TimeFormat",s[s.DateTimeFormat=12]="DateTimeFormat",s[s.NumberSymbols=13]="NumberSymbols",s[s.NumberFormats=14]="NumberFormats",s[s.CurrencyCode=15]="CurrencyCode",s[s.CurrencySymbol=16]="CurrencySymbol",s[s.CurrencyName=17]="CurrencyName",s[s.Currencies=18]="Currencies",s[s.Directionality=19]="Directionality",s[s.PluralCase=20]="PluralCase",s[s.ExtraData=21]="ExtraData",s}(lp||{});const cp="en-US";let eu=cp;function HE(s,o,u,c,d){if(s=xe(s),Array.isArray(s))for(let g=0;g<s.length;g++)HE(s[g],o,u,c,d);else{const g=Xt(),v=pe(),I=er();let C=sa(s)?s:xe(s.provide);const A=Tg(s),R=1048575&I.providerIndexes,L=I.directiveStart,q=I.providerIndexes>>20;if(sa(s)||!s.multi){const Y=new Or(A,d,zd),ye=Dm(C,o,d?R:R+q,L);-1===ye?(Cu(Ol(I,v),g,C),zE(g,s,o.length),o.push(C),I.directiveStart++,I.directiveEnd++,d&&(I.providerIndexes+=1048576),u.push(Y),v.push(Y)):(u[ye]=Y,v[ye]=Y)}else{const Y=Dm(C,o,R+q,L),ye=Dm(C,o,R,R+q),Qe=ye>=0&&u[ye];if(d&&!Qe||!d&&!(Y>=0&&u[Y])){Cu(Ol(I,v),g,C);const dt=function t1(s,o,u,c,d){const g=new Or(s,u,zd);return g.multi=[],g.index=o,g.componentProviders=0,eT(g,d,c&&!u),g}(d?m_:e1,u.length,d,c,A);!d&&Qe&&(u[ye].providerFactory=dt),zE(g,s,o.length,0),o.push(C),I.directiveStart++,I.directiveEnd++,d&&(I.providerIndexes+=1048576),u.push(dt),v.push(dt)}else zE(g,s,Y>-1?Y:ye,eT(u[d?ye:Y],A,!d&&c));!d&&c&&Qe&&u[ye].componentProviders++}}}function zE(s,o,u,c){const d=sa(o),g=function wC(s){return!!s.useClass}(o);if(d||g){const C=(g?xe(o.useClass):o).prototype.ngOnDestroy;if(C){const A=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const R=A.indexOf(u);-1===R?A.push(u,[c,C]):A[R+1].push(c,C)}else A.push(u,C)}}}function eT(s,o,u){return u&&s.componentProviders++,s.multi.push(o)-1}function Dm(s,o,u,c){for(let d=u;d<c;d++)if(o[d]===s)return d;return-1}function e1(s,o,u,c){return mp(this.multi,[])}function m_(s,o,u,c){const d=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,I=ms(u,u[Je],this.providerFactory.index,c);g=I.slice(0,v),mp(d,g);for(let C=v;C<I.length;C++)g.push(I[C])}else g=[],mp(d,g);return g}function mp(s,o){for(let u=0;u<s.length;u++)o.push((0,s[u])());return o}function GE(s,o=[]){return u=>{u.providersResolver=(c,d)=>function XM(s,o,u){const c=Xt();if(c.firstCreatePass){const d=ti(s);HE(u,c.data,c.blueprint,d,!0),HE(o,c.data,c.blueprint,d,!1)}}(c,d?d(s):s,o)}}class Yu{}class y_{}function Tm(s,o){return new Sm(s,o??null,[])}class Sm extends Yu{constructor(o,u,c){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new zf(this);const d=Br(o);this._bootstrapComponents=qa(d.bootstrap),this._r3Injector=Bf(o,u,[{provide:Yu,useValue:this},{provide:ho,useValue:this.componentFactoryResolver},...c],Q(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Am extends y_{constructor(o){super(),this.moduleType=o}create(o){return new Sm(this.moduleType,o,[])}}class nT extends Yu{constructor(o){super(),this.componentFactoryResolver=new zf(this),this.instance=null;const u=new dv([...o.providers,{provide:Yu,useValue:this},{provide:ho,useValue:this.componentFactoryResolver}],o.parent||cv(),o.debugName,new Set(["environment"]));this.injector=u,o.runEnvironmentInitializers&&u.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function WE(s,o,u=null){return new nT({providers:s,parent:o,debugName:u,runEnvironmentInitializers:!0}).injector}let rT=(()=>{var s;class o{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c)){const d=Nf(0,c.type),g=d.length>0?WE([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c,g)}return this.cachedInjectors.get(c)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return(s=o).\u0275prov=hn({token:s,providedIn:"environment",factory:()=>new s(bt(is))}),o})();function v_(s){s.getStandaloneInjector=o=>o.get(rT).getOrCreateStandaloneInjector(s)}function w_(s,o,u,c){return function xm(s,o,u,c,d,g){const v=o+u;return qi(s,v,d)?function Ya(s,o,u){return s[o]=u}(s,v+1,g?c.call(g,d):c(d)):function _p(s,o){const u=s[o];return u===Vt?void 0:u}(s,v+1)}(pe(),function ni(){const s=Ct.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}(),s,o,u,c)}function uI(s){return o=>{setTimeout(s,void 0,o)}}const tu=class aI extends h.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,c){let d=o,g=u||(()=>null),v=c;if(o&&"object"==typeof o){const C=o;d=C.next?.bind(C),g=C.error?.bind(C),v=C.complete?.bind(C)}this.__isAsync&&(g=uI(g),d&&(d=uI(d)),v&&(v=uI(v)));const I=super.subscribe({next:d,error:g,complete:v});return o instanceof J.w0&&o.add(I),I}};function Rm(){return this._results[Symbol.iterator]()}class Om{get changes(){return this._changes||(this._changes=new tu)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Om.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=Rm)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const c=this;c.dirty=!1;const d=function P(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function x(s,o,u){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let d=s[c],g=o[c];if(u&&(d=u(d),g=u(g)),g!==d)return!1}return!0}(c._results,d,u))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function D_(s,o,u,c=!0){const d=o[Je];if(function Be(s,o,u,c){const d=Tr+c,g=u.length;c>0&&(u[d-1][jr]=o),c<g-Tr?(o[jr]=u[d],Z(u,Tr+c,o)):(u.push(o),o[jr]=null),o[En]=u;const v=o[Vc];null!==v&&u!==v&&function rt(s,o){const u=s[hr];o[In]!==o[En][En][In]&&(s[hl]=!0),null===u?s[hr]=[o]:u.push(o)}(v,o);const I=o[cr];null!==I&&I.insertView(s),o[Et]|=128}(d,o,s,u),c){const g=$0(u,s),v=o[Dt],I=It(v,s[dr]);null!==I&&function H(s,o,u,c,d,g){c[Dn]=d,c[Cr]=o,ve(s,c,u,1,d,g)}(d,s[Cr],v,o,I,g)}}let hh=(()=>{class o{}return o.__NG_ELEMENT_ID__=cI,o})();const pT=hh,lI=class extends pT{constructor(o,u,c){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(o,u){return this.createEmbeddedViewImpl(o,u)}createEmbeddedViewImpl(o,u,c){const d=function wp(s,o,u,c){const d=o.tView,I=Is(s,d,u,4096&s[Et]?4096:16,null,o,null,null,null,c?.injector??null,c?.hydrationInfo??null);I[Vc]=s[o.index];const A=s[cr];return null!==A&&(I[cr]=A.createEmbeddedView(d)),Nv(d,I,u),I}(this._declarationLView,this._declarationTContainer,o,{injector:u,hydrationInfo:c});return new ec(d)}};function cI(){return ma(er(),pe())}function ma(s,o){return 4&s.type?new lI(o,s,Ud(s,o)):null}let Qu=(()=>{class o{}return o.__NG_ELEMENT_ID__=gI,o})();function gI(){return mT(er(),pe())}const d1=Qu,gT=class extends d1{constructor(o,u,c){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=c}get element(){return Ud(this._hostTNode,this._hostLView)}get injector(){return new Yn(this._hostTNode,this._hostLView)}get parentInjector(){const o=Zo(this._hostTNode,this._hostLView);if(ud(o)){const u=ts(o,this._hostLView),c=Wo(o);return new Yn(u[Je].data[c+8],u)}return new Yn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=mI(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-Tr}createEmbeddedView(o,u,c){let d,g;"number"==typeof c?d=c:null!=c&&(d=c.index,g=c.injector);const I=o.createEmbeddedViewImpl(u||{},g,null);return this.insertImpl(I,d,false),I}createComponent(o,u,c,d,g){const v=o&&!function D(s){return"function"==typeof s}(o);let I;if(v)I=u;else{const Oe=u||{};I=Oe.index,c=Oe.injector,d=Oe.projectableNodes,g=Oe.environmentInjector||Oe.ngModuleRef}const C=v?o:new Zd(Wt(o)),A=c||this.parentInjector;if(!g&&null==C.ngModule){const Qe=(v?A:this.parentInjector).get(is,null);Qe&&(g=Qe)}Wt(C.componentType??{});const Y=C.create(A,d,null,g);return this.insertImpl(Y.hostView,I,false),Y}insert(o,u){return this.insertImpl(o,u,!1)}insertImpl(o,u,c){const d=o._lView;if(function Kc(s){return $r(s[En])}(d)){const C=this.indexOf(o);if(-1!==C)this.detach(C);else{const A=d[En],R=new gT(A,A[Cr],A[En]);R.detach(R.indexOf(o))}}const v=this._adjustIndex(u),I=this._lContainer;return D_(I,d,v,!c),o.attachToViewContainerRef(),Z(N_(I),v,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=mI(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),c=Sn(this._lContainer,u);c&&(ue(N_(this._lContainer),u),_s(c[Je],c))}detach(o){const u=this._adjustIndex(o,-1),c=Sn(this._lContainer,u);return c&&null!=ue(N_(this._lContainer),u)?new ec(c):null}_adjustIndex(o,u=0){return o??this.length+u}};function mI(s){return s[8]}function N_(s){return s[8]||(s[8]=[])}function mT(s,o){let u;const c=o[s.index];return $r(c)?u=c:(u=le(c,o,null,s),o[s.index]=u,_r(o,u)),yT(u,o,s,c),new gT(u,s,o)}let yT=function R_(s,o,u,c){if(s[dr])return;let d;d=8&u.type?vn(c):function yI(s,o){const u=s[Dt],c=u.createComment(""),d=Gr(o,s);return ra(u,It(u,d),c,function Qn(s,o){return s.nextSibling(o)}(u,d),!1),c}(o,u),s[dr]=d};class _I{constructor(o){this.queryList=o,this.matches=null}clone(){return new _I(this.queryList)}setDirty(){this.queryList.setDirty()}}class Pm{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const c=null!==o.contentQueries?o.contentQueries[0]:u.length,d=[];for(let g=0;g<c;g++){const v=u.getByIndex(g);d.push(this.queries[v.indexInDeclarationView].clone())}return new Pm(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==wT(o,u).matches&&this.queries[u].setDirty()}}class wI{constructor(o,u,c=null){this.predicate=o,this.flags=u,this.read=c}}class km{constructor(o=[]){this.queries=o}elementStart(o,u){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let c=0;c<this.length;c++){const d=null!==u?u.length:0,g=this.getByIndex(c).embeddedTView(o,d);g&&(g.indexInDeclarationView=c,null!==u?u.push(g):u=[g])}return null!==u?new km(u):null}template(o,u){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Fm{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new Fm(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==u;)c=c.parent;return u===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const g=c[d];this.matchTNodeWithReadOption(o,u,EI(u,g)),this.matchTNodeWithReadOption(o,u,fd(u,o,g,!1,!1))}else c===hh?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,fd(u,o,c,!1,!1))}matchTNodeWithReadOption(o,u,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===Vf||d===Qu||d===hh&&4&u.type)this.addMatch(u.index,-2);else{const g=fd(u,o,d,!1,!1);null!==g&&this.addMatch(u.index,g)}else this.addMatch(u.index,c)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function EI(s,o){const u=s.localNames;if(null!==u)for(let c=0;c<u.length;c+=2)if(u[c]===o)return u[c+1];return null}function mc(s,o,u,c){return-1===u?function Ep(s,o){return 11&s.type?Ud(s,o):4&s.type?ma(s,o):null}(o,s):-2===u?function II(s,o,u){return u===Vf?Ud(o,s):u===hh?ma(o,s):u===Qu?mT(o,s):void 0}(s,o,c):ms(s,s[Je],u,o)}function fh(s,o,u,c){const d=o[cr].queries[c];if(null===d.matches){const g=s.data,v=u.matches,I=[];for(let C=0;C<v.length;C+=2){const A=v[C];I.push(A<0?null:mc(o,g[A],v[C+1],u.metadata.read))}d.matches=I}return d.matches}function yc(s,o,u,c){const d=s.queries.getByIndex(u),g=d.matches;if(null!==g){const v=fh(s,o,d,u);for(let I=0;I<g.length;I+=2){const C=g[I];if(C>0)c.push(v[I/2]);else{const A=g[I+1],R=o[-C];for(let L=Tr;L<R.length;L++){const q=R[L];q[Vc]===q[En]&&yc(q[Je],q,A,c)}if(null!==R[hr]){const L=R[hr];for(let q=0;q<L.length;q++){const Y=L[q];yc(Y[Je],Y,A,c)}}}}}return c}function bI(s){const o=pe(),u=Xt(),c=ef();nd(c+1);const d=wT(u,c);if(s.dirty&&function Pa(s){return 4==(4&s[Et])}(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const g=d.crossesNgTemplate?yc(u,o,c,[]):fh(u,o,d,c);s.reset(g,Uf),s.notifyOnChanges()}return!0}return!1}function vT(s,o,u,c){const d=Xt();if(d.firstCreatePass){const g=er();(function P_(s,o,u){null===s.queries&&(s.queries=new km),s.queries.track(new Fm(o,u))})(d,new wI(o,u,c),g.index),function DI(s,o){const u=s.contentQueries||(s.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,o)}(d,s),2==(2&u)&&(d.staticContentQueries=!0)}!function O_(s,o,u){const c=new Om(4==(4&u));(function Wg(s,o,u,c){const d=qC(o);d.push(u),s.firstCreatePass&&WC(s).push(c,d.length-1)})(s,o,c,c.destroy),null===o[cr]&&(o[cr]=new Pm),o[cr].queries.push(new _I(c))}(d,pe(),u)}function _T(){return function CI(s,o){return s[cr].queries[o].queryList}(pe(),ef())}function wT(s,o){return s.queries.getByIndex(o)}function k_(s){return!!Br(s)}const H_=new gn("Application Initializer");let z_=(()=>{var s;class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d}),this.appInits=Ot(H_,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const c=[];for(const g of this.appInits){const v=g();if(iE(v))c.push(v);else if(sE(v)){const I=new Promise((C,A)=>{v.subscribe({complete:C,error:A})});c.push(I)}}const d=()=>{this.done=!0,this.resolve()};Promise.all(c).then(()=>{d()}).catch(g=>{this.reject(g)}),0===c.length&&d(),this.initialized=!0}}return(s=o).\u0275fac=function(c){return new(c||s)},s.\u0275prov=hn({token:s,factory:s.\u0275fac,providedIn:"root"}),o})(),ph=(()=>{var s;class o{log(c){console.log(c)}warn(c){console.warn(c)}}return(s=o).\u0275fac=function(c){return new(c||s)},s.\u0275prov=hn({token:s,factory:s.\u0275fac,providedIn:"platform"}),o})();const gh=new gn("LocaleId",{providedIn:"root",factory:()=>Ot(gh,pt.Optional|pt.SkipSelf)||function FT(){return typeof $localize<"u"&&$localize.locale||cp}()}),T1=new gn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let $m=(()=>{var s;class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new k.X(!1)}add(){this.hasPendingTasks.next(!0);const c=this.taskId++;return this.pendingTasks.add(c),c}remove(c){this.pendingTasks.delete(c),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(s=o).\u0275fac=function(c){return new(c||s)},s.\u0275prov=hn({token:s,factory:s.\u0275fac,providedIn:"root"}),o})();class VI{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}let UI=(()=>{var s;class o{compileModuleSync(c){return new Am(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),v=qa(Br(c).declarations).reduce((I,C)=>{const A=Wt(C);return A&&I.push(new Zd(A)),I},[]);return new VI(d,v)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return(s=o).\u0275fac=function(c){return new(c||s)},s.\u0275prov=hn({token:s,factory:s.\u0275fac,providedIn:"root"}),o})();function Hm(...s){}class Ci{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new tu(!1),this.onMicrotaskEmpty=new tu(!1),this.onStable=new tu(!1),this.onError=new tu(!1),typeof Zone>"u")throw new ie(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&u,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function nn(){const s="function"==typeof rn.requestAnimationFrame;let o=rn[s?"requestAnimationFrame":"setTimeout"],u=rn[s?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&o&&u){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const d=u[Zone.__symbol__("OriginalDelegate")];d&&(u=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:u}}().nativeRequestAnimationFrame,function Di(s){const o=()=>{!function Hn(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(rn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Io(s),s.isCheckStableRunning=!0,W_(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Io(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,c,d,g,v,I)=>{try{return WI(s),u.invokeTask(d,g,v,I)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),GT(s)}},onInvoke:(u,c,d,g,v,I,C)=>{try{return WI(s),u.invoke(d,g,v,I,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),GT(s)}},onHasTask:(u,c,d,g)=>{u.hasTask(d,g),c===d&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,Io(s),W_(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(u,c,d,g)=>(u.handleError(d,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ci.isInAngularZone())throw new ie(909,!1)}static assertNotInAngularZone(){if(Ci.isInAngularZone())throw new ie(909,!1)}run(o,u,c){return this._inner.run(o,u,c)}runTask(o,u,c,d){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+d,o,zm,Hm,Hm);try{return g.runTask(v,u,c)}finally{g.cancelTask(v)}}runGuarded(o,u,c){return this._inner.runGuarded(o,u,c)}runOutsideAngular(o){return this._outer.run(o)}}const zm={};function W_(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Io(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function WI(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function GT(s){s._nesting--,W_(s)}class K_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new tu,this.onMicrotaskEmpty=new tu,this.onStable=new tu,this.onError=new tu}run(o,u,c){return o.apply(u,c)}runGuarded(o,u,c){return o.apply(u,c)}runOutsideAngular(o){return o()}runTask(o,u,c,d){return o.apply(u,c)}}const KI=new gn("",{providedIn:"root",factory:Z_});function Z_(){const s=Ot(Ci);let o=!0;const u=new ee.y(d=>{o=s.isStable&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks,s.runOutsideAngular(()=>{d.next(o),d.complete()})}),c=new ee.y(d=>{let g;s.runOutsideAngular(()=>{g=s.onStable.subscribe(()=>{Ci.assertNotInAngularZone(),queueMicrotask(()=>{!o&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks&&(o=!0,d.next(!0))})})});const v=s.onUnstable.subscribe(()=>{Ci.assertInAngularZone(),o&&(o=!1,s.runOutsideAngular(()=>{d.next(!1)}))});return()=>{g.unsubscribe(),v.unsubscribe()}});return(0,re.T)(u,c.pipe((0,ge.B)()))}const qT=new gn(""),Y_=new gn("");let KT,L1=(()=>{var s;class o{constructor(c,d,g){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,KT||(function zn(s){KT=s}(g),g.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ci.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,g){let v=-1;d&&d>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==v),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:v,updateCb:g})}whenStable(c,d,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,g){return[]}}return(s=o).\u0275fac=function(c){return new(c||s)(bt(Ci),bt(WT),bt(Y_))},s.\u0275prov=hn({token:s,factory:s.\u0275fac}),o})(),WT=(()=>{var s;class o{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return KT?.findTestabilityInTree(this,c,d)??null}}return(s=o).\u0275fac=function(c){return new(c||s)},s.\u0275prov=hn({token:s,factory:s.\u0275fac,providedIn:"platform"}),o})(),vh=null;const Er=new gn("AllowMultipleToken"),Q_=new gn("PlatformDestroyListeners"),ZI=new gn("appBootstrapListener");class j1{constructor(o,u){this.name=o,this.token=u}}function YI(s,o,u=[]){const c=`Platform: ${o}`,d=new gn(c);return(g=[])=>{let v=ya();if(!v||v.injector.get(Er,!1)){const I=[...u,...g,{provide:d,useValue:!0}];s?s(I):function $1(s){if(vh&&!vh.get(Er,!1))throw new ie(400,!1);(function ZT(){!function Gc(s){El=s}(()=>{throw new ie(600,!1)})})(),vh=s;const o=s.get(H1);(function YT(s){s.get(pw,null)?.forEach(u=>u())})(s)}(function QT(s=[],o){return os.create({name:o,providers:[{provide:uv,useValue:"platform"},{provide:Q_,useValue:new Set([()=>vh=null])},...s]})}(I,c))}return function Gm(s){const o=ya();if(!o)throw new ie(401,!1);return o}()}}function ya(){return vh?.get(H1)??null}let H1=(()=>{var s;class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const g=function J_(s="zone.js",o){return"noop"===s?new K_:"zone.js"===s?new Ci(o):s}(d?.ngZone,function Ec(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:s?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:s?.runCoalescing??!1}}({eventCoalescing:d?.ngZoneEventCoalescing,runCoalescing:d?.ngZoneRunCoalescing}));return g.run(()=>{const v=function tT(s,o,u){return new Sm(s,o,u)}(c.moduleType,this.injector,function QI(s){return[{provide:Ci,useFactory:s},{provide:Eg,multi:!0,useFactory:()=>{const o=Ot(X_,{optional:!0});return()=>o.initialize()}},{provide:eS,useFactory:wh},{provide:KI,useFactory:Z_}]}(()=>g)),I=v.injector.get(Hd,null);return g.runOutsideAngular(()=>{const C=g.onError.subscribe({next:A=>{I.handleError(A)}});v.onDestroy(()=>{qm(this._modules,v),C.unsubscribe()})}),function JT(s,o,u){try{const c=u();return iE(c)?c.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(I,g,()=>{const C=v.injector.get(z_);return C.runInitializers(),C.donePromise.then(()=>(function AE(s){dn(s,"Expected localeId to be defined"),"string"==typeof s&&(eu=s.toLowerCase().replace(/_/g,"-"))}(v.injector.get(gh,cp)||cp),this._moduleDoBootstrap(v),v))})})}bootstrapModule(c,d=[]){const g=XT({},d);return function V1(s,o,u){const c=new Am(u);return Promise.resolve(c)}(0,0,c).then(v=>this.bootstrapModuleFactory(v,g))}_moduleDoBootstrap(c){const d=c.injector.get(_h);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(g=>d.bootstrap(g));else{if(!c.instance.ngDoBootstrap)throw new ie(-403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ie(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(Q_,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(s=o).\u0275fac=function(c){return new(c||s)(bt(os))},s.\u0275prov=hn({token:s,factory:s.\u0275fac,providedIn:"platform"}),o})();function XT(s,o){return Array.isArray(o)?o.reduce(XT,s):{...s,...o}}let _h=(()=>{var s;class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ot(eS),this.zoneIsStable=Ot(KI),this.componentTypes=[],this.components=[],this.isStable=Ot($m).hasPendingTasks.pipe((0,Me.w)(c=>c?(0,de.of)(!1):this.zoneIsStable),(0,fe.x)(),(0,ge.B)()),this._injector=Ot(is)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const g=c instanceof NC;if(!this._injector.get(z_).done)throw!g&&Ys(c),new ie(405,!1);let I;I=g?c:this._injector.get(ho).resolveComponentFactory(c),this.componentTypes.push(I.componentType);const C=function B1(s){return s.isBoundToModule}(I)?void 0:this._injector.get(Yu),R=I.create(os.NULL,[],d||I.selector,C),L=R.location.nativeElement,q=R.injector.get(qT,null);return q?.registerApplication(L),R.onDestroy(()=>{this.detachView(R.hostView),qm(this.components,R),q?.unregisterApplication(L)}),this._loadComponent(R),R}tick(){if(this._runningTick)throw new ie(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this.internalErrorHandler(c)}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;qm(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const d=this._injector.get(ZI,[]);d.push(...this._bootstrapListeners),d.forEach(g=>g(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>qm(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new ie(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(s=o).\u0275fac=function(c){return new(c||s)},s.\u0275prov=hn({token:s,factory:s.\u0275fac,providedIn:"root"}),o})();function qm(s,o){const u=s.indexOf(o);u>-1&&s.splice(u,1)}const eS=new gn("",{providedIn:"root",factory:()=>Ot(Hd).handleError.bind(void 0)});function wh(){const s=Ot(Ci),o=Ot(Hd);return u=>s.runOutsideAngular(()=>o.handleError(u))}let X_=(()=>{var s;class o{constructor(){this.zone=Ot(Ci),this.applicationRef=Ot(_h)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(s=o).\u0275fac=function(c){return new(c||s)},s.\u0275prov=hn({token:s,factory:s.\u0275fac,providedIn:"root"}),o})();function z1(){return!1}let nS=(()=>{class o{}return o.__NG_ELEMENT_ID__=Eh,o})();function Eh(s){return function rS(s,o,u){if(Fo(s)&&!u){const c=Un(s.index,o);return new ec(c,c)}return 47&s.type?new ec(o[In],o):null}(er(),pe(),16==(16&s))}class Jm{constructor(){}supports(o){return Qg(o)}create(o){return new K1(o)}}const W1=(s,o)=>o;class K1{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||W1}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,c=this._removalsHead,d=0,g=null;for(;u||c;){const v=!c||u&&u.currentIndex<Xm(c,d,g)?u:c,I=Xm(v,d,g),C=v.currentIndex;if(v===c)d--,c=c._nextRemoved;else if(u=u._next,null==v.previousIndex)d++;else{g||(g=[]);const A=I-d,R=C-d;if(A!=R){for(let q=0;q<A;q++){const Y=q<g.length?g[q]:g[q]=0,ye=Y+q;R<=ye&&ye<A&&(g[q]=Y+1)}g[v.previousIndex]=R-A}}I!==C&&o(v,I,C)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!Qg(o))throw new ie(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,g,v,u=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let I=0;I<this.length;I++)g=o[I],v=this._trackByFn(I,g),null!==u&&Object.is(u.trackById,v)?(c&&(u=this._verifyReinsertion(u,g,v,I)),Object.is(u.item,g)||this._addIdentityChange(u,g)):(u=this._mismatch(u,g,v,I),c=!0),u=u._next}else d=0,function mM(s,o){if(Array.isArray(s))for(let u=0;u<s.length;u++)o(s[u]);else{const u=s[Symbol.iterator]();let c;for(;!(c=u.next()).done;)o(c.value)}}(o,I=>{v=this._trackByFn(d,I),null!==u&&Object.is(u.trackById,v)?(c&&(u=this._verifyReinsertion(u,I,v,d)),Object.is(u.item,I)||this._addIdentityChange(u,I)):(u=this._mismatch(u,I,v,d),c=!0),u=u._next,d++}),this.length=d;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,c,d){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,g,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,g,d)):o=this._addAfter(new o0(u,c),g,d),o}_verifyReinsertion(o,u,c,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==g?o=this._reinsertAfter(g,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,g=o._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(o,u,c),this._addToMoves(o,c),o}_moveAfter(o,u,c){return this._unlink(o),this._insertAfter(o,u,c),this._addToMoves(o,c),o}_addAfter(o,u,c){return this._insertAfter(o,u,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,c){const d=null===u?this._itHead:u._next;return o._next=d,o._prev=u,null===d?this._itTail=o:d._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new oS),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,c=o._next;return null===u?this._itHead=c:u._next=c,null===c?this._itTail=u:c._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new oS),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class o0{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Z1{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===u||u<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const u=o._prevDup,c=o._nextDup;return null===u?this._head=c:u._nextDup=c,null===c?this._tail=u:c._prevDup=u,null===this._head}}class oS{constructor(){this.map=new Map}put(o){const u=o.trackById;let c=this.map.get(u);c||(c=new Z1,this.map.set(u,c)),c.add(o)}get(o,u){const d=this.map.get(o);return d?d.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Xm(s,o,u){const c=s.previousIndex;if(null===c)return c;let d=0;return u&&c<u.length&&(d=u[c]),c+o+d}class aS{constructor(){}supports(o){return o instanceof Map||Gw(o)}create(){return new Y1}}class Y1{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||Gw(o)))throw new ie(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,d)=>{if(u&&u.key===d)this._maybeAddToChanges(u,c),this._appendAfter=u,u=u._next;else{const g=this._getOrCreateRecordForKey(d,c);u=this._insertBeforeOrAppend(u,g)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let c=u;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const c=o._prev;return u._next=o,u._prev=c,o._prev=u,c&&(c._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,u);const g=d._prev,v=d._next;return g&&(g._next=v),v&&(v._prev=g),d._next=null,d._prev=null,d}const c=new uS(o);return this._records.set(o,c),c.currentValue=u,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(c=>u(o[c],c))}}class uS{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function nb(){return new a0([new Jm])}let a0=(()=>{var s;class o{constructor(c){this.factories=c}static create(c,d){if(null!=d){const g=d.factories.slice();c=c.concat(g)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||nb()),deps:[[o,new Mu,new na]]}}find(c){const d=this.factories.find(g=>g.supports(c));if(null!=d)return d;throw new ie(901,!1)}}return(s=o).\u0275prov=hn({token:s,providedIn:"root",factory:nb}),o})();function rb(){return new u0([new aS])}let u0=(()=>{var s;class o{constructor(c){this.factories=c}static create(c,d){if(d){const g=d.factories.slice();c=c.concat(g)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||rb()),deps:[[o,new Mu,new na]]}}find(c){const d=this.factories.find(g=>g.supports(c));if(d)return d;throw new ie(901,!1)}}return(s=o).\u0275prov=hn({token:s,providedIn:"root",factory:rb}),o})();const LR=YI(null,"core",[]);let J1=(()=>{var s;class o{constructor(c){}}return(s=o).\u0275fac=function(c){return new(c||s)(bt(_h))},s.\u0275mod=hu({type:s}),s.\u0275inj=Mi({}),o})();function sx(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function QR(s){const o=Wt(s);if(!o)return null;const u=new Zd(o);return{get selector(){return u.selector},get type(){return u.componentType},get inputs(){return u.inputs},get outputs(){return u.outputs},get ngContentSelectors(){return u.ngContentSelectors},get isStandalone(){return o.standalone},get isSignal(){return o.signals}}}},4097:(lt,Ie,O)=>{O.d(Ie,{C6:()=>h.getApps,Mq:()=>h.getApp});var h=O(534);(0,h.registerVersion)("firebase","9.23.0","app")},120:(lt,Ie,O)=>{O.d(Ie,{Z:()=>h.Z});var h=O(3106);h.Z.registerVersion("firebase","9.23.0","app-compat")},8977:(lt,Ie,O)=>{O.r(Ie);var h=O(5861),J=O(3106),k=O(9058),ee=O(534),re=O(655),de=O(7879),ge=O(4537);const fe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Ke=function ke(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},xe=function Te(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},$e=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),vt=new de.Yd("@firebase/auth");function ie(_,...p){vt.logLevel<=de.in.ERROR&&vt.error(`Auth (${ee.SDK_VERSION}): ${_}`,...p)}function we(_,...p){throw We(_,...p)}function te(_,...p){return We(_,...p)}function be(_,p,m){const E=Object.assign(Object.assign({},xe()),{[p]:m});return new k.LL("auth","Firebase",E).create(p,{appName:_.name})}function Ne(_,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&we(_,"argument-error"),be(_,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function We(_,...p){if("string"!=typeof _){const m=p[0],E=[...p.slice(1)];return E[0]&&(E[0].appName=_.name),_._errorFactory.create(m,...E)}return $e.create(_,...p)}function B(_,p,...m){if(!_)throw We(p,...m)}function he(_){const p="INTERNAL ASSERTION FAILED: "+_;throw ie(p),new Error(p)}function _e(_,p){_||he(p)}function He(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function nt(){return"http:"===Ge()||"https:"===Ge()}function Ge(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class or{constructor(p,m){this.shortDelay=p,this.longDelay=m,_e(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return function yt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(nt()||(0,k.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ft(_,p){_e(_.emulator,"Emulator should always be set here");const{url:m}=_.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class Rn{static initialize(p,m,E){this.fetchImpl=p,m&&(this.headersImpl=m),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void he("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void he("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void he("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Vr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},wn=new or(3e4,6e4);function Tt(_,p){return _.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:_.tenantId}):p}function en(_,p,m,E){return dn.apply(this,arguments)}function dn(){return(dn=(0,h.Z)(function*(_,p,m,E,S={}){return wt(_,S,(0,h.Z)(function*(){let N={},H={};E&&("GET"===p?H=E:N={body:JSON.stringify(E)});const X=(0,k.xO)(Object.assign({key:_.config.apiKey},H)).slice(1),Ae=yield _._getAdditionalHeaders();return Ae["Content-Type"]="application/json",_.languageCode&&(Ae["X-Firebase-Locale"]=_.languageCode),Rn.fetch()(hn(_,_.config.apiHost,m,X),Object.assign({method:p,headers:Ae,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function wt(_,p,m){return qs.apply(this,arguments)}function qs(){return(qs=(0,h.Z)(function*(_,p,m){_._canInitEmulator=!1;const E=Object.assign(Object.assign({},Vr),p);try{const S=new ol(_),N=yield Promise.race([m(),S.promise]);S.clearNetworkTimeout();const H=yield N.json();if("needConfirmation"in H)throw Mi(_,"account-exists-with-different-credential",H);if(N.ok&&!("errorMessage"in H))return H;{const X=N.ok?H.errorMessage:H.error.message,[Ae,Be]=X.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ae)throw Mi(_,"credential-already-in-use",H);if("EMAIL_EXISTS"===Ae)throw Mi(_,"email-already-in-use",H);if("USER_DISABLED"===Ae)throw Mi(_,"user-disabled",H);const rt=E[Ae]||Ae.toLowerCase().replace(/[_\s]+/g,"-");if(Be)throw be(_,rt,Be);we(_,rt)}}catch(S){if(S instanceof k.ZR)throw S;we(_,"network-request-failed",{message:String(S)})}})).apply(this,arguments)}function Ai(_,p,m,E){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,h.Z)(function*(_,p,m,E,S={}){const N=yield en(_,p,m,E,S);return"mfaPendingCredential"in N&&we(_,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function hn(_,p,m,E){const S=`${p}${m}?${E}`;return _.config.emulator?Ft(_.config,S):`${_.config.apiScheme}://${S}`}class ol{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,E)=>{this.timer=setTimeout(()=>E(te(this.auth,"network-request-failed")),wn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mi(_,p,m){const E={appName:_.name};m.email&&(E.email=m.email),m.phoneNumber&&(E.phoneNumber=m.phoneNumber);const S=te(_,p,E);return S.customData._tokenResponse=m,S}function Gn(){return(Gn=(0,h.Z)(function*(_,p){return en(_,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Do(){return(Do=(0,h.Z)(function*(_,p){return en(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function pi(){return(pi=(0,h.Z)(function*(_,p){return en(_,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function gi(_){if(_)try{const p=new Date(Number(_));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function pt(){return(pt=(0,h.Z)(function*(_,p=!1){const m=(0,k.m9)(_),E=yield m.getIdToken(p),S=Rt(E);B(S&&S.exp&&S.auth_time&&S.iat,m.auth,"internal-error");const N="object"==typeof S.firebase?S.firebase:void 0,H=N?.sign_in_provider;return{claims:S,token:E,authTime:gi(Ht(S.auth_time)),issuedAtTime:gi(Ht(S.iat)),expirationTime:gi(Ht(S.exp)),signInProvider:H||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function Ht(_){return 1e3*Number(_)}function Rt(_){const[p,m,E]=_.split(".");if(void 0===p||void 0===m||void 0===E)return ie("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,k.tV)(m);return S?JSON.parse(S):(ie("Failed to decode base64 JWT payload"),null)}catch(S){return ie("Caught error parsing JWT payload as JSON",S?.toString()),null}}function Cn(_,p){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,h.Z)(function*(_,p,m=!1){if(m)return p;try{return yield p}catch(E){throw E instanceof k.ZR&&function rn({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}(E)&&_.auth.currentUser===_&&(yield _.auth.signOut()),E}})).apply(this,arguments)}class Ir{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const S=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const E=this.getInterval(p);this.timerId=setTimeout((0,h.Z)(function*(){yield m.iteration()}),E)}iteration(){var p=this;return(0,h.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&p.schedule(!0))}p.schedule()})()}}class lu{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=gi(this.lastLoginAt),this.creationTime=gi(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function tn(_){return Jr.apply(this,arguments)}function Jr(){return Jr=(0,h.Z)(function*(_){var p;const m=_.auth,E=yield _.getIdToken(),S=yield Cn(_,function To(_,p){return pi.apply(this,arguments)}(m,{idToken:E}));B(S?.users.length,m,"internal-error");const N=S.users[0];_._notifyReloadListener(N);const H=null!==(p=N.providerUserInfo)&&void 0!==p&&p.length?function Ao(_){return _.map(p=>{var{providerId:m}=p,E=(0,re._T)(p,["providerId"]);return{providerId:m,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}(N.providerUserInfo):[],X=function So(_,p){return[..._.filter(E=>!p.some(S=>S.providerId===E.providerId)),...p]}(_.providerData,H),rt=!!_.isAnonymous&&!(_.email&&N.passwordHash||X?.length),st={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:X,metadata:new lu(N.createdAt,N.lastLoginAt),isAnonymous:rt};Object.assign(_,st)}),Jr.apply(this,arguments)}function Ss(){return(Ss=(0,h.Z)(function*(_){const p=(0,k.m9)(_);yield tn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Zs(){return(Zs=(0,h.Z)(function*(_,p){const m=yield wt(_,{},(0,h.Z)(function*(){const E=(0,k.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:N}=_.config,H=hn(_,S,"/v1/token",`key=${N}`),X=yield _._getAdditionalHeaders();return X["Content-Type"]="application/x-www-form-urlencoded",Rn.fetch()(H,{method:"POST",headers:X,body:E})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Ji{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){B(p.idToken,"internal-error"),B(typeof p.idToken<"u","internal-error"),B(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function fn(_){const p=Rt(_);return B(p,"internal-error"),B(typeof p.exp<"u","internal-error"),B(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var E=this;return(0,h.Z)(function*(){return B(!E.accessToken||E.refreshToken,p,"user-token-expired"),m||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(p,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var E=this;return(0,h.Z)(function*(){const{accessToken:S,refreshToken:N,expiresIn:H}=yield function xi(_,p){return Zs.apply(this,arguments)}(p,m);E.updateTokensAndExpiration(S,N,Number(H))})()}updateTokensAndExpiration(p,m,E){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(p,m){const{refreshToken:E,accessToken:S,expirationTime:N}=m,H=new Ji;return E&&(B("string"==typeof E,"internal-error",{appName:p}),H.refreshToken=E),S&&(B("string"==typeof S,"internal-error",{appName:p}),H.accessToken=S),N&&(B("number"==typeof N,"internal-error",{appName:p}),H.expirationTime=N),H}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Ji,this.toJSON())}_performRefresh(){return he("not implemented")}}function ar(_,p){B("string"==typeof _||typeof _>"u","internal-error",{appName:p})}class ur{constructor(p){var{uid:m,auth:E,stsTokenManager:S}=p,N=(0,re._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ir(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=E,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new lu(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,h.Z)(function*(){const E=yield Cn(m,m.stsTokenManager.getToken(m.auth,p));return B(E,m.auth,"internal-error"),m.accessToken!==E&&(m.accessToken=E,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),E})()}getIdTokenResult(p){return function uu(_){return pt.apply(this,arguments)}(this,p)}reload(){return function zt(_){return Ss.apply(this,arguments)}(this)}_assign(p){this!==p&&(B(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const m=new ur(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(p){B(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var E=this;return(0,h.Z)(function*(){let S=!1;p.idToken&&p.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(p),S=!0),m&&(yield tn(E)),yield E.auth._persistUserIfCurrent(E),S&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var p=this;return(0,h.Z)(function*(){const m=yield p.getIdToken();return yield Cn(p,function Ws(_,p){return Gn.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var E,S,N,H,X,Ae,Be,rt;const st=null!==(E=m.displayName)&&void 0!==E?E:void 0,Sn=null!==(S=m.email)&&void 0!==S?S:void 0,_s=null!==(N=m.phoneNumber)&&void 0!==N?N:void 0,Md=null!==(H=m.photoURL)&&void 0!==H?H:void 0,B0=null!==(X=m.tenantId)&&void 0!==X?X:void 0,Jy=null!==(Ae=m._redirectEventId)&&void 0!==Ae?Ae:void 0,dg=null!==(Be=m.createdAt)&&void 0!==Be?Be:void 0,Xy=null!==(rt=m.lastLoginAt)&&void 0!==rt?rt:void 0,{uid:ra,emailVerified:ev,isAnonymous:ns,providerData:hg,stsTokenManager:j0}=m;B(ra&&j0,p,"internal-error");const It=Ji.fromJSON(this.name,j0);B("string"==typeof ra,p,"internal-error"),ar(st,p.name),ar(Sn,p.name),B("boolean"==typeof ev,p,"internal-error"),B("boolean"==typeof ns,p,"internal-error"),ar(_s,p.name),ar(Md,p.name),ar(B0,p.name),ar(Jy,p.name),ar(dg,p.name),ar(Xy,p.name);const Qn=new ur({uid:ra,auth:p,email:Sn,emailVerified:ev,displayName:st,isAnonymous:ns,photoURL:Md,phoneNumber:_s,tenantId:B0,stsTokenManager:It,createdAt:dg,lastLoginAt:Xy});return hg&&Array.isArray(hg)&&(Qn.providerData=hg.map(Gl=>Object.assign({},Gl))),Jy&&(Qn._redirectEventId=Jy),Qn}static _fromIdTokenResponse(p,m,E=!1){return(0,h.Z)(function*(){const S=new Ji;S.updateFromServerResponse(m);const N=new ur({uid:m.localId,auth:p,stsTokenManager:S,isAnonymous:E});return yield tn(N),N})()}}const Xr=new Map;function qn(_){_e(_ instanceof Function,"Expected a class definition");let p=Xr.get(_);return p?(_e(p instanceof _,"Instance stored in cache mismatched with class"),p):(p=new _,Xr.set(_,p),p)}const Ri=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(m,E){var S=this;return(0,h.Z)(function*(){S.storage[m]=E})()}_get(m){var E=this;return(0,h.Z)(function*(){const S=E.storage[m];return void 0===S?null:S})()}_remove(m){var E=this;return(0,h.Z)(function*(){delete E.storage[m]})()}_addListener(m,E){}_removeListener(m,E){}}return _.type="NONE",_})();function $(_,p,m){return`firebase:${_}:${p}:${m}`}class j{constructor(p,m,E){this.persistence=p,this.auth=m,this.userKey=E;const{config:S,name:N}=this.auth;this.fullUserKey=$(this.userKey,S.apiKey,N),this.fullPersistenceKey=$("persistence",S.apiKey,N),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,h.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?ur._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,h.Z)(function*(){if(m.persistence===p)return;const E=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,E?m.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,E="authUser"){return(0,h.Z)(function*(){if(!m.length)return new j(qn(Ri),p,E);const S=(yield Promise.all(m.map(function(){var Be=(0,h.Z)(function*(rt){if(yield rt._isAvailable())return rt});return function(rt){return Be.apply(this,arguments)}}()))).filter(Be=>Be);let N=S[0]||qn(Ri);const H=$(E,p.config.apiKey,p.name);let X=null;for(const Be of m)try{const rt=yield Be._get(H);if(rt){const st=ur._fromJSON(p,rt);Be!==N&&(X=st),N=Be;break}}catch{}const Ae=S.filter(Be=>Be._shouldAllowMigration);return N._shouldAllowMigration&&Ae.length?(N=Ae[0],X&&(yield N._set(H,X.toJSON())),yield Promise.all(m.map(function(){var Be=(0,h.Z)(function*(rt){if(rt!==N)try{yield rt._remove(H)}catch{}});return function(rt){return Be.apply(this,arguments)}}())),new j(N,p,E)):new j(N,p,E)})()}}function K(_){const p=_.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(St(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Ee(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(lr(p))return"Blackberry";if(Ot(p))return"Webos";if(oe(p))return"Safari";if((p.includes("chrome/")||Ye(p))&&!p.includes("edge/"))return"Chrome";if(bt(p))return"Android";{const E=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function Ee(_=(0,k.z$)()){return/firefox\//i.test(_)}function oe(_=(0,k.z$)()){const p=_.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Ye(_=(0,k.z$)()){return/crios\//i.test(_)}function St(_=(0,k.z$)()){return/iemobile/i.test(_)}function bt(_=(0,k.z$)()){return/android/i.test(_)}function lr(_=(0,k.z$)()){return/blackberry/i.test(_)}function Ot(_=(0,k.z$)()){return/webos/i.test(_)}function On(_=(0,k.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function As(_=(0,k.z$)()){return On(_)||bt(_)||Ot(_)||lr(_)||/windows phone/i.test(_)||St(_)}function ce(_,p=[]){let m;switch(_){case"Browser":m=K((0,k.z$)());break;case"Worker":m=`${K((0,k.z$)())}-${_}`;break;default:m=_}const E=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${ee.SDK_VERSION}/${E}`}function Se(){return(Se=(0,h.Z)(function*(_){return(yield en(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function it(_,p){return qe.apply(this,arguments)}function qe(){return(qe=(0,h.Z)(function*(_,p){return en(_,"GET","/v2/recaptchaConfig",Tt(_,p))})).apply(this,arguments)}function Pt(_){return void 0!==_&&void 0!==_.getResponse}function Jt(_){return void 0!==_&&void 0!==_.enterprise}class Wn{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function br(_){return new Promise((p,m)=>{const E=document.createElement("script");E.setAttribute("src",_),E.onload=p,E.onerror=S=>{const N=te("internal-error");N.customData=S,m(N)},E.type="text/javascript",E.charset="UTF-8",function Kn(){var _,p;return null!==(p=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==p?p:document}().appendChild(E)})}function fs(_){return`__${_}${Math.floor(1e6*Math.random())}`}class Rc{constructor(p){this.type="recaptcha-enterprise",this.auth=Zn(p)}verify(p="verify",m=!1){var E=this;return(0,h.Z)(function*(){function N(){return N=(0,h.Z)(function*(X){if(!m){if(null==X.tenantId&&null!=X._agentRecaptchaConfig)return X._agentRecaptchaConfig.siteKey;if(null!=X.tenantId&&void 0!==X._tenantRecaptchaConfigs[X.tenantId])return X._tenantRecaptchaConfigs[X.tenantId].siteKey}return new Promise(function(){var Ae=(0,h.Z)(function*(Be,rt){it(X,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(st=>{if(void 0!==st.recaptchaKey){const Sn=new Wn(st);return null==X.tenantId?X._agentRecaptchaConfig=Sn:X._tenantRecaptchaConfigs[X.tenantId]=Sn,Be(Sn.siteKey)}rt(new Error("recaptcha Enterprise site key undefined"))}).catch(st=>{rt(st)})});return function(Be,rt){return Ae.apply(this,arguments)}}())}),N.apply(this,arguments)}function H(X,Ae,Be){const rt=window.grecaptcha;Jt(rt)?rt.enterprise.ready(()=>{rt.enterprise.execute(X,{action:p}).then(st=>{Ae(st)}).catch(()=>{Ae("NO_RECAPTCHA")})}):Be(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((X,Ae)=>{(function S(X){return N.apply(this,arguments)})(E.auth).then(Be=>{if(!m&&Jt(window.grecaptcha))H(Be,X,Ae);else{if(typeof window>"u")return void Ae(new Error("RecaptchaVerifier is only supported in browser"));br("https://www.google.com/recaptcha/enterprise.js?render="+Be).then(()=>{H(Be,X,Ae)}).catch(rt=>{Ae(rt)})}}).catch(Be=>{Ae(Be)})})})()}}function Oi(_,p,m){return xo.apply(this,arguments)}function xo(){return(xo=(0,h.Z)(function*(_,p,m,E=!1){const S=new Rc(_);let N;try{N=yield S.verify(m)}catch{N=yield S.verify(m,!0)}const H=Object.assign({},p);return Object.assign(H,E?{captchaResp:N}:{captchaResponse:N}),Object.assign(H,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(H,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),H})).apply(this,arguments)}class ba{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const E=N=>new Promise((H,X)=>{try{H(p(N))}catch(Ae){X(Ae)}});E.onAbort=m,this.queue.push(E);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,h.Z)(function*(){if(m.auth.currentUser===p)return;const E=[];try{for(const S of m.queue)yield S(p),S.onAbort&&E.push(S.onAbort)}catch(S){E.reverse();for(const N of E)try{N()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:S?.message})}})()}}class Oc{constructor(p,m,E,S){this.app=p,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=E,this.config=S,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ms(this),this.idTokenSubscription=new Ms(this),this.beforeStateQueue=new ba(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$e,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=S.sdkClientVersion}_initializeWithPersistence(p,m){var E=this;return m&&(this._popupRedirectResolver=qn(m)),this._initializationPromise=this.queue((0,h.Z)(function*(){var S,N;if(!E._deleted&&(E.persistenceManager=yield j.create(E,p),!E._deleted)){if(null!==(S=E._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(m),E.lastNotifiedUid=(null===(N=E.currentUser)||void 0===N?void 0:N.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,h.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,h.Z)(function*(){var E;const S=yield m.assertedPersistence.getCurrentUser();let N=S,H=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const X=null===(E=m.redirectUser)||void 0===E?void 0:E._redirectEventId,Ae=N?._redirectEventId,Be=yield m.tryRedirectSignIn(p);(!X||X===Ae)&&Be?.user&&(N=Be.user,H=!0)}if(!N)return m.directlySetCurrentUser(null);if(!N._redirectEventId){if(H)try{yield m.beforeStateQueue.runMiddleware(N)}catch(X){N=S,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(X))}return N?m.reloadAndSetCurrentUserOrClear(N):m.directlySetCurrentUser(null)}return B(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===N._redirectEventId?m.directlySetCurrentUser(N):m.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(p){var m=this;return(0,h.Z)(function*(){let E=null;try{E=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,h.Z)(function*(){try{yield tn(p)}catch(E){if("auth/network-request-failed"!==E?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function cn(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var p=this;return(0,h.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,h.Z)(function*(){const E=p?(0,k.m9)(p):null;return E&&B(E.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(E&&E._clone(m))})()}_updateCurrentUser(p,m=!1){var E=this;return(0,h.Z)(function*(){if(!E._deleted)return p&&B(E.tenantId===p.tenantId,E,"tenant-id-mismatch"),m||(yield E.beforeStateQueue.runMiddleware(p)),E.queue((0,h.Z)(function*(){yield E.directlySetCurrentUser(p),E.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,h.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,h.Z)(function*(){yield m.assertedPersistence.setPersistence(qn(p))}))}initializeRecaptchaConfig(){var p=this;return(0,h.Z)(function*(){const m=yield it(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),E=new Wn(m);null==p.tenantId?p._agentRecaptchaConfig=E:p._tenantRecaptchaConfigs[p.tenantId]=E,E.emailPasswordEnabled&&new Rc(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new k.LL("auth","Firebase",p())}onAuthStateChanged(p,m,E){return this.registerStateListener(this.authStateSubscription,p,m,E)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,E){return this.registerStateListener(this.idTokenSubscription,p,m,E)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var E=this;return(0,h.Z)(function*(){const S=yield E.getOrInitRedirectPersistenceManager(m);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,h.Z)(function*(){if(!m.redirectPersistenceManager){const E=p&&qn(p)||m._popupRedirectResolver;B(E,m,"argument-error"),m.redirectPersistenceManager=yield j.create(m,[qn(E._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,h.Z)(function*(){var E,S;return m._isInitialized&&(yield m.queue((0,h.Z)(function*(){}))),(null===(E=m._currentUser)||void 0===E?void 0:E._redirectEventId)===p?m._currentUser:(null===(S=m.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,h.Z)(function*(){if(p===m.currentUser)return m.queue((0,h.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,E,S){if(this._deleted)return()=>{};const N="function"==typeof m?m:m.next.bind(m),H=this._isInitialized?Promise.resolve():this._initializationPromise;return B(H,this,"internal-error"),H.then(()=>N(this.currentUser)),"function"==typeof m?p.addObserver(m,E,S):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,h.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return B(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=ce(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,h.Z)(function*(){var m;const E={"X-Client-Version":p.clientVersion};p.app.options.appId&&(E["X-Firebase-gmpid"]=p.app.options.appId);const S=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();S&&(E["X-Firebase-Client"]=S);const N=yield p._getAppCheckToken();return N&&(E["X-Firebase-AppCheck"]=N),E})()}_getAppCheckToken(){var p=this;return(0,h.Z)(function*(){var m;const E=yield null===(m=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return E?.error&&function ht(_,...p){vt.logLevel<=de.in.WARN&&vt.warn(`Auth (${ee.SDK_VERSION}): ${_}`,...p)}(`Error while retrieving App Check token: ${E.error}`),E?.token})()}}function Zn(_){return(0,k.m9)(_)}class Ms{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,k.ne)(m=>this.observer=m)}get next(){return B(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ca(_){const p=_.indexOf(":");return p<0?"":_.substr(0,p+1)}function Oh(_){if(!_)return null;const p=Number(_);return isNaN(p)?null:p}class No{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return he("not implemented")}_getIdTokenResponse(p){return he("not implemented")}_linkToIdToken(p,m){return he("not implemented")}_getReauthenticationResolver(p){return he("not implemented")}}function Lp(_,p){return du.apply(this,arguments)}function du(){return(du=(0,h.Z)(function*(_,p){return en(_,"POST","/v1/accounts:resetPassword",Tt(_,p))})).apply(this,arguments)}function Ph(_,p){return kh.apply(this,arguments)}function kh(){return(kh=(0,h.Z)(function*(_,p){return en(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function al(){return(al=(0,h.Z)(function*(_,p){return en(_,"POST","/v1/accounts:update",Tt(_,p))})).apply(this,arguments)}function Nr(_,p){return kc.apply(this,arguments)}function kc(){return(kc=(0,h.Z)(function*(_,p){return Ai(_,"POST","/v1/accounts:signInWithPassword",Tt(_,p))})).apply(this,arguments)}function ul(_,p){return hu.apply(this,arguments)}function hu(){return(hu=(0,h.Z)(function*(_,p){return en(_,"POST","/v1/accounts:sendOobCode",Tt(_,p))})).apply(this,arguments)}function ll(){return(ll=(0,h.Z)(function*(_,p){return ul(_,p)})).apply(this,arguments)}function Da(_,p){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,h.Z)(function*(_,p){return ul(_,p)})).apply(this,arguments)}function Wt(_,p){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,h.Z)(function*(_,p){return ul(_,p)})).apply(this,arguments)}function Ys(){return(Ys=(0,h.Z)(function*(_,p){return ul(_,p)})).apply(this,arguments)}function Lc(){return(Lc=(0,h.Z)(function*(_,p){return Ai(_,"POST","/v1/accounts:signInWithEmailLink",Tt(_,p))})).apply(this,arguments)}function fu(){return(fu=(0,h.Z)(function*(_,p){return Ai(_,"POST","/v1/accounts:signInWithEmailLink",Tt(_,p))})).apply(this,arguments)}class cl extends No{constructor(p,m,E,S=null){super("password",E),this._email=p,this._password=m,this._tenantId=S}static _fromEmailAndPassword(p,m){return new cl(p,m,"password")}static _fromEmailAndCode(p,m,E=null){return new cl(p,m,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,h.Z)(function*(){var E;switch(m.signInMethod){case"password":const S={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=p._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const N=yield Oi(p,S,"signInWithPassword");return Nr(p,N)}return Nr(p,S).catch(function(){var N=(0,h.Z)(function*(H){if("auth/missing-recaptcha-token"===H.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const X=yield Oi(p,S,"signInWithPassword");return Nr(p,X)}return Promise.reject(H)});return function(H){return N.apply(this,arguments)}}());case"emailLink":return function Br(_,p){return Lc.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:we(p,"internal-error")}})()}_linkToIdToken(p,m){var E=this;return(0,h.Z)(function*(){switch(E.signInMethod){case"password":return Ph(p,{idToken:m,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Vp(_,p){return fu.apply(this,arguments)}(p,{idToken:m,email:E._email,oobCode:E._password});default:we(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function ki(_,p){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,h.Z)(function*(_,p){return Ai(_,"POST","/v1/accounts:signInWithIdp",Tt(_,p))})).apply(this,arguments)}class Et extends No{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new Et(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):we("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:S}=m,N=(0,re._T)(m,["providerId","signInMethod"]);if(!E||!S)return null;const H=new Et(E,S);return H.idToken=N.idToken||void 0,H.accessToken=N.accessToken||void 0,H.secret=N.secret,H.nonce=N.nonce,H.pendingToken=N.pendingToken||null,H}_getIdTokenResponse(p){return ki(p,this.buildRequest())}_linkToIdToken(p,m){const E=this.buildRequest();return E.idToken=m,ki(p,E)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,ki(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,k.xO)(m)}return p}}function jr(){return(jr=(0,h.Z)(function*(_,p){return en(_,"POST","/v1/accounts:sendVerificationCode",Tt(_,p))})).apply(this,arguments)}function Cr(){return(Cr=(0,h.Z)(function*(_,p){return Ai(_,"POST","/v1/accounts:signInWithPhoneNumber",Tt(_,p))})).apply(this,arguments)}function Tn(){return(Tn=(0,h.Z)(function*(_,p){const m=yield Ai(_,"POST","/v1/accounts:signInWithPhoneNumber",Tt(_,p));if(m.temporaryProof)throw Mi(_,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const xs={USER_NOT_FOUND:"user-not-found"};function Dt(){return(Dt=(0,h.Z)(function*(_,p){return Ai(_,"POST","/v1/accounts:signInWithPhoneNumber",Tt(_,Object.assign(Object.assign({},p),{operation:"REAUTH"})),xs)})).apply(this,arguments)}class Dr extends No{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new Dr({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new Dr({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function Ro(_,p){return Cr.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function pu(_,p){return Tn.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Ta(_,p){return Dt.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:E,verificationCode:S}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:E,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:E,phoneNumber:S,temporaryProof:N}=p;return E||m||S||N?new Dr({verificationId:m,verificationCode:E,phoneNumber:S,temporaryProof:N}):null}}class In{constructor(p){var m,E,S,N,H,X;const Ae=(0,k.zd)((0,k.pd)(p)),Be=null!==(m=Ae.apiKey)&&void 0!==m?m:null,rt=null!==(E=Ae.oobCode)&&void 0!==E?E:null,st=function Up(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Ae.mode)&&void 0!==S?S:null);B(Be&&rt&&st,"argument-error"),this.apiKey=Be,this.operation=st,this.code=rt,this.continueUrl=null!==(N=Ae.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(H=Ae.languageCode)&&void 0!==H?H:null,this.tenantId=null!==(X=Ae.tenantId)&&void 0!==X?X:null}static parseLink(p){const m=function Ns(_){const p=(0,k.zd)((0,k.pd)(_)).link,m=p?(0,k.zd)((0,k.pd)(p)).deep_link_id:null,E=(0,k.zd)((0,k.pd)(_)).deep_link_id;return(E?(0,k.zd)((0,k.pd)(E)).link:null)||E||m||p||_}(p);try{return new In(m)}catch{return null}}}let Oo=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(m,E){return cl._fromEmailAndPassword(m,E)}static credentialWithLink(m,E){const S=In.parseLink(E);return B(S,"argument-error"),cl._fromEmailAndCode(m,S.code,S.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class cr{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Rs extends cr{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Os extends Rs{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return B("providerId"in m&&"signInMethod"in m,"argument-error"),Et._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return B(p.idToken||p.accessToken,"argument-error"),Et._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Os.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Os.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:E,oauthTokenSecret:S,pendingToken:N,nonce:H,providerId:X}=p;if(!E&&!S&&!m&&!N||!X)return null;try{return new Os(X)._credential({idToken:m,accessToken:E,nonce:H,pendingToken:N})}catch{return null}}}let Qs=(()=>{class _ extends Rs{constructor(){super("facebook.com")}static credential(m){return Et._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Fi=(()=>{class _ extends Rs{constructor(){super("google.com"),this.addScope("profile")}static credential(m,E){return Et._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:E})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:E,oauthAccessToken:S}=m;if(!E&&!S)return null;try{return _.credential(E,S)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),dl=(()=>{class _ extends Rs{constructor(){super("github.com")}static credential(m){return Et._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class jt extends No{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return ki(p,this.buildRequest())}_linkToIdToken(p,m){const E=this.buildRequest();return E.idToken=m,ki(p,E)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,ki(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:S,pendingToken:N}=m;return E&&S&&N&&E===S?new jt(E,N):null}static _create(p,m){return new jt(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Sa extends cr{constructor(p){B(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Sa.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Sa.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=jt.fromJSON(p);return B(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:E}=p;if(!m||!E)return null;try{return jt._create(E,m)}catch{return null}}}let hl=(()=>{class _ extends Rs{constructor(){super("twitter.com")}static credential(m,E){return Et._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:E})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:E,oauthTokenSecret:S}=m;if(!E||!S)return null;try{return _.credential(E,S)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function dr(_,p){return ko.apply(this,arguments)}function ko(){return(ko=(0,h.Z)(function*(_,p){return Ai(_,"POST","/v1/accounts:signUp",Tt(_,p))})).apply(this,arguments)}class hr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,E,S=!1){return(0,h.Z)(function*(){const N=yield ur._fromIdTokenResponse(p,E,S),H=Js(E);return new hr({user:N,providerId:H,_tokenResponse:E,operationType:m})})()}static _forOperation(p,m,E){return(0,h.Z)(function*(){yield p._updateTokensIfNecessary(E,!0);const S=Js(E);return new hr({user:p,providerId:S,_tokenResponse:E,operationType:m})})()}}function Js(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Bp(){return(Bp=(0,h.Z)(function*(_){var p;const m=Zn(_);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new hr({user:m.currentUser,providerId:null,operationType:"signIn"});const E=yield dr(m,{returnSecureToken:!0}),S=yield hr._fromIdTokenResponse(m,"signIn",E,!0);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class fr extends k.ZR{constructor(p,m,E,S){var N;super(m.code,m.message),this.operationType=E,this.user=S,Object.setPrototypeOf(this,fr.prototype),this.customData={appName:p.name,tenantId:null!==(N=p.tenantId)&&void 0!==N?N:void 0,_serverResponse:m.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(p,m,E,S){return new fr(p,m,E,S)}}function $r(_,p,m,E){return("reauthenticate"===p?m._getReauthenticationResolver(_):m._getIdTokenResponse(_)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?fr._fromErrorAndOperation(_,N,p,E):N})}function fl(_){return new Set(_.map(({providerId:p})=>p).filter(p=>!!p))}function mi(){return mi=(0,h.Z)(function*(_,p){const m=(0,k.m9)(_);yield Ma(!0,m,p);const{providerUserInfo:E}=yield function Co(_,p){return Do.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),S=fl(E||[]);return m.providerData=m.providerData.filter(N=>S.has(N.providerId)),S.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),mi.apply(this,arguments)}function ti(_,p){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,h.Z)(function*(_,p,m=!1){const E=yield Cn(_,p._linkToIdToken(_.auth,yield _.getIdToken()),m);return hr._forOperation(_,"link",E)})).apply(this,arguments)}function Ma(_,p,m){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,h.Z)(function*(_,p,m){yield tn(p);const S=!1===_?"provider-already-linked":"no-such-provider";B(fl(p.providerData).has(m)===_,p.auth,S)})).apply(this,arguments)}function _y(_,p){return pl.apply(this,arguments)}function pl(){return(pl=(0,h.Z)(function*(_,p,m=!1){const{auth:E}=_,S="reauthenticate";try{const N=yield Cn(_,$r(E,S,p,_),m);B(N.idToken,E,"internal-error");const H=Rt(N.idToken);B(H,E,"internal-error");const{sub:X}=H;return B(_.uid===X,E,"user-mismatch"),hr._forOperation(_,S,N)}catch(N){throw"auth/user-not-found"===N?.code&&we(E,"user-mismatch"),N}})).apply(this,arguments)}function Bc(_,p){return Lh.apply(this,arguments)}function Lh(){return(Lh=(0,h.Z)(function*(_,p,m=!1){const E="signIn",S=yield $r(_,E,p),N=yield hr._fromIdTokenResponse(_,E,S);return m||(yield _._updateCurrentUser(N.user)),N})).apply(this,arguments)}function jc(_,p){return Vh.apply(this,arguments)}function Vh(){return(Vh=(0,h.Z)(function*(_,p){return Bc(Zn(_),p)})).apply(this,arguments)}function wy(_,p){return bn.apply(this,arguments)}function bn(){return(bn=(0,h.Z)(function*(_,p){const m=(0,k.m9)(_);return yield Ma(!1,m,p.providerId),ti(m,p)})).apply(this,arguments)}function Ey(_,p){return jp.apply(this,arguments)}function jp(){return(jp=(0,h.Z)(function*(_,p){return _y((0,k.m9)(_),p)})).apply(this,arguments)}function $p(){return($p=(0,h.Z)(function*(_,p){return Ai(_,"POST","/v1/accounts:signInWithCustomToken",Tt(_,p))})).apply(this,arguments)}function Ps(){return Ps=(0,h.Z)(function*(_,p){const m=Zn(_),E=yield function M0(_,p){return $p.apply(this,arguments)}(m,{token:p,returnSecureToken:!0}),S=yield hr._fromIdTokenResponse(m,"signIn",E);return yield m._updateCurrentUser(S.user),S}),Ps.apply(this,arguments)}class $c{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?xa._fromServerResponse(p,m):"totpInfo"in m?Hc._fromServerResponse(p,m):we(p,"internal-error")}}class xa extends $c{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new xa(m)}}class Hc extends $c{constructor(p){super("totp",p)}static _fromServerResponse(p,m){return new Hc(m)}}function gu(_,p,m){var E;B((null===(E=m.url)||void 0===E?void 0:E.length)>0,_,"invalid-continue-uri"),B(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(B(m.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(B(m.android.packageName.length>0,_,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function mu(){return mu=(0,h.Z)(function*(_,p,m){var E;const S=Zn(_),N={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=S._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const H=yield Oi(S,N,"getOobCode",!0);m&&gu(S,H,m),yield Da(S,H)}else m&&gu(S,N,m),yield Da(S,N).catch(function(){var H=(0,h.Z)(function*(X){if("auth/missing-recaptcha-token"!==X.code)return Promise.reject(X);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ae=yield Oi(S,N,"getOobCode",!0);m&&gu(S,Ae,m),yield Da(S,Ae)}});return function(X){return H.apply(this,arguments)}}())}),mu.apply(this,arguments)}function gl(){return(gl=(0,h.Z)(function*(_,p,m){yield Lp((0,k.m9)(_),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Hr(){return Hr=(0,h.Z)(function*(_,p){yield function Pi(_,p){return al.apply(this,arguments)}((0,k.m9)(_),{oobCode:p})}),Hr.apply(this,arguments)}function ml(_,p){return yl.apply(this,arguments)}function yl(){return(yl=(0,h.Z)(function*(_,p){const m=(0,k.m9)(_),E=yield Lp(m,{oobCode:p}),S=E.requestType;switch(B(S,m,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":B(E.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":B(E.mfaInfo,m,"internal-error");default:B(E.email,m,"internal-error")}let N=null;return E.mfaInfo&&(N=$c._fromServerResponse(Zn(m),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:N},operation:S}})).apply(this,arguments)}function Na(){return(Na=(0,h.Z)(function*(_,p){const{data:m}=yield ml((0,k.m9)(_),p);return m.email})).apply(this,arguments)}function vl(){return vl=(0,h.Z)(function*(_,p,m){var E;const S=Zn(_),N={returnSecureToken:!0,email:p,password:m,clientType:"CLIENT_TYPE_WEB"};let H;if(null!==(E=S._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const Be=yield Oi(S,N,"signUpPassword");H=dr(S,Be)}else H=dr(S,N).catch(function(){var Be=(0,h.Z)(function*(rt){if("auth/missing-recaptcha-token"===rt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const st=yield Oi(S,N,"signUpPassword");return dr(S,st)}return Promise.reject(rt)});return function(rt){return Be.apply(this,arguments)}}());const X=yield H.catch(Be=>Promise.reject(Be)),Ae=yield hr._fromIdTokenResponse(S,"signIn",X);return yield S._updateCurrentUser(Ae.user),Ae}),vl.apply(this,arguments)}function Vn(){return Vn=(0,h.Z)(function*(_,p,m){var E;const S=Zn(_),N={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function H(X,Ae){B(Ae.handleCodeInApp,S,"argument-error"),Ae&&gu(S,X,Ae)}if(null!==(E=S._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const X=yield Oi(S,N,"getOobCode",!0);H(X,m),yield Wt(S,X)}else H(N,m),yield Wt(S,N).catch(function(){var X=(0,h.Z)(function*(Ae){if("auth/missing-recaptcha-token"!==Ae.code)return Promise.reject(Ae);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Be=yield Oi(S,N,"getOobCode",!0);H(Be,m),yield Wt(S,Be)}});return function(Ae){return X.apply(this,arguments)}}())}),Vn.apply(this,arguments)}function _l(){return(_l=(0,h.Z)(function*(_,p,m){const E=(0,k.m9)(_),S=Oo.credentialWithLink(p,m||He());return B(S._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),jc(E,S)})).apply(this,arguments)}function yu(){return(yu=(0,h.Z)(function*(_,p){return en(_,"POST","/v1/accounts:createAuthUri",Tt(_,p))})).apply(this,arguments)}function $h(){return $h=(0,h.Z)(function*(_,p){const E={identifier:p,continueUri:nt()?He():"http://localhost"},{signinMethods:S}=yield function wl(_,p){return yu.apply(this,arguments)}((0,k.m9)(_),E);return S||[]}),$h.apply(this,arguments)}function Ra(){return Ra=(0,h.Z)(function*(_,p){const m=(0,k.m9)(_),S={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};p&&gu(m.auth,S,p);const{email:N}=yield function Fh(_,p){return ll.apply(this,arguments)}(m.auth,S);N!==_.email&&(yield _.reload())}),Ra.apply(this,arguments)}function Xs(){return Xs=(0,h.Z)(function*(_,p,m){const E=(0,k.m9)(_),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:p};m&&gu(E.auth,N,m);const{email:H}=yield function Ur(_,p){return Ys.apply(this,arguments)}(E.auth,N);H!==_.email&&(yield _.reload())}),Xs.apply(this,arguments)}function qp(){return(qp=(0,h.Z)(function*(_,p){return en(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Il(){return Il=(0,h.Z)(function*(_,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const E=(0,k.m9)(_),N={idToken:yield E.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},H=yield Cn(E,function Gp(_,p){return qp.apply(this,arguments)}(E.auth,N));E.displayName=H.displayName||null,E.photoURL=H.photoUrl||null;const X=E.providerData.find(({providerId:Ae})=>"password"===Ae);X&&(X.displayName=E.displayName,X.photoURL=E.photoURL),yield E._updateTokensIfNecessary(H)}),Il.apply(this,arguments)}function Wp(_,p,m){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,h.Z)(function*(_,p,m){const{auth:E}=_,N={idToken:yield _.getIdToken(),returnSecureToken:!0};p&&(N.email=p),m&&(N.password=m);const H=yield Cn(_,Ph(E,N));yield _._updateTokensIfNecessary(H,!0)})).apply(this,arguments)}class Uo{constructor(p,m,E={}){this.isNewUser=p,this.providerId=m,this.profile=E}}class vu extends Uo{constructor(p,m,E,S){super(p,m,E),this.username=S}}class qc extends Uo{constructor(p,m){super(p,"facebook.com",m)}}class qh extends vu{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class bl extends Uo{constructor(p,m){super(p,"google.com",m)}}class Bo extends vu{constructor(p,m,E){super(p,"twitter.com",m,E)}}function Kp(_){const{user:p,_tokenResponse:m}=_;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Gh(_){var p,m;if(!_)return null;const{providerId:E}=_,S=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},N=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!E&&_?.idToken){const H=null===(m=null===(p=Rt(_.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(H)return new Uo(N,"anonymous"!==H&&"custom"!==H?H:null)}if(!E)return null;switch(E){case"facebook.com":return new qc(N,S);case"github.com":return new qh(N,S);case"google.com":return new bl(N,S);case"twitter.com":return new Bo(N,S,_.screenName||null);case"custom":case"anonymous":return new Uo(N,null);default:return new Uo(N,E,S)}}(m)}class Un{constructor(p,m,E){this.type=p,this.credential=m,this.auth=E}static _fromIdtoken(p,m){return new Un("enroll",p,m)}static _fromMfaPendingCredential(p){return new Un("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,E;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Un._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(E=p.multiFactorSession)&&void 0!==E&&E.idToken)return Un._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Pa{constructor(p,m,E){this.session=p,this.hints=m,this.signInResolver=E}static _fromError(p,m){const E=Zn(p),S=m.customData._serverResponse,N=(S.mfaInfo||[]).map(X=>$c._fromServerResponse(E,X));B(S.mfaPendingCredential,E,"internal-error");const H=Un._fromMfaPendingCredential(S.mfaPendingCredential);return new Pa(H,N,function(){var X=(0,h.Z)(function*(Ae){const Be=yield Ae._process(E,H);delete S.mfaInfo,delete S.mfaPendingCredential;const rt=Object.assign(Object.assign({},S),{idToken:Be.idToken,refreshToken:Be.refreshToken});switch(m.operationType){case"signIn":const st=yield hr._fromIdTokenResponse(E,m.operationType,rt);return yield E._updateCurrentUser(st.user),st;case"reauthenticate":return B(m.user,E,"internal-error"),hr._forOperation(m.user,m.operationType,rt);default:we(E,"internal-error")}});return function(Ae){return X.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,h.Z)(function*(){return m.signInResolver(p)})()}}class jo{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(E=>$c._fromServerResponse(p.auth,E)))})}static _fromUser(p){return new jo(p)}getSession(){var p=this;return(0,h.Z)(function*(){return Un._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var E=this;return(0,h.Z)(function*(){const S=p,N=yield E.getSession(),H=yield Cn(E.user,S._process(E.user.auth,N,m));return yield E.user._updateTokensIfNecessary(H),E.user.reload()})()}unenroll(p){var m=this;return(0,h.Z)(function*(){const E="string"==typeof p?p:p.uid,S=yield m.user.getIdToken();try{const N=yield Cn(m.user,function Zh(_,p){return en(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Tt(_,p))}(m.user.auth,{idToken:S,mfaEnrollmentId:E}));m.enrolledFactors=m.enrolledFactors.filter(({uid:H})=>H!==E),yield m.user._updateTokensIfNecessary(N),yield m.user.reload()}catch(N){throw N}})()}}const $o=new WeakMap,Ct="__sak";class Yh{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Ct,"1"),this.storage.removeItem(Ct),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ho=(()=>{class _ extends Yh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,E)=>this.onStorageEvent(m,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Qp(){const _=(0,k.z$)();return oe(_)||On(_)}()&&function cu(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=As(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const E of Object.keys(this.listeners)){const S=this.storage.getItem(E),N=this.localCache[E];S!==N&&m(E,N,S)}}onStorageEvent(m,E=!1){if(!m.key)return void this.forAllChangedKeys((X,Ae,Be)=>{this.notifyListeners(X,Be)});const S=m.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const X=this.storage.getItem(S);if(m.newValue!==X)null!==m.newValue?this.storage.setItem(S,m.newValue):this.storage.removeItem(S);else if(this.localCache[S]===m.newValue&&!E)return}const N=()=>{const X=this.storage.getItem(S);!E&&this.localCache[S]===X||this.notifyListeners(S,X)},H=this.storage.getItem(S);!function hs(){return(0,k.w1)()&&10===document.documentMode}()||H===m.newValue||m.newValue===m.oldValue?N():setTimeout(N,10)}notifyListeners(m,E){this.localCache[m]=E;const S=this.listeners[m];if(S)for(const N of Array.from(S))N(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,E,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:E,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,E){var S=()=>super._set,N=this;return(0,h.Z)(function*(){yield S().call(N,m,E),N.localCache[m]=JSON.stringify(E)})()}_get(m){var E=()=>super._get,S=this;return(0,h.Z)(function*(){const N=yield E().call(S,m);return S.localCache[m]=JSON.stringify(N),N})()}_remove(m){var E=()=>super._remove,S=this;return(0,h.Z)(function*(){yield E().call(S,m),delete S.localCache[m]})()}}return _.type="LOCAL",_})(),zo=(()=>{class _ extends Yh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,E){}_removeListener(m,E){}}return _.type="SESSION",_})();let Yc=(()=>{class _{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const E=this.receivers.find(N=>N.isListeningto(m));if(E)return E;const S=new _(m);return this.receivers.push(S),S}isListeningto(m){return this.eventTarget===m}handleEvent(m){var E=this;return(0,h.Z)(function*(){const S=m,{eventId:N,eventType:H,data:X}=S.data,Ae=E.handlersMap[H];if(!Ae?.size)return;S.ports[0].postMessage({status:"ack",eventId:N,eventType:H});const Be=Array.from(Ae).map(function(){var st=(0,h.Z)(function*(Sn){return Sn(S.origin,X)});return function(Sn){return st.apply(this,arguments)}}()),rt=yield function Iy(_){return Promise.all(_.map(function(){var p=(0,h.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(E){return{fulfilled:!1,reason:E}}});return function(m){return p.apply(this,arguments)}}()))}(Be);S.ports[0].postMessage({status:"done",eventId:N,eventType:H,response:rt})})()}_subscribe(m,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(E)}_unsubscribe(m,E){this.handlersMap[m]&&E&&this.handlersMap[m].delete(E),(!E||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Qc(_="",p=10){let m="";for(let E=0;E<p;E++)m+=Math.floor(10*Math.random());return _+m}class R0{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,E=50){var S=this;return(0,h.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let H,X;return new Promise((Ae,Be)=>{const rt=Qc("",20);N.port1.start();const st=setTimeout(()=>{Be(new Error("unsupported_event"))},E);X={messageChannel:N,onMessage(Sn){const _s=Sn;if(_s.data.eventId===rt)switch(_s.data.status){case"ack":clearTimeout(st),H=setTimeout(()=>{Be(new Error("timeout"))},3e3);break;case"done":clearTimeout(H),Ae(_s.data.response);break;default:clearTimeout(st),clearTimeout(H),Be(new Error("invalid_response"))}}},S.handlers.add(X),N.port1.addEventListener("message",X.onMessage),S.target.postMessage({eventType:p,eventId:rt,data:m},[N.port2])}).finally(()=>{X&&S.removeMessageHandler(X)})})()}}function pe(){return window}function Al(){return typeof pe().WorkerGlobalScope<"u"&&"function"==typeof pe().importScripts}function er(){return(er=(0,h.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Xi="firebaseLocalStorageDb",Go="firebaseLocalStorage",Ml="fbase_key";class Jc{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Eu(_,p){return _.transaction([Go],p?"readwrite":"readonly").objectStore(Go)}function es(){const _=indexedDB.open(Xi,1);return new Promise((p,m)=>{_.addEventListener("error",()=>{m(_.error)}),_.addEventListener("upgradeneeded",()=>{const E=_.result;try{E.createObjectStore(Go,{keyPath:Ml})}catch(S){m(S)}}),_.addEventListener("success",(0,h.Z)(function*(){const E=_.result;E.objectStoreNames.contains(Go)?p(E):(E.close(),yield function ni(){const _=indexedDB.deleteDatabase(Xi);return new Jc(_).toPromise()}(),p(yield es()))}))})}function Fa(_,p,m){return ks.apply(this,arguments)}function ks(){return(ks=(0,h.Z)(function*(_,p,m){const E=Eu(_,!0).put({[Ml]:p,value:m});return new Jc(E).toPromise()})).apply(this,arguments)}function Xc(){return(Xc=(0,h.Z)(function*(_,p){const m=Eu(_,!1).get(p),E=yield new Jc(m).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function ed(_,p){const m=Eu(_,!0).delete(p);return new Jc(m).toPromise()}const qo=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,h.Z)(function*(){return m.db||(m.db=yield es()),m.db})()}_withRetries(m){var E=this;return(0,h.Z)(function*(){let S=0;for(;;)try{const N=yield E._openDb();return yield m(N)}catch(N){if(S++>3)throw N;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,h.Z)(function*(){return Al()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,h.Z)(function*(){m.receiver=Yc._getInstance(function Pn(){return Al()?self:null}()),m.receiver._subscribe("keyChanged",function(){var E=(0,h.Z)(function*(S,N){return{keyProcessed:(yield m._poll()).includes(N.key)}});return function(S,N){return E.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var E=(0,h.Z)(function*(S,N){return["keyChanged"]});return function(S,N){return E.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,h.Z)(function*(){var E,S;if(m.activeServiceWorker=yield function Jh(){return er.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new R0(m.activeServiceWorker);const N=yield m.sender._send("ping",{},800);N&&null!==(E=N[0])&&void 0!==E&&E.fulfilled&&null!==(S=N[0])&&void 0!==S&&S.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var E=this;return(0,h.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function wu(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:m},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const m=yield es();return yield Fa(m,Ct,"1"),yield ed(m,Ct),!0}catch{}return!1})()}_withPendingWrite(m){var E=this;return(0,h.Z)(function*(){E.pendingWrites++;try{yield m()}finally{E.pendingWrites--}})()}_set(m,E){var S=this;return(0,h.Z)(function*(){return S._withPendingWrite((0,h.Z)(function*(){return yield S._withRetries(N=>Fa(N,m,E)),S.localCache[m]=E,S.notifyServiceWorker(m)}))})()}_get(m){var E=this;return(0,h.Z)(function*(){const S=yield E._withRetries(N=>function gr(_,p){return Xc.apply(this,arguments)}(N,m));return E.localCache[m]=S,S})()}_remove(m){var E=this;return(0,h.Z)(function*(){return E._withPendingWrite((0,h.Z)(function*(){return yield E._withRetries(S=>ed(S,m)),delete E.localCache[m],E.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,h.Z)(function*(){const E=yield m._withRetries(H=>{const X=Eu(H,!1).getAll();return new Jc(X).toPromise()});if(!E)return[];if(0!==m.pendingWrites)return[];const S=[],N=new Set;for(const{fbase_key:H,value:X}of E)N.add(H),JSON.stringify(m.localCache[H])!==JSON.stringify(X)&&(m.notifyListeners(H,X),S.push(H));for(const H of Object.keys(m.localCache))m.localCache[H]&&!N.has(H)&&(m.notifyListeners(H,null),S.push(H));return S})()}notifyListeners(m,E){this.localCache[m]=E;const S=this.listeners[m];if(S)for(const N of Array.from(S))N(E)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})(),La=1e12;class nf{constructor(p){this.auth=p,this.counter=La,this._widgets=new Map}render(p,m){const E=this.counter;return this._widgets.set(E,new id(p,this.auth.name,m||{})),this.counter++,E}reset(p){var m;const E=p||La;null===(m=this._widgets.get(E))||void 0===m||m.delete(),this._widgets.delete(E)}getResponse(p){var m;return(null===(m=this._widgets.get(p||La))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,h.Z)(function*(){var E;return null===(E=m._widgets.get(p||La))||void 0===E||E.execute(),""})()}}class id{constructor(p,m,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;B(S,"argument-error",{appName:m}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function sd(_){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<_;E++)p.push(m.charAt(Math.floor(62*Math.random())));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Iu=fs("rcb"),rf=new or(3e4,6e4);class ri{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=pe().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return B(function to(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(m),p,"argument-error"),this.shouldResolveImmediately(m)&&Pt(pe().grecaptcha)?Promise.resolve(pe().grecaptcha):new Promise((E,S)=>{const N=pe().setTimeout(()=>{S(te(p,"network-request-failed"))},rf.get());pe()[Iu]=()=>{pe().clearTimeout(N),delete pe()[Iu];const X=pe().grecaptcha;if(!X||!Pt(X))return void S(te(p,"internal-error"));const Ae=X.render;X.render=(Be,rt)=>{const st=Ae(Be,rt);return this.counter++,st},this.hostLanguage=m,E(X)},br(`https://www.google.com/recaptcha/api.js??${(0,k.xO)({onload:Iu,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(N),S(te(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=pe().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class kn{load(p){return(0,h.Z)(function*(){return new nf(p)})()}clearedOneInstance(){}}const od="recaptcha",Cy={theme:"light",type:"image"};class sf{constructor(p,m=Object.assign({},Cy),E){this.parameters=m,this.type=od,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Zn(E),this.isInvisible="invisible"===this.parameters.size,B(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;B(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new kn:new ri,this.validateStartingState()}verify(){var p=this;return(0,h.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),E=p.getAssertedRecaptcha();return E.getResponse(m)||new Promise(N=>{const H=X=>{X&&(p.tokenChangeListeners.delete(H),N(X))};p.tokenChangeListeners.add(H),p.isInvisible&&E.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){B(!this.parameters.sitekey,this.auth,"argument-error"),B(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),B(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(E=>E(m)),"function"==typeof p)p(m);else if("string"==typeof p){const E=pe()[p];"function"==typeof E&&E(m)}}}assertNotDestroyed(){B(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,h.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const E=document.createElement("div");m.appendChild(E),m=E}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,h.Z)(function*(){B(nt()&&!Al(),p.auth,"internal-error"),yield function Dy(){let _=null;return new Promise(p=>{"complete"!==document.readyState?(_=()=>p(),window.addEventListener("load",_)):p()}).catch(p=>{throw _&&window.removeEventListener("load",_),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function ne(_){return Se.apply(this,arguments)}(p.auth);B(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return B(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class pn{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=Dr._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function no(){return(no=(0,h.Z)(function*(_,p,m){const E=Zn(_),S=yield so(E,p,(0,k.m9)(m));return new pn(S,N=>jc(E,N))})).apply(this,arguments)}function bu(){return(bu=(0,h.Z)(function*(_,p,m){const E=(0,k.m9)(_);yield Ma(!1,E,"phone");const S=yield so(E.auth,p,(0,k.m9)(m));return new pn(S,N=>wy(E,N))})).apply(this,arguments)}function io(){return(io=(0,h.Z)(function*(_,p,m){const E=(0,k.m9)(_),S=yield so(E.auth,p,(0,k.m9)(m));return new pn(S,N=>Ey(E,N))})).apply(this,arguments)}function so(_,p,m){return oo.apply(this,arguments)}function oo(){return oo=(0,h.Z)(function*(_,p,m){var E;const S=yield m.verify();try{let N;if(B("string"==typeof S,_,"argument-error"),B(m.type===od,_,"argument-error"),N="string"==typeof p?{phoneNumber:p}:p,"session"in N){const H=N.session;if("phoneNumber"in N)return B("enroll"===H.type,_,"internal-error"),(yield function Kc(_,p){return en(_,"POST","/v2/accounts/mfaEnrollment:start",Tt(_,p))}(_,{idToken:H.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{B("signin"===H.type,_,"internal-error");const X=(null===(E=N.multiFactorHint)||void 0===E?void 0:E.uid)||N.multiFactorUid;return B(X,_,"missing-multi-factor-info"),(yield function ef(_,p){return en(_,"POST","/v2/accounts/mfaSignIn:start",Tt(_,p))}(_,{mfaPendingCredential:H.credential,mfaEnrollmentId:X,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:H}=yield function En(_,p){return jr.apply(this,arguments)}(_,{phoneNumber:N.phoneNumber,recaptchaToken:S});return H}}finally{m._reset()}}),oo.apply(this,arguments)}function Rr(){return(Rr=(0,h.Z)(function*(_,p){yield ti((0,k.m9)(_),p)})).apply(this,arguments)}let xt=(()=>{class _{constructor(m){this.providerId=_.PROVIDER_ID,this.auth=Zn(m)}verifyPhoneNumber(m,E){return so(this.auth,m,(0,k.m9)(E))}static credential(m,E){return Dr._fromVerification(m,E)}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:E,temporaryProof:S}=m;return E&&S?Dr._fromTokenResponse(E,S):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Ui(_,p){return p?qn(p):(B(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Or extends No{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return ki(p,this._buildIdpRequest())}_linkToIdToken(p,m){return ki(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return ki(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function ad(_){return Bc(_.auth,new Or(_),_.bypassAuthState)}function af(_){const{auth:p,user:m}=_;return B(m,p,"internal-error"),_y(m,new Or(_),_.bypassAuthState)}function Ua(_){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,h.Z)(function*(_){const{auth:p,user:m}=_;return B(m,p,"internal-error"),ti(m,new Or(_),_.bypassAuthState)})).apply(this,arguments)}class Fs{constructor(p,m,E,S,N=!1){this.auth=p,this.resolver=E,this.user=S,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,h.Z)(function*(E,S){p.pendingPromise={resolve:E,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(N){p.reject(N)}});return function(E,S){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,h.Z)(function*(){const{urlResponse:E,sessionId:S,postBody:N,tenantId:H,error:X,type:Ae}=p;if(X)return void m.reject(X);const Be={auth:m.auth,requestUri:E,sessionId:S,tenantId:H||void 0,postBody:N||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ae)(Be))}catch(rt){m.reject(rt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return ad;case"linkViaPopup":case"linkViaRedirect":return Ua;case"reauthViaPopup":case"reauthViaRedirect":return af;default:we(this.auth,"internal-error")}}resolve(p){_e(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){_e(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tr=new or(2e3,1e4);function lf(){return(lf=(0,h.Z)(function*(_,p,m){const E=Zn(_);Ne(_,p,cr);const S=Ui(E,m);return new Bi(E,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function Wo(){return(Wo=(0,h.Z)(function*(_,p,m){const E=(0,k.m9)(_);Ne(E.auth,p,cr);const S=Ui(E.auth,m);return new Bi(E.auth,"reauthViaPopup",p,S,E).executeNotNull()})).apply(this,arguments)}function ts(){return(ts=(0,h.Z)(function*(_,p,m){const E=(0,k.m9)(_);Ne(E.auth,p,cr);const S=Ui(E.auth,m);return new Bi(E.auth,"linkViaPopup",p,S,E).executeNotNull()})).apply(this,arguments)}let Bi=(()=>{class _ extends Fs{constructor(m,E,S,N,H){super(m,E,N,H),this.provider=S,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var m=this;return(0,h.Z)(function*(){const E=yield m.execute();return B(E,m.auth,"internal-error"),E})()}onExecution(){var m=this;return(0,h.Z)(function*(){_e(1===m.filter.length,"Popup operations only handle one event");const E=Qc();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],E),m.authWindow.associatedEvent=E,m.resolver._originValidation(m.auth).catch(S=>{m.reject(S)}),m.resolver._isIframeWebStorageSupported(m.auth,S=>{S||m.reject(te(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(te(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const m=()=>{var E,S;this.pollId=null!==(S=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(te(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,tr.get())};m()}}return _.currentPopupAction=null,_})();const Ko="pendingRedirect",mr=new Map;class uo extends Fs{constructor(p,m,E=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,E),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,h.Z)(function*(){let E=mr.get(m.auth._key());if(!E){try{const N=(yield function Rl(_,p){return eg.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;E=()=>Promise.resolve(N)}catch(S){E=()=>Promise.reject(S)}mr.set(m.auth._key(),E)}return m.bypassAuthState||mr.set(m.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,E=this;return(0,h.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(E,p);if("unknown"!==p.type){if(p.eventId){const S=yield E.auth._redirectUserForId(p.eventId);if(S)return E.user=S,m().call(E,p);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function eg(){return(eg=(0,h.Z)(function*(_,p){const m=Zo(p),E=cd(_);if(!(yield E._isAvailable()))return!1;const S="true"===(yield E._get(m));return yield E._remove(m),S})).apply(this,arguments)}function ji(_,p){return ld.apply(this,arguments)}function ld(){return(ld=(0,h.Z)(function*(_,p){return cd(_)._set(Zo(p),"true")})).apply(this,arguments)}function Ba(_,p){mr.set(_._key(),p)}function cd(_){return qn(_._redirectPersistence)}function Zo(_){return $(Ko,_.config.apiKey,_.name)}function Cu(_,p,m){return function cf(_,p,m){return Yo.apply(this,arguments)}(_,p,m)}function Yo(){return(Yo=(0,h.Z)(function*(_,p,m){const E=Zn(_);Ne(_,p,cr),yield E._initializationPromise;const S=Ui(E,m);return yield ji(S,E),S._openRedirect(E,p,"signInViaRedirect")})).apply(this,arguments)}function dd(_,p,m){return function hd(_,p,m){return Du.apply(this,arguments)}(_,p,m)}function Du(){return(Du=(0,h.Z)(function*(_,p,m){const E=(0,k.m9)(_);Ne(E.auth,p,cr),yield E.auth._initializationPromise;const S=Ui(E.auth,m);yield ji(S,E.auth);const N=yield gd(E);return S._openRedirect(E.auth,p,"reauthViaRedirect",N)})).apply(this,arguments)}function df(_,p,m){return function fd(_,p,m){return ms.apply(this,arguments)}(_,p,m)}function ms(){return(ms=(0,h.Z)(function*(_,p,m){const E=(0,k.m9)(_);Ne(E.auth,p,cr),yield E.auth._initializationPromise;const S=Ui(E.auth,m);yield Ma(!1,E,p.providerId),yield ji(S,E.auth);const N=yield gd(E);return S._openRedirect(E.auth,p,"linkViaRedirect",N)})).apply(this,arguments)}function ja(){return(ja=(0,h.Z)(function*(_,p){return yield Zn(_)._initializationPromise,Qo(_,p,!1)})).apply(this,arguments)}function Qo(_,p){return ys.apply(this,arguments)}function ys(){return(ys=(0,h.Z)(function*(_,p,m=!1){const E=Zn(_),S=Ui(E,p),H=yield new uo(E,S,m).execute();return H&&!m&&(delete H.user._redirectEventId,yield E._persistUserIfCurrent(H.user),yield E._setRedirectUser(null,p)),H})).apply(this,arguments)}function gd(_){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,h.Z)(function*(_){const p=Qc(`${_.uid}:::`);return _._redirectEventId=p,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),p})).apply(this,arguments)}class Jo{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(p,E)&&(m=!0,this.sendToConsumer(p,E),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Su(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Tu(_);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var E;if(p.error&&!Tu(p)){const S=(null===(E=p.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";m.onError(te(this.auth,S))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const E=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&E}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ls(p))}saveEventToCache(p){this.cachedEventUids.add(Ls(p)),this.lastProcessedEventTime=Date.now()}}function Ls(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(p=>p).join("-")}function Tu({type:_,error:p}){return"unknown"===_&&"auth/no-auth-event"===p?.code}function Xo(_){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,h.Z)(function*(_,p={}){return en(_,"GET","/v1/projects",p)})).apply(this,arguments)}const $i=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$a=/^https?/;function kl(){return(kl=(0,h.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:p}=yield Xo(_);for(const m of p)try{if(yi(m))return}catch{}we(_,"unauthorized-domain")})).apply(this,arguments)}function yi(_){const p=He(),{protocol:m,hostname:E}=new URL(p);if(_.startsWith("chrome-extension://")){const H=new URL(_);return""===H.hostname&&""===E?"chrome-extension:"===m&&_.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&H.hostname===E}if(!$a.test(m))return!1;if($i.test(_))return E===_;const S=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(E)}const md=new or(3e4,6e4);function Fl(){const _=pe().___jsl;if(_?.H)for(const p of Object.keys(_.H))if(_.H[p].r=_.H[p].r||[],_.H[p].L=_.H[p].L||[],_.H[p].r=[..._.H[p].L],_.CP)for(let m=0;m<_.CP.length;m++)_.CP[m]=null}let Vs=null;const Ha=new or(5e3,15e3),Qb="__/auth/iframe",Jb="emulator/auth/iframe",za={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Sy=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ay(_){const p=_.config;B(p.authDomain,_,"auth-domain-config-required");const m=p.emulator?Ft(p,Jb):`https://${_.config.authDomain}/${Qb}`,E={apiKey:p.apiKey,appName:_.name,v:ee.SDK_VERSION},S=Sy.get(_.config.apiHost);S&&(E.eid=S);const N=_._getFrameworks();return N.length&&(E.fw=N.join(",")),`${m}?${(0,k.xO)(E).slice(1)}`}function b(){return b=(0,h.Z)(function*(_){const p=yield function hf(_){return Vs=Vs||function yd(_){return new Promise((p,m)=>{var E,S,N;function H(){Fl(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Fl(),m(te(_,"network-request-failed"))},timeout:md.get()})}if(null!==(S=null===(E=pe().gapi)||void 0===E?void 0:E.iframes)&&void 0!==S&&S.Iframe)p(gapi.iframes.getContext());else{if(null===(N=pe().gapi)||void 0===N||!N.load){const X=fs("iframefcb");return pe()[X]=()=>{gapi.load?H():m(te(_,"network-request-failed"))},br(`https://apis.google.com/js/api.js?onload=${X}`).catch(Ae=>m(Ae))}H()}}).catch(p=>{throw Vs=null,p})}(_),Vs}(_),m=pe().gapi;return B(m,_,"internal-error"),p.open({where:document.body,url:Ay(_),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:za,dontclear:!0},E=>new Promise(function(){var S=(0,h.Z)(function*(N,H){yield E.restyle({setHideOnLeave:!1});const X=te(_,"network-request-failed"),Ae=pe().setTimeout(()=>{H(X)},Ha.get());function Be(){pe().clearTimeout(Ae),N(E)}E.ping(Be).then(Be,()=>{H(X)})});return function(N,H){return S.apply(this,arguments)}}()))}),b.apply(this,arguments)}const D={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ue{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const at="__/auth/handler",At="emulator/auth/handler",kt=encodeURIComponent("fac");function an(_,p,m,E,S,N){return jn.apply(this,arguments)}function jn(){return(jn=(0,h.Z)(function*(_,p,m,E,S,N){B(_.config.authDomain,_,"auth-domain-config-required"),B(_.config.apiKey,_,"invalid-api-key");const H={apiKey:_.config.apiKey,appName:_.name,authType:m,redirectUrl:E,v:ee.SDK_VERSION,eventId:S};if(p instanceof cr){p.setDefaultLanguage(_.languageCode),H.providerId=p.providerId||"",(0,k.xb)(p.getCustomParameters())||(H.customParameters=JSON.stringify(p.getCustomParameters()));for(const[rt,st]of Object.entries(N||{}))H[rt]=st}if(p instanceof Rs){const rt=p.getScopes().filter(st=>""!==st);rt.length>0&&(H.scopes=rt.join(","))}_.tenantId&&(H.tid=_.tenantId);const X=H;for(const rt of Object.keys(X))void 0===X[rt]&&delete X[rt];const Ae=yield _._getAppCheckToken(),Be=Ae?`#${kt}=${encodeURIComponent(Ae)}`:"";return`${function Hi({config:_}){return _.emulator?Ft(_,At):`https://${_.authDomain}/${at}`}(_)}?${(0,k.xO)(X).slice(1)}${Be}`})).apply(this,arguments)}const Au="webStorageSupport",vi=class ea{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zo,this._completeRedirectFn=Qo,this._overrideRedirectResult=Ba}_openPopup(p,m,E,S){var N=this;return(0,h.Z)(function*(){var H;_e(null===(H=N.eventManagers[p._key()])||void 0===H?void 0:H.manager,"_initialize() not called before _openPopup()");const X=yield an(p,m,E,He(),S);return function Ue(_,p,m,E=500,S=600){const N=Math.max((window.screen.availHeight-S)/2,0).toString(),H=Math.max((window.screen.availWidth-E)/2,0).toString();let X="";const Ae=Object.assign(Object.assign({},D),{width:E.toString(),height:S.toString(),top:N,left:H}),Be=(0,k.z$)().toLowerCase();m&&(X=Ye(Be)?"_blank":m),Ee(Be)&&(p=p||"http://localhost",Ae.scrollbars="yes");const rt=Object.entries(Ae).reduce((Sn,[_s,Md])=>`${Sn}${_s}=${Md},`,"");if(function Xn(_=(0,k.z$)()){var p;return On(_)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Be)&&"_self"!==X)return function Le(_,p){const m=document.createElement("a");m.href=_,m.target=p;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(E)}(p||"",X),new ue(null);const st=window.open(p||"",X,rt);B(st,_,"popup-blocked");try{st.focus()}catch{}return new ue(st)}(p,X,Qc())})()}_openRedirect(p,m,E,S){var N=this;return(0,h.Z)(function*(){return yield N._originValidation(p),function Xt(_){pe().location.href=_}(yield an(p,m,E,He(),S)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:S,promise:N}=this.eventManagers[m];return S?Promise.resolve(S):(_e(N,"If manager is not set, promise should be"),N)}const E=this.initAndGetManager(p);return this.eventManagers[m]={promise:E},E.catch(()=>{delete this.eventManagers[m]}),E}initAndGetManager(p){var m=this;return(0,h.Z)(function*(){const E=yield function yr(_){return b.apply(this,arguments)}(p),S=new Jo(p);return E.register("authEvent",N=>(B(N?.authEvent,p,"invalid-auth-event"),{status:S.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:S},m.iframes[p._key()]=E,S})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(Au,{type:Au},S=>{var N;const H=null===(N=S?.[0])||void 0===N?void 0:N[Au];void 0!==H&&m(!!H),we(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function tg(_){return kl.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return As()||oe()||On()}};class vs{constructor(p){this.factorId=p}_process(p,m,E){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,E);case"signin":return this._finalizeSignIn(p,m.credential);default:return he("unexpected MultiFactorSessionType")}}}class vd extends vs{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new vd(p)}_finalizeEnroll(p,m,E){return function eo(_,p){return en(_,"POST","/v2/accounts/mfaEnrollment:finalize",Tt(_,p))}(p,{idToken:m,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function nd(_,p){return en(_,"POST","/v2/accounts/mfaSignIn:finalize",Tt(_,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Xb=(()=>{class _{constructor(){}static assertion(m){return vd._fromCredential(m)}}return _.FACTOR_ID="phone",_})();var _d="@firebase/auth";class ff{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,h.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(E=>{p(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);m&&(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){B(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function xu(){return window}(0,k.Pz)("authIdTokenMaxAge"),function O0(_){(0,ee._registerComponent)(new ge.wA("auth",(p,{options:m})=>{const E=p.getProvider("app").getImmediate(),S=p.getProvider("heartbeat"),N=p.getProvider("app-check-internal"),{apiKey:H,authDomain:X}=E.options;B(H&&!H.includes(":"),"invalid-api-key",{appName:E.name});const Ae={apiKey:H,authDomain:X,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ce(_)},Be=new Oc(E,S,N,Ae);return function Fp(_,p){const m=p?.persistence||[],E=(Array.isArray(m)?m:[m]).map(qn);p?.errorMap&&_._updateErrorMap(p.errorMap),_._initializeWithPersistence(E,p?.popupRedirectResolver)}(Be,m),Be},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,E)=>{p.getProvider("auth-internal").initialize()})),(0,ee._registerComponent)(new ge.wA("auth-internal",p=>{const m=Zn(p.getProvider("auth").getImmediate());return new ff(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ee.registerVersion)(_d,"0.23.2",function Mu(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,ee.registerVersion)(_d,"0.23.2","esm2017")}("Browser");function Ny(){return Ny=(0,h.Z)(function*(_,p,m){var E;const{BuildInfo:S}=xu();_e(p.sessionId,"AuthEvent did not contain a session ID");const N=yield function Ry(_){return Ga.apply(this,arguments)}(p.sessionId),H={};return On()?H.ibi=S.packageName:bt()?H.apn=S.packageName:we(_,"operation-not-supported-in-this-environment"),S.displayName&&(H.appDisplayName=S.displayName),H.sessionId=N,an(_,m,p.type,void 0,null!==(E=p.eventId)&&void 0!==E?E:void 0,H)}),Ny.apply(this,arguments)}function Vl(){return(Vl=(0,h.Z)(function*(_){const{BuildInfo:p}=xu(),m={};On()?m.iosBundleId=p.packageName:bt()?m.androidPackageName=p.packageName:we(_,"operation-not-supported-in-this-environment"),yield Xo(_,m)})).apply(this,arguments)}function Id(){return(Id=(0,h.Z)(function*(_,p,m){const{cordova:E}=xu();let S=()=>{};try{yield new Promise((N,H)=>{let X=null;function Ae(){var st;N();const Sn=null===(st=E.plugins.browsertab)||void 0===st?void 0:st.close;"function"==typeof Sn&&Sn(),"function"==typeof m?.close&&m.close()}function Be(){X||(X=window.setTimeout(()=>{H(te(_,"redirect-cancelled-by-user"))},2e3))}function rt(){"visible"===document?.visibilityState&&Be()}p.addPassiveListener(Ae),document.addEventListener("resume",Be,!1),bt()&&document.addEventListener("visibilitychange",rt,!1),S=()=>{p.removePassiveListener(Ae),document.removeEventListener("resume",Be,!1),document.removeEventListener("visibilitychange",rt,!1),X&&window.clearTimeout(X)}})}finally{S()}})).apply(this,arguments)}function Ga(){return(Ga=(0,h.Z)(function*(_){const p=function Oy(_){if(_e(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(_);const p=new ArrayBuffer(_.length),m=new Uint8Array(p);for(let E=0;E<_.length;E++)m[E]=_.charCodeAt(E);return m}(_),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Py extends Jo{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,h.Z)(function*(){yield p.initPromise})()}}function ky(_){return mf.apply(this,arguments)}function mf(){return(mf=(0,h.Z)(function*(_){const p=yield Vy()._get(ng(_));return p&&(yield Vy()._remove(ng(_))),p})).apply(this,arguments)}function Ly(){const _=[];for(let m=0;m<20;m++){const E=Math.floor(62*Math.random());_.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(E))}return _.join("")}function Vy(){return qn(Ho)}function ng(_){return $("authEvent",_.config.apiKey,_.name)}function By(_){if(!_?.includes("?"))return{};const[p,...m]=_.split("?");return(0,k.zd)(m.join("?"))}const F0=class iC{constructor(){this._redirectPersistence=zo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Qo,this._overrideRedirectResult=Ba}_initialize(p){var m=this;return(0,h.Z)(function*(){const E=p._key();let S=m.eventManagers.get(E);return S||(S=new Py(p),m.eventManagers.set(E,S),m.attachCallbackListeners(p,S)),S})()}_openPopup(p){we(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,E,S){var N=this;return(0,h.Z)(function*(){!function k0(_){var p,m,E,S,N,H,X,Ae,Be,rt;const st=xu();B("function"==typeof(null===(p=st?.universalLinks)||void 0===p?void 0:p.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),B(typeof(null===(m=st?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),B("function"==typeof(null===(N=null===(S=null===(E=st?.cordova)||void 0===E?void 0:E.plugins)||void 0===S?void 0:S.browsertab)||void 0===N?void 0:N.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),B("function"==typeof(null===(Ae=null===(X=null===(H=st?.cordova)||void 0===H?void 0:H.plugins)||void 0===X?void 0:X.browsertab)||void 0===Ae?void 0:Ae.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),B("function"==typeof(null===(rt=null===(Be=st?.cordova)||void 0===Be?void 0:Be.InAppBrowser)||void 0===rt?void 0:rt.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const H=yield N._initialize(p);yield H.initialized(),H.resetRedirect(),function Ol(){mr.clear()}(),yield N._originValidation(p);const X=function gf(_,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:Ly(),postBody:null,tenantId:_.tenantId,error:te(_,"no-auth-event")}}(p,E,S);yield function Ul(_,p){return Vy()._set(ng(_),p)}(p,X);const Ae=yield function Ed(_,p,m){return Ny.apply(this,arguments)}(p,X,m),Be=yield function nC(_){const{cordova:p}=xu();return new Promise(m=>{p.plugins.browsertab.isAvailable(E=>{let S=null;E?p.plugins.browsertab.openUrl(_):S=p.InAppBrowser.open(_,function qt(_=(0,k.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),m(S)})})}(Ae);return function bA(_,p,m){return Id.apply(this,arguments)}(p,H,Be)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function tC(_){return Vl.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:E,handleOpenURL:S,BuildInfo:N}=xu(),H=setTimeout((0,h.Z)(function*(){yield ky(p),m.onEvent(jy())}),500),X=function(){var rt=(0,h.Z)(function*(st){clearTimeout(H);const Sn=yield ky(p);let _s=null;Sn&&st?.url&&(_s=function Fy(_,p){var m,E;const S=function CA(_){const p=By(_),m=p.link?decodeURIComponent(p.link):void 0,E=By(m).link,S=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return By(S).link||S||E||m||_}(p);if(S.includes("/__/auth/callback")){const N=By(S),H=N.firebaseError?function Uy(_){try{return JSON.parse(_)}catch{return null}}(decodeURIComponent(N.firebaseError)):null,X=null===(E=null===(m=H?.code)||void 0===m?void 0:m.split("auth/"))||void 0===E?void 0:E[1],Ae=X?te(X):null;return Ae?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Ae,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:S,postBody:null}}return null}(Sn,st.url)),m.onEvent(_s||jy())});return function(Sn){return rt.apply(this,arguments)}}();typeof E<"u"&&"function"==typeof E.subscribe&&E.subscribe(null,X);const Ae=S,Be=`${N.packageName.toLowerCase()}://`;xu().handleOpenURL=function(){var rt=(0,h.Z)(function*(st){if(st.toLowerCase().startsWith(Be)&&X({url:st}),"function"==typeof Ae)try{Ae(st)}catch(Sn){console.error(Sn)}});return function(st){return rt.apply(this,arguments)}}()}};function jy(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:te("no-auth-event")}}function Ou(){var _;return(null===(_=self?.location)||void 0===_?void 0:_.protocol)||null}function Hy(_=(0,k.z$)()){return!("file:"!==Ou()&&"ionic:"!==Ou()&&"capacitor:"!==Ou()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function ig(){try{const _=self.localStorage,p=Qc();if(_)return _.setItem(p,"1"),_.removeItem(p),!function _f(_=(0,k.z$)()){return function vf(){return(0,k.w1)()&&11===document?.documentMode}()||function Cd(_=(0,k.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,k.hl)()}catch{return wf()&&(0,k.hl)()}return!1}function wf(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function sg(){return(function Bl(){return"http:"===Ou()||"https:"===Ou()}()||(0,k.ru)()||Hy())&&!function rg(){return(0,k.b$)()||(0,k.UG)()}()&&ig()&&!wf()}function Ef(){return Hy()&&typeof document<"u"}function Dd(){return(Dd=(0,h.Z)(function*(){return!!Ef()&&new Promise(_=>{const p=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),_(!0)})})})).apply(this,arguments)}const _i={LOCAL:"local",NONE:"none",SESSION:"session"},jl=B,If="persistence";function ii(_){return $l.apply(this,arguments)}function $l(){return($l=(0,h.Z)(function*(_){yield _._initializationPromise;const p=Td(),m=$(If,_.config.apiKey,_.name);p&&p.setItem(m,_._getPersistence())})).apply(this,arguments)}function Td(){var _;try{return(null===(_=function L0(){return typeof window<"u"?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch{return null}}const si=B;class zi{constructor(){this.browserResolver=qn(vi),this.cordovaResolver=qn(F0),this.underlyingResolver=null,this._redirectPersistence=zo,this._completeRedirectFn=Qo,this._overrideRedirectResult=Ba}_initialize(p){var m=this;return(0,h.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,E,S){var N=this;return(0,h.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openPopup(p,m,E,S)})()}_openRedirect(p,m,E,S){var N=this;return(0,h.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openRedirect(p,m,E,S)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Ef()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return si(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,h.Z)(function*(){if(p.underlyingResolver)return;const m=yield function og(){return Dd.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function ag(_){return _.unwrap()}function Wy(_){return V0(_)}function V0(_){const{_tokenResponse:p}=_ instanceof k.ZR?_.customData:_;if(!p)return null;if(!(_ instanceof k.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return xt.credentialFromResult(_);const m=p.providerId;if(!m||m===fe.PASSWORD)return null;let E;switch(m){case fe.GOOGLE:E=Fi;break;case fe.FACEBOOK:E=Qs;break;case fe.GITHUB:E=dl;break;case fe.TWITTER:E=hl;break;default:const{oauthIdToken:S,oauthAccessToken:N,oauthTokenSecret:H,pendingToken:X,nonce:Ae}=p;return N||H||S||X?X?m.startsWith("saml.")?jt._create(m,X):Et._fromParams({providerId:m,signInMethod:m,pendingToken:X,idToken:S,accessToken:N}):new Os(m).credential({idToken:S,accessToken:N,rawNonce:Ae}):null}return _ instanceof k.ZR?E.credentialFromError(_):E.credentialFromResult(_)}function qr(_,p){return p.catch(m=>{throw m instanceof k.ZR&&function Ky(_,p){var m;const E=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===p?.code)p.resolver=new Zy(_,function Kh(_,p){var m;const E=(0,k.m9)(_),S=p;return B(p.customData.operationType,E,"argument-error"),B(null===(m=S.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,E,"argument-error"),Pa._fromError(E,S)}(_,p));else if(E){const S=V0(p),N=p;S&&(N.credential=S,N.tenantId=E.tenantId||void 0,N.email=E.email||void 0,N.phoneNumber=E.phoneNumber||void 0)}}(_,m),m}).then(m=>{const S=m.user;return{operationType:m.operationType,credential:Wy(m),additionalUserInfo:Kp(m),user:wi.getOrCreate(S)}})}function ug(_,p){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,h.Z)(function*(_,p){const m=yield p;return{verificationId:m.verificationId,confirm:E=>qr(_,m.confirm(E))}})).apply(this,arguments)}class Zy{constructor(p,m){this.resolver=m,this.auth=function qy(_){return _.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return qr(ag(this.auth),this.resolver.resolveSignIn(p))}}class wi{constructor(p){this._delegate=p,this.multiFactor=function Sl(_){const p=(0,k.m9)(_);return $o.has(p)||$o.set(p,jo._fromUser(p)),$o.get(p)}(p)}static getOrCreate(p){return wi.USER_MAP.has(p)||wi.USER_MAP.set(p,new wi(p)),wi.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,h.Z)(function*(){return qr(m.auth,wy(m._delegate,p))})()}linkWithPhoneNumber(p,m){var E=this;return(0,h.Z)(function*(){return ug(E.auth,function ro(_,p,m){return bu.apply(this,arguments)}(E._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,h.Z)(function*(){return qr(m.auth,function Ty(_,p,m){return ts.apply(this,arguments)}(m._delegate,p,zi))})()}linkWithRedirect(p){var m=this;return(0,h.Z)(function*(){return yield ii(Zn(m.auth)),df(m._delegate,p,zi)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,h.Z)(function*(){return qr(m.auth,Ey(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return ug(this.auth,function Va(_,p,m){return io.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return qr(this.auth,function ud(_,p,m){return Wo.apply(this,arguments)}(this._delegate,p,zi))}reauthenticateWithRedirect(p){var m=this;return(0,h.Z)(function*(){return yield ii(Zn(m.auth)),dd(m._delegate,p,zi)})()}sendEmailVerification(p){return function El(_,p){return Ra.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,h.Z)(function*(){return yield function Fo(_,p){return mi.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function Hh(_,p){return Wp((0,k.m9)(_),p,null)}(this._delegate,p)}updatePassword(p){return function zh(_,p){return Wp((0,k.m9)(_),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function ao(_,p){return Rr.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function N0(_,p){return Il.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function Gc(_,p,m){return Xs.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}wi.USER_MAP=new WeakMap;const Pu=B;let Ad=(()=>{class _{constructor(m,E){if(this.app=m,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=m.options;Pu(S,"invalid-api-key",{appName:m.name}),Pu(S,"invalid-api-key",{appName:m.name});const N=typeof window<"u"?zi:void 0;this._delegate=E.initialize({options:{persistence:Hl(S,m.name),popupRedirectResolver:N}}),this._delegate._updateErrorMap(Ke),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?wi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,E){!function ei(_,p,m){const E=Zn(_);B(E._canInitEmulator,E,"emulator-config-failed"),B(/^https?:\/\//.test(p),E,"invalid-emulator-scheme");const S=!!m?.disableWarnings,N=Ca(p),{host:H,port:X}=function Pc(_){const p=Ca(_),m=/(\/\/)?([^?#/]+)/.exec(_.substr(p.length));if(!m)return{host:"",port:null};const E=m[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(E);if(S){const N=S[1];return{host:N,port:Oh(E.substr(N.length+1))}}{const[N,H]=E.split(":");return{host:N,port:Oh(H)}}}(p);E.config.emulator={url:`${N}//${H}${null===X?"":`:${X}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:H,port:X,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function yy(){function _(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,m,E)}applyActionCode(m){return function Bh(_,p){return Hr.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return ml(this._delegate,m)}confirmPasswordReset(m,E){return function Lo(_,p,m){return gl.apply(this,arguments)}(this._delegate,m,E)}createUserWithEmailAndPassword(m,E){var S=this;return(0,h.Z)(function*(){return qr(S._delegate,function Hp(_,p,m){return vl.apply(this,arguments)}(S._delegate,m,E))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function jh(_,p){return $h.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function zp(_,p){const m=In.parseLink(p);return"EMAIL_SIGNIN"===m?.operation}(0,m)}getRedirectResult(){var m=this;return(0,h.Z)(function*(){Pu(sg(),m._delegate,"operation-not-supported-in-this-environment");const E=yield function pd(_,p){return ja.apply(this,arguments)}(m._delegate,zi);return E?qr(m._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function bd(_,p){Zn(_)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,E,S){const{next:N,error:H,complete:X}=Yy(m,E,S);return this._delegate.onAuthStateChanged(N,H,X)}onIdTokenChanged(m,E,S){const{next:N,error:H,complete:X}=Yy(m,E,S);return this._delegate.onIdTokenChanged(N,H,X)}sendSignInLinkToEmail(m,E){return function Vo(_,p,m){return Vn.apply(this,arguments)}(this._delegate,m,E)}sendPasswordResetEmail(m,E){return function x0(_,p,m){return mu.apply(this,arguments)}(this._delegate,m,E||void 0)}setPersistence(m){var E=this;return(0,h.Z)(function*(){let S;switch(function zy(_,p){jl(Object.values(_i).includes(p),_,"invalid-persistence-type"),(0,k.b$)()?jl(p!==_i.SESSION,_,"unsupported-persistence-type"):(0,k.UG)()?jl(p===_i.NONE,_,"unsupported-persistence-type"):wf()?jl(p===_i.NONE||p===_i.LOCAL&&(0,k.hl)(),_,"unsupported-persistence-type"):jl(p===_i.NONE||ig(),_,"unsupported-persistence-type")}(E._delegate,m),m){case _i.SESSION:S=zo;break;case _i.LOCAL:S=(yield qn(qo)._isAvailable())?qo:Ho;break;case _i.NONE:S=Ri;break;default:return we("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return qr(this._delegate,function Tr(_){return Bp.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return qr(this._delegate,jc(this._delegate,m))}signInWithCustomToken(m){return qr(this._delegate,function Uh(_,p){return Ps.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,E){return qr(this._delegate,function ps(_,p,m){return jc((0,k.m9)(_),Oo.credential(p,m))}(this._delegate,m,E))}signInWithEmailLink(m,E){return qr(this._delegate,function zr(_,p,m){return _l.apply(this,arguments)}(this._delegate,m,E))}signInWithPhoneNumber(m,E){return ug(this._delegate,function gs(_,p,m){return no.apply(this,arguments)}(this._delegate,m,E))}signInWithPopup(m){var E=this;return(0,h.Z)(function*(){return Pu(sg(),E._delegate,"operation-not-supported-in-this-environment"),qr(E._delegate,function uf(_,p,m){return lf.apply(this,arguments)}(E._delegate,m,zi))})()}signInWithRedirect(m){var E=this;return(0,h.Z)(function*(){return Pu(sg(),E._delegate,"operation-not-supported-in-this-environment"),yield ii(E._delegate),Cu(E._delegate,m,zi)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function zc(_,p){return Na.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=_i,_})();function Yy(_,p,m){let E=_;"function"!=typeof _&&({next:E,error:p,complete:m}=_);const S=E;return{next:H=>S(H&&wi.getOrCreate(H)),error:p,complete:m}}function Hl(_,p){const m=function Gy(_,p){const m=Td();if(!m)return[];const E=$(If,_,p);switch(m.getItem(E)){case _i.NONE:return[Ri];case _i.LOCAL:return[qo,zo];case _i.SESSION:return[zo];default:return[]}}(_,p);if(typeof self<"u"&&!m.includes(qo)&&m.push(qo),typeof window<"u")for(const E of[Ho,zo])m.includes(E)||m.push(E);return m.includes(Ri)||m.push(Ri),m}class lg{constructor(){this.providerId="phone",this._delegate=new xt(ag(J.Z.auth()))}static credential(p,m){return xt.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}lg.PHONE_SIGN_IN_METHOD=xt.PHONE_SIGN_IN_METHOD,lg.PROVIDER_ID=xt.PROVIDER_ID;const U0=B;class zl{constructor(p,m,E=J.Z.app()){var S;U0(null===(S=E.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new sf(p,m,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Qy(_){_.INTERNAL.registerComponent(new ge.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),E=p.getProvider("auth");return new Ad(m,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Oo,FacebookAuthProvider:Qs,GithubAuthProvider:dl,GoogleAuthProvider:Fi,OAuthProvider:Os,SAMLAuthProvider:Sa,PhoneAuthProvider:lg,PhoneMultiFactorGenerator:Xb,RecaptchaVerifier:zl,TwitterAuthProvider:hl,Auth:Ad,AuthCredential:No,Error:k.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.4.2")}(J.Z)},3106:(lt,Ie,O)=>{O.d(Ie,{Z:()=>Ke});var h=O(9058),J=O(4537),k=O(534),ee=O(7879);class re{constructor($e,Re){this._delegate=$e,this.firebase=Re,(0,k._addComponent)($e,new J.wA("app-compat",()=>this,"PUBLIC")),this.container=$e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled($e){this._delegate.automaticDataCollectionEnabled=$e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise($e=>{this._delegate.checkDestroyed(),$e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService($e,Re=k._DEFAULT_ENTRY_NAME){var vt;this._delegate.checkDestroyed();const ht=this._delegate.container.getProvider($e);return!ht.isInitialized()&&"EXPLICIT"===(null===(vt=ht.getComponent())||void 0===vt?void 0:vt.instantiationMode)&&ht.initialize(),ht.getImmediate({identifier:Re})}_removeServiceInstance($e,Re=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider($e).clearInstance(Re)}_addComponent($e){(0,k._addComponent)(this._delegate,$e)}_addOrOverwriteComponent($e){(0,k._addOrOverwriteComponent)(this._delegate,$e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ge=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),U=function fe(){const xe=function Me(xe){const $e={},Re={__esModule:!0,initializeApp:function ie(Ne,We={}){const B=k.initializeApp(Ne,We);if((0,h.r3)($e,B.name))return $e[B.name];const he=new xe(B,Re);return $e[B.name]=he,he},app:ht,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function te(Ne){const We=Ne.name,B=We.replace("-compat","");if(k._registerComponent(Ne)&&"PUBLIC"===Ne.type){const he=(_e=ht())=>{if("function"!=typeof _e[B])throw ge.create("invalid-app-argument",{appName:We});return _e[B]()};void 0!==Ne.serviceProps&&(0,h.ZB)(he,Ne.serviceProps),Re[B]=he,xe.prototype[B]=function(..._e){return this._getService.bind(this,We).apply(this,Ne.multipleInstances?_e:[])}}return"PUBLIC"===Ne.type?Re[B]:null},removeApp:function vt(Ne){delete $e[Ne]},useAsService:function be(Ne,We){return"serverAuth"===We?null:We},modularAPIs:k}};function ht(Ne){if(!(0,h.r3)($e,Ne=Ne||k._DEFAULT_ENTRY_NAME))throw ge.create("no-app",{appName:Ne});return $e[Ne]}return Re.default=Re,Object.defineProperty(Re,"apps",{get:function we(){return Object.keys($e).map(Ne=>$e[Ne])}}),ht.App=xe,Re}(re);return xe.INTERNAL=Object.assign(Object.assign({},xe.INTERNAL),{createFirebaseNamespace:fe,extendNamespace:function $e(Re){(0,h.ZB)(xe,Re)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),xe}(),z=new ee.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const xe=self.firebase.SDK_VERSION;xe&&xe.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ke=U;!function Te(xe){(0,k.registerVersion)("@firebase/app-compat","0.2.13",xe)}()},534:(lt,Ie,O)=>{O.r(Ie),O.d(Ie,{FirebaseError:()=>ee.ZR,SDK_VERSION:()=>So,_DEFAULT_ENTRY_NAME:()=>pt,_addComponent:()=>Cn,_addOrOverwriteComponent:()=>Qr,_apps:()=>Rt,_clearComponents:()=>tn,_components:()=>fn,_getProvider:()=>Ir,_registerComponent:()=>rn,_removeServiceInstance:()=>lu,deleteApp:()=>Ji,getApp:()=>xi,getApps:()=>Zs,initializeApp:()=>Ao,onLog:()=>Xr,registerVersion:()=>ur,setLogLevel:()=>qn});var h=O(5861),J=O(4537),k=O(7879),ee=O(9058);const re=(ce,ne)=>ne.some(Se=>ce instanceof Se);let de,ge;const U=new WeakMap,z=new WeakMap,Q=new WeakMap,ke=new WeakMap,Te=new WeakMap;let $e={get(ce,ne,Se){if(ce instanceof IDBTransaction){if("done"===ne)return z.get(ce);if("objectStoreNames"===ne)return ce.objectStoreNames||Q.get(ce);if("store"===ne)return Se.objectStoreNames[1]?void 0:Se.objectStore(Se.objectStoreNames[0])}return ie(ce[ne])},set:(ce,ne,Se)=>(ce[ne]=Se,!0),has:(ce,ne)=>ce instanceof IDBTransaction&&("done"===ne||"store"===ne)||ne in ce};function ht(ce){return"function"==typeof ce?function vt(ce){return ce!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function fe(){return ge||(ge=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ce)?function(...ne){return ce.apply(we(this),ne),ie(U.get(this))}:function(...ne){return ie(ce.apply(we(this),ne))}:function(ne,...Se){const it=ce.call(we(this),ne,...Se);return Q.set(it,ne.sort?ne.sort():[ne]),ie(it)}}(ce):(ce instanceof IDBTransaction&&function xe(ce){if(z.has(ce))return;const ne=new Promise((Se,it)=>{const qe=()=>{ce.removeEventListener("complete",Pt),ce.removeEventListener("error",Jt),ce.removeEventListener("abort",Jt)},Pt=()=>{Se(),qe()},Jt=()=>{it(ce.error||new DOMException("AbortError","AbortError")),qe()};ce.addEventListener("complete",Pt),ce.addEventListener("error",Jt),ce.addEventListener("abort",Jt)});z.set(ce,ne)}(ce),re(ce,function Me(){return de||(de=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ce,$e):ce)}function ie(ce){if(ce instanceof IDBRequest)return function Ke(ce){const ne=new Promise((Se,it)=>{const qe=()=>{ce.removeEventListener("success",Pt),ce.removeEventListener("error",Jt)},Pt=()=>{Se(ie(ce.result)),qe()},Jt=()=>{it(ce.error),qe()};ce.addEventListener("success",Pt),ce.addEventListener("error",Jt)});return ne.then(Se=>{Se instanceof IDBCursor&&U.set(Se,ce)}).catch(()=>{}),Te.set(ne,ce),ne}(ce);if(ke.has(ce))return ke.get(ce);const ne=ht(ce);return ne!==ce&&(ke.set(ce,ne),Te.set(ne,ce)),ne}const we=ce=>Te.get(ce),Ne=["get","getKey","getAll","getAllKeys","count"],We=["put","add","delete","clear"],B=new Map;function he(ce,ne){if(!(ce instanceof IDBDatabase)||ne in ce||"string"!=typeof ne)return;if(B.get(ne))return B.get(ne);const Se=ne.replace(/FromIndex$/,""),it=ne!==Se,qe=We.includes(Se);if(!(Se in(it?IDBIndex:IDBObjectStore).prototype)||!qe&&!Ne.includes(Se))return;const Pt=function(){var Jt=(0,h.Z)(function*(Wn,...Kn){const br=this.transaction(Wn,qe?"readwrite":"readonly");let fs=br.store;return it&&(fs=fs.index(Kn.shift())),(yield Promise.all([fs[Se](...Kn),qe&&br.done]))[0]});return function(Kn){return Jt.apply(this,arguments)}}();return B.set(ne,Pt),Pt}!function Re(ce){$e=ce($e)}(ce=>({...ce,get:(ne,Se,it)=>he(ne,Se)||ce.get(ne,Se,it),has:(ne,Se)=>!!he(ne,Se)||ce.has(ne,Se)}));class _e{constructor(ne){this.container=ne}getPlatformInfoString(){return this.container.getProviders().map(Se=>{if(function He(ce){const ne=ce.getComponent();return"VERSION"===ne?.type}(Se)){const it=Se.getImmediate();return`${it.library}/${it.version}`}return null}).filter(Se=>Se).join(" ")}}const nt="@firebase/app",yt=new k.Yd("@firebase/app"),pt="[DEFAULT]",Ht={[nt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Rt=new Map,fn=new Map;function Cn(ce,ne){try{ce.container.addComponent(ne)}catch(Se){yt.debug(`Component ${ne.name} failed to register with FirebaseApp ${ce.name}`,Se)}}function Qr(ce,ne){ce.container.addOrOverwriteComponent(ne)}function rn(ce){const ne=ce.name;if(fn.has(ne))return yt.debug(`There were multiple attempts to register component ${ne}.`),!1;fn.set(ne,ce);for(const Se of Rt.values())Cn(Se,ce);return!0}function Ir(ce,ne){const Se=ce.container.getProvider("heartbeat").getImmediate({optional:!0});return Se&&Se.triggerHeartbeat(),ce.container.getProvider(ne)}function lu(ce,ne,Se=pt){Ir(ce,ne).clearInstance(Se)}function tn(){fn.clear()}const zt=new ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ss{constructor(ne,Se,it){this._isDeleted=!1,this._options=Object.assign({},ne),this._config=Object.assign({},Se),this._name=Se.name,this._automaticDataCollectionEnabled=Se.automaticDataCollectionEnabled,this._container=it,this.container.addComponent(new J.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ne){this.checkDestroyed(),this._automaticDataCollectionEnabled=ne}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ne){this._isDeleted=ne}checkDestroyed(){if(this.isDeleted)throw zt.create("app-deleted",{appName:this._name})}}const So="9.23.0";function Ao(ce,ne={}){let Se=ce;"object"!=typeof ne&&(ne={name:ne});const it=Object.assign({name:pt,automaticDataCollectionEnabled:!1},ne),qe=it.name;if("string"!=typeof qe||!qe)throw zt.create("bad-app-name",{appName:String(qe)});if(Se||(Se=(0,ee.aH)()),!Se)throw zt.create("no-options");const Pt=Rt.get(qe);if(Pt){if((0,ee.vZ)(Se,Pt.options)&&(0,ee.vZ)(it,Pt.config))return Pt;throw zt.create("duplicate-app",{appName:qe})}const Jt=new J.H0(qe);for(const Kn of fn.values())Jt.addComponent(Kn);const Wn=new Ss(Se,it,Jt);return Rt.set(qe,Wn),Wn}function xi(ce=pt){const ne=Rt.get(ce);if(!ne&&ce===pt&&(0,ee.aH)())return Ao();if(!ne)throw zt.create("no-app",{appName:ce});return ne}function Zs(){return Array.from(Rt.values())}function Ji(ce){return ar.apply(this,arguments)}function ar(){return(ar=(0,h.Z)(function*(ce){const ne=ce.name;Rt.has(ne)&&(Rt.delete(ne),yield Promise.all(ce.container.getProviders().map(Se=>Se.delete())),ce.isDeleted=!0)})).apply(this,arguments)}function ur(ce,ne,Se){var it;let qe=null!==(it=Ht[ce])&&void 0!==it?it:ce;Se&&(qe+=`-${Se}`);const Pt=qe.match(/\s|\//),Jt=ne.match(/\s|\//);if(Pt||Jt){const Wn=[`Unable to register library "${qe}" with version "${ne}":`];return Pt&&Wn.push(`library name "${qe}" contains illegal characters (whitespace or "/")`),Pt&&Jt&&Wn.push("and"),Jt&&Wn.push(`version name "${ne}" contains illegal characters (whitespace or "/")`),void yt.warn(Wn.join(" "))}rn(new J.wA(`${qe}-version`,()=>({library:qe,version:ne}),"VERSION"))}function Xr(ce,ne){if(null!==ce&&"function"!=typeof ce)throw zt.create("invalid-log-argument");(0,k.Am)(ce,ne)}function qn(ce){(0,k.Ub)(ce)}const Ni="firebase-heartbeat-database",Ri=1,$="firebase-heartbeat-store";let j=null;function K(){return j||(j=function te(ce,ne,{blocked:Se,upgrade:it,blocking:qe,terminated:Pt}={}){const Jt=indexedDB.open(ce,ne),Wn=ie(Jt);return it&&Jt.addEventListener("upgradeneeded",Kn=>{it(ie(Jt.result),Kn.oldVersion,Kn.newVersion,ie(Jt.transaction),Kn)}),Se&&Jt.addEventListener("blocked",Kn=>Se(Kn.oldVersion,Kn.newVersion,Kn)),Wn.then(Kn=>{Pt&&Kn.addEventListener("close",()=>Pt()),qe&&Kn.addEventListener("versionchange",br=>qe(br.oldVersion,br.newVersion,br))}).catch(()=>{}),Wn}(Ni,Ri,{upgrade:(ce,ne)=>{0===ne&&ce.createObjectStore($)}}).catch(ce=>{throw zt.create("idb-open",{originalErrorMessage:ce.message})})),j}function oe(){return(oe=(0,h.Z)(function*(ce){try{return yield(yield K()).transaction($).objectStore($).get(bt(ce))}catch(ne){if(ne instanceof ee.ZR)yt.warn(ne.message);else{const Se=zt.create("idb-get",{originalErrorMessage:ne?.message});yt.warn(Se.message)}}})).apply(this,arguments)}function Ye(ce,ne){return St.apply(this,arguments)}function St(){return(St=(0,h.Z)(function*(ce,ne){try{const it=(yield K()).transaction($,"readwrite");yield it.objectStore($).put(ne,bt(ce)),yield it.done}catch(Se){if(Se instanceof ee.ZR)yt.warn(Se.message);else{const it=zt.create("idb-set",{originalErrorMessage:Se?.message});yt.warn(it.message)}}})).apply(this,arguments)}function bt(ce){return`${ce.name}!${ce.options.appId}`}class On{constructor(ne){this.container=ne,this._heartbeatsCache=null;const Se=this.container.getProvider("app").getImmediate();this._storage=new hs(Se),this._heartbeatsCachePromise=this._storage.read().then(it=>(this._heartbeatsCache=it,it))}triggerHeartbeat(){var ne=this;return(0,h.Z)(function*(){const it=ne.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),qe=qt();if(null===ne._heartbeatsCache&&(ne._heartbeatsCache=yield ne._heartbeatsCachePromise),ne._heartbeatsCache.lastSentHeartbeatDate!==qe&&!ne._heartbeatsCache.heartbeats.some(Pt=>Pt.date===qe))return ne._heartbeatsCache.heartbeats.push({date:qe,agent:it}),ne._heartbeatsCache.heartbeats=ne._heartbeatsCache.heartbeats.filter(Pt=>{const Jt=new Date(Pt.date).valueOf();return Date.now()-Jt<=2592e6}),ne._storage.overwrite(ne._heartbeatsCache)})()}getHeartbeatsHeader(){var ne=this;return(0,h.Z)(function*(){if(null===ne._heartbeatsCache&&(yield ne._heartbeatsCachePromise),null===ne._heartbeatsCache||0===ne._heartbeatsCache.heartbeats.length)return"";const Se=qt(),{heartbeatsToSend:it,unsentEntries:qe}=function Xn(ce,ne=1024){const Se=[];let it=ce.slice();for(const qe of ce){const Pt=Se.find(Jt=>Jt.agent===qe.agent);if(Pt){if(Pt.dates.push(qe.date),As(Se)>ne){Pt.dates.pop();break}}else if(Se.push({agent:qe.agent,dates:[qe.date]}),As(Se)>ne){Se.pop();break}it=it.slice(1)}return{heartbeatsToSend:Se,unsentEntries:it}}(ne._heartbeatsCache.heartbeats),Pt=(0,ee.L)(JSON.stringify({version:2,heartbeats:it}));return ne._heartbeatsCache.lastSentHeartbeatDate=Se,qe.length>0?(ne._heartbeatsCache.heartbeats=qe,yield ne._storage.overwrite(ne._heartbeatsCache)):(ne._heartbeatsCache.heartbeats=[],ne._storage.overwrite(ne._heartbeatsCache)),Pt})()}}function qt(){return(new Date).toISOString().substring(0,10)}class hs{constructor(ne){this.app=ne,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,ee.hl)()&&(0,ee.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ne=this;return(0,h.Z)(function*(){return(yield ne._canUseIndexedDBPromise)&&(yield function Ee(ce){return oe.apply(this,arguments)}(ne.app))||{heartbeats:[]}})()}overwrite(ne){var Se=this;return(0,h.Z)(function*(){var it;if(yield Se._canUseIndexedDBPromise){const Pt=yield Se.read();return Ye(Se.app,{lastSentHeartbeatDate:null!==(it=ne.lastSentHeartbeatDate)&&void 0!==it?it:Pt.lastSentHeartbeatDate,heartbeats:ne.heartbeats})}})()}add(ne){var Se=this;return(0,h.Z)(function*(){var it;if(yield Se._canUseIndexedDBPromise){const Pt=yield Se.read();return Ye(Se.app,{lastSentHeartbeatDate:null!==(it=ne.lastSentHeartbeatDate)&&void 0!==it?it:Pt.lastSentHeartbeatDate,heartbeats:[...Pt.heartbeats,...ne.heartbeats]})}})()}}function As(ce){return(0,ee.L)(JSON.stringify({version:2,heartbeats:ce})).length}!function cu(ce){rn(new J.wA("platform-logger",ne=>new _e(ne),"PRIVATE")),rn(new J.wA("heartbeat",ne=>new On(ne),"PRIVATE")),ur(nt,"0.9.13",ce),ur(nt,"0.9.13","esm2017"),ur("fire-js","")}("")},4537:(lt,Ie,O)=>{O.d(Ie,{H0:()=>Me,wA:()=>k});var h=O(5861),J=O(9058);class k{constructor(U,z,Q){this.name=U,this.instanceFactory=z,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(U){return this.instantiationMode=U,this}setMultipleInstances(U){return this.multipleInstances=U,this}setServiceProps(U){return this.serviceProps=U,this}setInstanceCreatedCallback(U){return this.onInstanceCreated=U,this}}const ee="[DEFAULT]";class re{constructor(U,z){this.name=U,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(U){const z=this.normalizeInstanceIdentifier(U);if(!this.instancesDeferred.has(z)){const Q=new J.BH;if(this.instancesDeferred.set(z,Q),this.isInitialized(z)||this.shouldAutoInitialize())try{const ke=this.getOrInitializeService({instanceIdentifier:z});ke&&Q.resolve(ke)}catch{}}return this.instancesDeferred.get(z).promise}getImmediate(U){var z;const Q=this.normalizeInstanceIdentifier(U?.identifier),ke=null!==(z=U?.optional)&&void 0!==z&&z;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Te){if(ke)return null;throw Te}}getComponent(){return this.component}setComponent(U){if(U.name!==this.name)throw Error(`Mismatching Component ${U.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=U,this.shouldAutoInitialize()){if(function ge(fe){return"EAGER"===fe.instantiationMode}(U))try{this.getOrInitializeService({instanceIdentifier:ee})}catch{}for(const[z,Q]of this.instancesDeferred.entries()){const ke=this.normalizeInstanceIdentifier(z);try{const Te=this.getOrInitializeService({instanceIdentifier:ke});Q.resolve(Te)}catch{}}}}clearInstance(U=ee){this.instancesDeferred.delete(U),this.instancesOptions.delete(U),this.instances.delete(U)}delete(){var U=this;return(0,h.Z)(function*(){const z=Array.from(U.instances.values());yield Promise.all([...z.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...z.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(U=ee){return this.instances.has(U)}getOptions(U=ee){return this.instancesOptions.get(U)||{}}initialize(U={}){const{options:z={}}=U,Q=this.normalizeInstanceIdentifier(U.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ke=this.getOrInitializeService({instanceIdentifier:Q,options:z});for(const[Te,Ke]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(Te)&&Ke.resolve(ke);return ke}onInit(U,z){var Q;const ke=this.normalizeInstanceIdentifier(z),Te=null!==(Q=this.onInitCallbacks.get(ke))&&void 0!==Q?Q:new Set;Te.add(U),this.onInitCallbacks.set(ke,Te);const Ke=this.instances.get(ke);return Ke&&U(Ke,ke),()=>{Te.delete(U)}}invokeOnInitCallbacks(U,z){const Q=this.onInitCallbacks.get(z);if(Q)for(const ke of Q)try{ke(U,z)}catch{}}getOrInitializeService({instanceIdentifier:U,options:z={}}){let Q=this.instances.get(U);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(fe=U,fe===ee?void 0:fe),options:z}),this.instances.set(U,Q),this.instancesOptions.set(U,z),this.invokeOnInitCallbacks(Q,U),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,U,Q)}catch{}var fe;return Q||null}normalizeInstanceIdentifier(U=ee){return this.component?this.component.multipleInstances?U:ee:U}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Me{constructor(U){this.name=U,this.providers=new Map}addComponent(U){const z=this.getProvider(U.name);if(z.isComponentSet())throw new Error(`Component ${U.name} has already been registered with ${this.name}`);z.setComponent(U)}addOrOverwriteComponent(U){this.getProvider(U.name).isComponentSet()&&this.providers.delete(U.name),this.addComponent(U)}getProvider(U){if(this.providers.has(U))return this.providers.get(U);const z=new re(U,this);return this.providers.set(U,z),z}getProviders(){return Array.from(this.providers.values())}}},7879:(lt,Ie,O)=>{O.d(Ie,{Am:()=>fe,Ub:()=>Me,Yd:()=>ge,in:()=>J});const h=[];var J=function(U){return U[U.DEBUG=0]="DEBUG",U[U.VERBOSE=1]="VERBOSE",U[U.INFO=2]="INFO",U[U.WARN=3]="WARN",U[U.ERROR=4]="ERROR",U[U.SILENT=5]="SILENT",U}(J||{});const k={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},ee=J.INFO,re={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},de=(U,z,...Q)=>{if(z<U.logLevel)return;const ke=(new Date).toISOString(),Te=re[z];if(!Te)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[Te](`[${ke}]  ${U.name}:`,...Q)};class ge{constructor(z){this.name=z,this._logLevel=ee,this._logHandler=de,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in J))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?k[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...z),this._logHandler(this,J.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...z),this._logHandler(this,J.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,J.INFO,...z),this._logHandler(this,J.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,J.WARN,...z),this._logHandler(this,J.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...z),this._logHandler(this,J.ERROR,...z)}}function Me(U){h.forEach(z=>{z.setLogLevel(U)})}function fe(U,z){for(const Q of h){let ke=null;z&&z.level&&(ke=k[z.level]),Q.userLogHandler=null===U?null:(Te,Ke,...xe)=>{const $e=xe.map(Re=>{if(null==Re)return null;if("string"==typeof Re)return Re;if("number"==typeof Re||"boolean"==typeof Re)return Re.toString();if(Re instanceof Error)return Re.message;try{return JSON.stringify(Re)}catch{return null}}).filter(Re=>Re).join(" ");Ke>=(ke??Te.logLevel)&&U({level:J[Ke].toLowerCase(),message:$e,args:xe,type:Te.name})}}}},5861:(lt,Ie,O)=>{function h(k,ee,re,de,ge,Me,fe){try{var U=k[Me](fe),z=U.value}catch(Q){return void re(Q)}U.done?ee(z):Promise.resolve(z).then(de,ge)}function J(k){return function(){var ee=this,re=arguments;return new Promise(function(de,ge){var Me=k.apply(ee,re);function fe(z){h(Me,de,ge,fe,U,"next",z)}function U(z){h(Me,de,ge,fe,U,"throw",z)}fe(void 0)})}}O.d(Ie,{Z:()=>J})}},lt=>{lt(lt.s=2407)}]);